2017-01-07 00:26:48,470 [4992] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 00:26:48,510 [4992] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 00:26:48,636 [4992] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 00:26:48,660 [4992] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 00:26:48,665 [4992] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 00:26:48,675 [4992] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 00:26:59,849 [5408] DEBUG Servicesys_user - 获取实体对象
2017-01-07 00:26:59,856 [5408] DEBUG Sys - select sys_user.* from sys_user where  UserCode =  'super'and Password =  'xxj'and IsEnable =  'True'
2017-01-07 00:26:59,977 [5408] DEBUG Sys - 
update sys_user
set LoginCount = isnull(LoginCount,0) + 1
   ,LastLoginDate = getdate()
where UserCode = 'super' 
2017-01-07 00:27:00,048 [5408] DEBUG Sys - insert into sys_loginHistory([UserCode],[UserName],[HostName],[HostIP],[LoginCity],[LoginDate]) values('super','许薛军','170KOLDN5WNNJFX','localhost','广东省阳江市','2017/1/7 0:27:00')
2017-01-07 00:27:00,090 [5408] DEBUG ServiceProjectInfo - 获取实体对象
2017-01-07 00:27:00,090 [5408] DEBUG Pyn - select ProjectInfo.* from ProjectInfo where  ProjectCode =  'HZ2016353344571'
2017-01-07 00:27:00,165 [7596] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2017-01-07 00:27:01,384 [5408] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2017-01-07 00:27:10,260 [7792] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Mms/receive/Index','/Mms/receive')
2017-01-07 00:27:10,282 [7792] DEBUG Servicemms_warehouse - 获取动态列表
2017-01-07 00:27:10,283 [7792] DEBUG Mms - select WarehouseCode as value,WarehouseName as text from mms_warehouse where  ProjectCode =  'HZ2016353344571'
2017-01-07 00:27:10,329 [7792] DEBUG Servicesys_code - 获取动态列表
2017-01-07 00:27:10,330 [7792] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'SupplyType'
2017-01-07 00:27:11,367 [5408] DEBUG Servicemms_receive - 获取动态列表
2017-01-07 00:27:11,367 [5408] DEBUG Mms - select top 20 
        A.*, B.ProjectName, C.MaterialTypeName, D.WarehouseName as WarehouseName, E.MerchantsName AS SupplierName
     from 
        mms_receive A
        left join mms_project       B on B.ProjectCode      = A.ProjectCode
        left join mms_materialType  C on C.MaterialType = A.MaterialType
        left join mms_warehouse         D on D.WarehouseCode       = A.WarehouseCode
        left join mms_merchants     E on E.MerchantsCode    = A.SupplierCode
     where  A.ProjectCode =  'HZ2016353344571' order by A.BillNo
2017-01-07 00:27:11,519 [5408] DEBUG Mms - select count(*) from ( select 
        A.*, B.ProjectName, C.MaterialTypeName, D.WarehouseName as WarehouseName, E.MerchantsName AS SupplierName
     from 
        mms_receive A
        left join mms_project       B on B.ProjectCode      = A.ProjectCode
        left join mms_materialType  C on C.MaterialType = A.MaterialType
        left join mms_warehouse         D on D.WarehouseCode       = A.WarehouseCode
        left join mms_merchants     E on E.MerchantsCode    = A.SupplierCode
     where  A.ProjectCode =  'HZ2016353344571' ) tb_temp
2017-01-07 00:28:13,180 [4848] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Mms/receive/Index','/Mms/receive')
2017-01-07 00:28:13,182 [4848] DEBUG Servicemms_warehouse - 获取动态列表
2017-01-07 00:28:13,182 [4848] DEBUG Mms - select WarehouseCode as value,WarehouseName as text from mms_warehouse where  ProjectCode =  'HZ2016353344571'
2017-01-07 00:28:13,183 [4848] DEBUG Servicesys_code - 获取动态列表
2017-01-07 00:28:13,183 [4848] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'SupplyType'
2017-01-07 00:28:13,611 [7596] DEBUG Servicemms_receive - 获取动态列表
2017-01-07 00:28:13,611 [7596] DEBUG Mms - select top 20 
        A.*, B.ProjectName, C.MaterialTypeName, D.WarehouseName as WarehouseName, E.MerchantsName AS SupplierName
     from 
        mms_receive A
        left join mms_project       B on B.ProjectCode      = A.ProjectCode
        left join mms_materialType  C on C.MaterialType = A.MaterialType
        left join mms_warehouse         D on D.WarehouseCode       = A.WarehouseCode
        left join mms_merchants     E on E.MerchantsCode    = A.SupplierCode
     where  A.ProjectCode =  'HZ2016353344571' order by A.BillNo
2017-01-07 00:28:13,612 [7596] DEBUG Mms - select count(*) from ( select 
        A.*, B.ProjectName, C.MaterialTypeName, D.WarehouseName as WarehouseName, E.MerchantsName AS SupplierName
     from 
        mms_receive A
        left join mms_project       B on B.ProjectCode      = A.ProjectCode
        left join mms_materialType  C on C.MaterialType = A.MaterialType
        left join mms_warehouse         D on D.WarehouseCode       = A.WarehouseCode
        left join mms_merchants     E on E.MerchantsCode    = A.SupplierCode
     where  A.ProjectCode =  'HZ2016353344571' ) tb_temp
2017-01-07 00:28:21,794 [7596] DEBUG Servicemms_receive - 获取动态列表
2017-01-07 00:28:21,794 [7596] DEBUG Mms - select 
        A.*, B.ProjectName, C.MaterialTypeName, D.WarehouseName as WarehouseName, E.MerchantsName AS SupplierName
     from 
        mms_receive A
        left join mms_project       B on B.ProjectCode      = A.ProjectCode
        left join mms_materialType  C on C.MaterialType = A.MaterialType
        left join mms_warehouse         D on D.WarehouseCode       = A.WarehouseCode
        left join mms_merchants     E on E.MerchantsCode    = A.SupplierCode
     where  A.ProjectCode =  'HZ2016353344571' order by A.BillNo
2017-01-07 00:28:54,386 [7792] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/menu/Index','/Sys/menu')
2017-01-07 00:28:54,909 [5408] DEBUG Servicesys_menu - 获取动态列表
2017-01-07 00:28:54,909 [5408] DEBUG Sys - select A.*,B.MenuName as ParentName from sys_menu A left join sys_menu B on B.MenuCode = A.ParentCode order by A.MenuSeq,A.MenuCode
2017-01-07 00:29:23,919 [5408] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/role/Index','/Sys/role')
2017-01-07 00:29:23,930 [5408] DEBUG Servicesys_user - 获取动态列表
2017-01-07 00:29:23,930 [5408] DEBUG Sys - select UserCode,UserName from sys_user
2017-01-07 00:29:23,931 [5408] DEBUG Servicesys_organize - 获取动态列表
2017-01-07 00:29:23,931 [5408] DEBUG Sys - select OrganizeCode,OrganizeName from sys_organize
2017-01-07 00:29:24,665 [7792] DEBUG Servicesys_role - 获取实体列表
2017-01-07 00:29:24,666 [7792] DEBUG Sys - select sys_role.* from sys_role order by RoleSeq
2017-01-07 00:29:26,137 [7596] DEBUG Sys - select * from sys_button order by ButtonSeq
2017-01-07 00:29:26,140 [7596] DEBUG Sys - select A.MenuName,A.MenuCode,A.ParentCode,A.IconClass as iconCls,B.MenuName as ParentName,(select 1 from sys_roleMenuMap tb_role where tb_role.RoleCode='super' and tb_role.MenuCode=A.MenuCode) as checked,(
select case when max(tb1_accredit.ID) is null then -1 
            when max(tb2_accredit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_accredit
left join sys_roleMenuButtonMap AS tb2_accredit ON tb2_accredit.MenuCode=tb1_accredit.MenuCode AND tb2_accredit.ButtonCode=tb1_accredit.ButtonCode AND tb2_accredit.RoleCode='super'
where tb1_accredit.MenuCode = A.MenuCode and  tb1_accredit.ButtonCode = 'accredit'  
)as 'btn_accredit' ,(
select case when max(tb1_add.ID) is null then -1 
            when max(tb2_add.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_add
left join sys_roleMenuButtonMap AS tb2_add ON tb2_add.MenuCode=tb1_add.MenuCode AND tb2_add.ButtonCode=tb1_add.ButtonCode AND tb2_add.RoleCode='super'
where tb1_add.MenuCode = A.MenuCode and  tb1_add.ButtonCode = 'add'  
)as 'btn_add' ,(
select case when max(tb1_audit.ID) is null then -1 
            when max(tb2_audit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_audit
left join sys_roleMenuButtonMap AS tb2_audit ON tb2_audit.MenuCode=tb1_audit.MenuCode AND tb2_audit.ButtonCode=tb1_audit.ButtonCode AND tb2_audit.RoleCode='super'
where tb1_audit.MenuCode = A.MenuCode and  tb1_audit.ButtonCode = 'audit'  
)as 'btn_audit' ,(
select case when max(tb1_browse.ID) is null then -1 
            when max(tb2_browse.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_browse
left join sys_roleMenuButtonMap AS tb2_browse ON tb2_browse.MenuCode=tb1_browse.MenuCode AND tb2_browse.ButtonCode=tb1_browse.ButtonCode AND tb2_browse.RoleCode='super'
where tb1_browse.MenuCode = A.MenuCode and  tb1_browse.ButtonCode = 'browse'  
)as 'btn_browse' ,(
select case when max(tb1_copy.ID) is null then -1 
            when max(tb2_copy.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_copy
left join sys_roleMenuButtonMap AS tb2_copy ON tb2_copy.MenuCode=tb1_copy.MenuCode AND tb2_copy.ButtonCode=tb1_copy.ButtonCode AND tb2_copy.RoleCode='super'
where tb1_copy.MenuCode = A.MenuCode and  tb1_copy.ButtonCode = 'copy'  
)as 'btn_copy' ,(
select case when max(tb1_delete.ID) is null then -1 
            when max(tb2_delete.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_delete
left join sys_roleMenuButtonMap AS tb2_delete ON tb2_delete.MenuCode=tb1_delete.MenuCode AND tb2_delete.ButtonCode=tb1_delete.ButtonCode AND tb2_delete.RoleCode='super'
where tb1_delete.MenuCode = A.MenuCode and  tb1_delete.ButtonCode = 'delete'  
)as 'btn_delete' ,(
select case when max(tb1_download.ID) is null then -1 
            when max(tb2_download.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_download
left join sys_roleMenuButtonMap AS tb2_download ON tb2_download.MenuCode=tb1_download.MenuCode AND tb2_download.ButtonCode=tb1_download.ButtonCode AND tb2_download.RoleCode='super'
where tb1_download.MenuCode = A.MenuCode and  tb1_download.ButtonCode = 'download'  
)as 'btn_download' ,(
select case when max(tb1_edit.ID) is null then -1 
            when max(tb2_edit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_edit
left join sys_roleMenuButtonMap AS tb2_edit ON tb2_edit.MenuCode=tb1_edit.MenuCode AND tb2_edit.ButtonCode=tb1_edit.ButtonCode AND tb2_edit.RoleCode='super'
where tb1_edit.MenuCode = A.MenuCode and  tb1_edit.ButtonCode = 'edit'  
)as 'btn_edit' ,(
select case when max(tb1_export.ID) is null then -1 
            when max(tb2_export.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_export
left join sys_roleMenuButtonMap AS tb2_export ON tb2_export.MenuCode=tb1_export.MenuCode AND tb2_export.ButtonCode=tb1_export.ButtonCode AND tb2_export.RoleCode='super'
where tb1_export.MenuCode = A.MenuCode and  tb1_export.ButtonCode = 'export'  
)as 'btn_export' ,(
select case when max(tb1_import.ID) is null then -1 
            when max(tb2_import.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_import
left join sys_roleMenuButtonMap AS tb2_import ON tb2_import.MenuCode=tb1_import.MenuCode AND tb2_import.ButtonCode=tb1_import.ButtonCode AND tb2_import.RoleCode='super'
where tb1_import.MenuCode = A.MenuCode and  tb1_import.ButtonCode = 'import'  
)as 'btn_import' ,(
select case when max(tb1_print.ID) is null then -1 
            when max(tb2_print.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_print
left join sys_roleMenuButtonMap AS tb2_print ON tb2_print.MenuCode=tb1_print.MenuCode AND tb2_print.ButtonCode=tb1_print.ButtonCode AND tb2_print.RoleCode='super'
where tb1_print.MenuCode = A.MenuCode and  tb1_print.ButtonCode = 'print'  
)as 'btn_print' ,(
select case when max(tb1_refresh.ID) is null then -1 
            when max(tb2_refresh.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_refresh
left join sys_roleMenuButtonMap AS tb2_refresh ON tb2_refresh.MenuCode=tb1_refresh.MenuCode AND tb2_refresh.ButtonCode=tb1_refresh.ButtonCode AND tb2_refresh.RoleCode='super'
where tb1_refresh.MenuCode = A.MenuCode and  tb1_refresh.ButtonCode = 'refresh'  
)as 'btn_refresh' ,(
select case when max(tb1_save.ID) is null then -1 
            when max(tb2_save.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_save
left join sys_roleMenuButtonMap AS tb2_save ON tb2_save.MenuCode=tb1_save.MenuCode AND tb2_save.ButtonCode=tb1_save.ButtonCode AND tb2_save.RoleCode='super'
where tb1_save.MenuCode = A.MenuCode and  tb1_save.ButtonCode = 'save'  
)as 'btn_save' ,(
select case when max(tb1_search.ID) is null then -1 
            when max(tb2_search.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_search
left join sys_roleMenuButtonMap AS tb2_search ON tb2_search.MenuCode=tb1_search.MenuCode AND tb2_search.ButtonCode=tb1_search.ButtonCode AND tb2_search.RoleCode='super'
where tb1_search.MenuCode = A.MenuCode and  tb1_search.ButtonCode = 'search'  
)as 'btn_search' 
from sys_menu as A
left join sys_menu B on B.MenuCode = A.ParentCode
where A.IsEnable = 1
order by A.MenuSeq,A.MenuCode
2017-01-07 00:29:26,149 [4848] DEBUG Servicesys_permission - 获取动态列表
2017-01-07 00:29:26,153 [4848] DEBUG Sys - select A.*
,case when B.PermissionCode is null then 0 else 1           end as checked
,case when B.PermissionCode is null then 0 else B.IsDefault end as IsDefault from sys_permission A
left join sys_rolePermissionMap B on B.RoleCode='super' and B.PermissionCode = A.PermissionCode 
2017-01-07 00:29:26,213 [7596] DEBUG Sys - select * from sys_roleMenuColumnMap where RoleCode = 'super'
2017-01-07 00:29:37,674 [4848] DEBUG Servicesys_role - 修改角色菜单权限
2017-01-07 00:29:37,687 [4848] DEBUG Sys - delete from sys_roleMenuMap where [RoleCode] = 'super'
2017-01-07 00:29:37,692 [4848] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','13')
2017-01-07 00:29:37,693 [4848] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1301')
2017-01-07 00:29:37,694 [4848] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','14')
2017-01-07 00:29:37,694 [4848] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1401')
2017-01-07 00:29:37,694 [4848] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1402')
2017-01-07 00:29:37,695 [4848] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','140201')
2017-01-07 00:29:37,696 [4848] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','10')
2017-01-07 00:29:37,696 [4848] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1002')
2017-01-07 00:29:37,697 [4848] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1001')
2017-01-07 00:29:37,697 [4848] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','100101')
2017-01-07 00:29:37,697 [4848] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','100201')
2017-01-07 00:29:37,697 [4848] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','99')
2017-01-07 00:29:37,697 [4848] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9902')
2017-01-07 00:29:37,697 [4848] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9903')
2017-01-07 00:29:37,698 [4848] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9910')
2017-01-07 00:29:37,698 [4848] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9904')
2017-01-07 00:29:37,698 [4848] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9905')
2017-01-07 00:29:37,698 [4848] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9906')
2017-01-07 00:29:37,698 [4848] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9911')
2017-01-07 00:29:37,698 [4848] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9907')
2017-01-07 00:29:37,698 [4848] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9909')
2017-01-07 00:29:37,698 [4848] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9908')
2017-01-07 00:29:37,698 [4848] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','98')
2017-01-07 00:29:37,699 [4848] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9810')
2017-01-07 00:29:37,700 [4848] DEBUG Servicesys_role - 修改角色菜单按钮权限
2017-01-07 00:29:37,701 [4848] DEBUG Sys - delete from sys_roleMenuButtonMap where [RoleCode] = 'super'
2017-01-07 00:29:37,702 [4848] DEBUG Sys - insert into sys_roleMenuButtonMap([RoleCode],[MenuCode],[ButtonCode]) values('super','9911','refresh')
2017-01-07 00:29:37,705 [4848] DEBUG Servicesys_role - 修改角色数据权限
2017-01-07 00:29:37,705 [4848] DEBUG Sys - delete from sys_rolePermissionMap where [RoleCode] = 'super'
2017-01-07 00:29:37,707 [4848] DEBUG Servicesys_role - 修改角色数据列权限
2017-01-07 00:29:37,708 [4848] DEBUG Sys - delete from sys_roleMenuColumnMap where [RoleCode] = 'super'
2017-01-07 00:29:49,257 [4848] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2017-01-07 00:29:49,453 [5408] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2017-01-07 00:29:49,759 [7792] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/menu/Index','/Sys/menu')
2017-01-07 00:29:50,134 [6844] DEBUG Servicesys_menu - 获取动态列表
2017-01-07 00:29:50,134 [6844] DEBUG Sys - select A.*,B.MenuName as ParentName from sys_menu A left join sys_menu B on B.MenuCode = A.ParentCode order by A.MenuSeq,A.MenuCode
2017-01-07 00:29:55,095 [5408] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Mms/receive/Index','/Mms/receive')
2017-01-07 00:29:55,106 [5408] DEBUG Servicemms_warehouse - 获取动态列表
2017-01-07 00:29:55,106 [5408] DEBUG Mms - select WarehouseCode as value,WarehouseName as text from mms_warehouse where  ProjectCode =  'HZ2016353344571'
2017-01-07 00:29:55,107 [5408] DEBUG Servicesys_code - 获取动态列表
2017-01-07 00:29:55,107 [5408] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'SupplyType'
2017-01-07 00:29:55,531 [4848] DEBUG Servicemms_receive - 获取动态列表
2017-01-07 00:29:55,531 [4848] DEBUG Mms - select top 20 
        A.*, B.ProjectName, C.MaterialTypeName, D.WarehouseName as WarehouseName, E.MerchantsName AS SupplierName
     from 
        mms_receive A
        left join mms_project       B on B.ProjectCode      = A.ProjectCode
        left join mms_materialType  C on C.MaterialType = A.MaterialType
        left join mms_warehouse         D on D.WarehouseCode       = A.WarehouseCode
        left join mms_merchants     E on E.MerchantsCode    = A.SupplierCode
     where  A.ProjectCode =  'HZ2016353344571' order by A.BillNo
2017-01-07 00:29:55,534 [4848] DEBUG Mms - select count(*) from ( select 
        A.*, B.ProjectName, C.MaterialTypeName, D.WarehouseName as WarehouseName, E.MerchantsName AS SupplierName
     from 
        mms_receive A
        left join mms_project       B on B.ProjectCode      = A.ProjectCode
        left join mms_materialType  C on C.MaterialType = A.MaterialType
        left join mms_warehouse         D on D.WarehouseCode       = A.WarehouseCode
        left join mms_merchants     E on E.MerchantsCode    = A.SupplierCode
     where  A.ProjectCode =  'HZ2016353344571' ) tb_temp
2017-01-07 00:29:56,629 [7792] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Mms/send/Index','/Mms/send')
2017-01-07 00:29:56,638 [7792] DEBUG Servicemms_warehouse - 获取动态列表
2017-01-07 00:29:56,638 [7792] DEBUG Mms - select WarehouseCode as value,WarehouseName as text from mms_warehouse where  ProjectCode =  'HZ2016353344571'
2017-01-07 00:29:56,638 [7792] DEBUG Servicesys_code - 获取动态列表
2017-01-07 00:29:56,639 [7792] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'Pricing'
2017-01-07 00:29:56,639 [7792] DEBUG Servicesys_code - 获取动态列表
2017-01-07 00:29:56,639 [7792] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'MaterialUse'
2017-01-07 00:29:57,026 [7792] DEBUG Sys - select MenuCode from sys_menu where URL = '/mms/send'
2017-01-07 00:29:57,027 [7792] DEBUG Sys - 
select *
from sys_roleMenuColumnMap 
where MenuCode = '1001'
and RoleCode in (
select RoleCode
from sys_userRoleMap
where userCode = 'super'
union
select A.RoleCode
from sys_organizeRoleMap A
inner join sys_userOrganizeMap B on B.OrganizeCode = A.OrganizeCode
where B.UserCode = 'super'
)
2017-01-07 00:29:57,049 [7792] DEBUG Sys - select MenuCode from sys_menu where URL = '/mms/send'
2017-01-07 00:29:57,049 [7792] DEBUG Sys - 
select A.*
from sys_button A
inner join sys_roleMenuButtonMap B on B.MenuCode = '1001' and B.ButtonCode = A.ButtonCode
where RoleCode in (
select RoleCode
from sys_userRoleMap
where userCode = 'super'
union
select A.RoleCode
from sys_organizeRoleMap A
inner join sys_userOrganizeMap B on B.OrganizeCode = A.OrganizeCode
where B.UserCode = 'super'
)
order by ButtonSeq
2017-01-07 00:29:57,418 [4848] DEBUG Servicemms_send - 获取动态列表
2017-01-07 00:29:57,418 [4848] DEBUG Mms - select top 20 
        A.*, B.ProjectName, C.MaterialTypeName, D.WarehouseName,E.MerchantsName as PickUnitName
     from 
        mms_send A
        left join mms_project       B on B.ProjectCode      = A.ProjectCode
        left join mms_materialType  C on C.MaterialType = A.MaterialType
        left join mms_warehouse         D on D.WarehouseCode       = A.WarehouseCode
        left join mms_merchants E on E.MerchantsCode=A.PickUnit
     where  A.ProjectCode =  'HZ2016353344571' order by A.BillNo
2017-01-07 00:29:57,451 [4848] DEBUG Mms - select count(*) from ( select 
        A.*, B.ProjectName, C.MaterialTypeName, D.WarehouseName,E.MerchantsName as PickUnitName
     from 
        mms_send A
        left join mms_project       B on B.ProjectCode      = A.ProjectCode
        left join mms_materialType  C on C.MaterialType = A.MaterialType
        left join mms_warehouse         D on D.WarehouseCode       = A.WarehouseCode
        left join mms_merchants E on E.MerchantsCode=A.PickUnit
     where  A.ProjectCode =  'HZ2016353344571' ) tb_temp
2017-01-07 00:30:02,225 [5408] DEBUG Servicemms_send - 获取动态列表
2017-01-07 00:30:02,225 [5408] DEBUG Mms - select top 20 
        A.*, B.ProjectName, C.MaterialTypeName, D.WarehouseName,E.MerchantsName as PickUnitName
     from 
        mms_send A
        left join mms_project       B on B.ProjectCode      = A.ProjectCode
        left join mms_materialType  C on C.MaterialType = A.MaterialType
        left join mms_warehouse         D on D.WarehouseCode       = A.WarehouseCode
        left join mms_merchants E on E.MerchantsCode=A.PickUnit
     where  A.ProjectCode =  'HZ2016353344571' order by A.BillNo
2017-01-07 00:30:02,225 [5408] DEBUG Mms - select count(*) from ( select 
        A.*, B.ProjectName, C.MaterialTypeName, D.WarehouseName,E.MerchantsName as PickUnitName
     from 
        mms_send A
        left join mms_project       B on B.ProjectCode      = A.ProjectCode
        left join mms_materialType  C on C.MaterialType = A.MaterialType
        left join mms_warehouse         D on D.WarehouseCode       = A.WarehouseCode
        left join mms_merchants E on E.MerchantsCode=A.PickUnit
     where  A.ProjectCode =  'HZ2016353344571' ) tb_temp
2017-01-07 00:30:02,929 [7792] DEBUG Servicemms_send - 获取动态列表
2017-01-07 00:30:02,929 [7792] DEBUG Mms - select top 20 
        A.*, B.ProjectName, C.MaterialTypeName, D.WarehouseName,E.MerchantsName as PickUnitName
     from 
        mms_send A
        left join mms_project       B on B.ProjectCode      = A.ProjectCode
        left join mms_materialType  C on C.MaterialType = A.MaterialType
        left join mms_warehouse         D on D.WarehouseCode       = A.WarehouseCode
        left join mms_merchants E on E.MerchantsCode=A.PickUnit
     where  A.ProjectCode =  'HZ2016353344571' order by A.BillNo
2017-01-07 00:30:02,931 [7792] DEBUG Mms - select count(*) from ( select 
        A.*, B.ProjectName, C.MaterialTypeName, D.WarehouseName,E.MerchantsName as PickUnitName
     from 
        mms_send A
        left join mms_project       B on B.ProjectCode      = A.ProjectCode
        left join mms_materialType  C on C.MaterialType = A.MaterialType
        left join mms_warehouse         D on D.WarehouseCode       = A.WarehouseCode
        left join mms_merchants E on E.MerchantsCode=A.PickUnit
     where  A.ProjectCode =  'HZ2016353344571' ) tb_temp
2017-01-07 00:30:03,359 [4848] DEBUG Servicemms_send - 获取动态列表
2017-01-07 00:30:03,359 [4848] DEBUG Mms - select top 20 
        A.*, B.ProjectName, C.MaterialTypeName, D.WarehouseName,E.MerchantsName as PickUnitName
     from 
        mms_send A
        left join mms_project       B on B.ProjectCode      = A.ProjectCode
        left join mms_materialType  C on C.MaterialType = A.MaterialType
        left join mms_warehouse         D on D.WarehouseCode       = A.WarehouseCode
        left join mms_merchants E on E.MerchantsCode=A.PickUnit
     where  A.ProjectCode =  'HZ2016353344571' order by A.BillNo
2017-01-07 00:30:03,360 [4848] DEBUG Mms - select count(*) from ( select 
        A.*, B.ProjectName, C.MaterialTypeName, D.WarehouseName,E.MerchantsName as PickUnitName
     from 
        mms_send A
        left join mms_project       B on B.ProjectCode      = A.ProjectCode
        left join mms_materialType  C on C.MaterialType = A.MaterialType
        left join mms_warehouse         D on D.WarehouseCode       = A.WarehouseCode
        left join mms_merchants E on E.MerchantsCode=A.PickUnit
     where  A.ProjectCode =  'HZ2016353344571' ) tb_temp
2017-01-07 00:30:13,693 [4848] DEBUG Servicemms_send - 获取动态列表
2017-01-07 00:30:13,694 [4848] DEBUG Mms - select top 20 
        A.*, B.ProjectName, C.MaterialTypeName, D.WarehouseName,E.MerchantsName as PickUnitName
     from 
        mms_send A
        left join mms_project       B on B.ProjectCode      = A.ProjectCode
        left join mms_materialType  C on C.MaterialType = A.MaterialType
        left join mms_warehouse         D on D.WarehouseCode       = A.WarehouseCode
        left join mms_merchants E on E.MerchantsCode=A.PickUnit
     where  datediff(day,'2017-01-07',SendDate) >=0 and datediff(day,'2017-01-07',SendDate)<=0and A.ProjectCode =  'HZ2016353344571' order by A.BillNo
2017-01-07 00:30:13,700 [4848] DEBUG Mms - select count(*) from ( select 
        A.*, B.ProjectName, C.MaterialTypeName, D.WarehouseName,E.MerchantsName as PickUnitName
     from 
        mms_send A
        left join mms_project       B on B.ProjectCode      = A.ProjectCode
        left join mms_materialType  C on C.MaterialType = A.MaterialType
        left join mms_warehouse         D on D.WarehouseCode       = A.WarehouseCode
        left join mms_merchants E on E.MerchantsCode=A.PickUnit
     where  datediff(day,'2017-01-07',SendDate) >=0 and datediff(day,'2017-01-07',SendDate)<=0and A.ProjectCode =  'HZ2016353344571' ) tb_temp
2017-01-07 00:30:14,586 [7792] DEBUG Servicemms_send - 获取动态列表
2017-01-07 00:30:14,586 [7792] DEBUG Mms - select top 20 
        A.*, B.ProjectName, C.MaterialTypeName, D.WarehouseName,E.MerchantsName as PickUnitName
     from 
        mms_send A
        left join mms_project       B on B.ProjectCode      = A.ProjectCode
        left join mms_materialType  C on C.MaterialType = A.MaterialType
        left join mms_warehouse         D on D.WarehouseCode       = A.WarehouseCode
        left join mms_merchants E on E.MerchantsCode=A.PickUnit
     where  datediff(day,'2017-01-07',SendDate) >=0 and datediff(day,'2017-01-07',SendDate)<=0and A.ProjectCode =  'HZ2016353344571' order by A.BillNo
2017-01-07 00:30:14,587 [7792] DEBUG Mms - select count(*) from ( select 
        A.*, B.ProjectName, C.MaterialTypeName, D.WarehouseName,E.MerchantsName as PickUnitName
     from 
        mms_send A
        left join mms_project       B on B.ProjectCode      = A.ProjectCode
        left join mms_materialType  C on C.MaterialType = A.MaterialType
        left join mms_warehouse         D on D.WarehouseCode       = A.WarehouseCode
        left join mms_merchants E on E.MerchantsCode=A.PickUnit
     where  datediff(day,'2017-01-07',SendDate) >=0 and datediff(day,'2017-01-07',SendDate)<=0and A.ProjectCode =  'HZ2016353344571' ) tb_temp
2017-01-07 00:30:15,065 [5408] DEBUG Servicemms_send - 获取动态列表
2017-01-07 00:30:15,066 [5408] DEBUG Mms - select top 20 
        A.*, B.ProjectName, C.MaterialTypeName, D.WarehouseName,E.MerchantsName as PickUnitName
     from 
        mms_send A
        left join mms_project       B on B.ProjectCode      = A.ProjectCode
        left join mms_materialType  C on C.MaterialType = A.MaterialType
        left join mms_warehouse         D on D.WarehouseCode       = A.WarehouseCode
        left join mms_merchants E on E.MerchantsCode=A.PickUnit
     where  datediff(day,'2017-01-07',SendDate) >=0 and datediff(day,'2017-01-07',SendDate)<=0and A.ProjectCode =  'HZ2016353344571' order by A.BillNo
2017-01-07 00:30:15,066 [5408] DEBUG Mms - select count(*) from ( select 
        A.*, B.ProjectName, C.MaterialTypeName, D.WarehouseName,E.MerchantsName as PickUnitName
     from 
        mms_send A
        left join mms_project       B on B.ProjectCode      = A.ProjectCode
        left join mms_materialType  C on C.MaterialType = A.MaterialType
        left join mms_warehouse         D on D.WarehouseCode       = A.WarehouseCode
        left join mms_merchants E on E.MerchantsCode=A.PickUnit
     where  datediff(day,'2017-01-07',SendDate) >=0 and datediff(day,'2017-01-07',SendDate)<=0and A.ProjectCode =  'HZ2016353344571' ) tb_temp
2017-01-07 00:30:15,246 [4848] DEBUG Servicemms_send - 获取动态列表
2017-01-07 00:30:15,247 [4848] DEBUG Mms - select top 20 
        A.*, B.ProjectName, C.MaterialTypeName, D.WarehouseName,E.MerchantsName as PickUnitName
     from 
        mms_send A
        left join mms_project       B on B.ProjectCode      = A.ProjectCode
        left join mms_materialType  C on C.MaterialType = A.MaterialType
        left join mms_warehouse         D on D.WarehouseCode       = A.WarehouseCode
        left join mms_merchants E on E.MerchantsCode=A.PickUnit
     where  datediff(day,'2017-01-07',SendDate) >=0 and datediff(day,'2017-01-07',SendDate)<=0and A.ProjectCode =  'HZ2016353344571' order by A.BillNo
2017-01-07 00:30:15,248 [4848] DEBUG Mms - select count(*) from ( select 
        A.*, B.ProjectName, C.MaterialTypeName, D.WarehouseName,E.MerchantsName as PickUnitName
     from 
        mms_send A
        left join mms_project       B on B.ProjectCode      = A.ProjectCode
        left join mms_materialType  C on C.MaterialType = A.MaterialType
        left join mms_warehouse         D on D.WarehouseCode       = A.WarehouseCode
        left join mms_merchants E on E.MerchantsCode=A.PickUnit
     where  datediff(day,'2017-01-07',SendDate) >=0 and datediff(day,'2017-01-07',SendDate)<=0and A.ProjectCode =  'HZ2016353344571' ) tb_temp
2017-01-07 00:30:15,451 [6844] DEBUG Servicemms_send - 获取动态列表
2017-01-07 00:30:15,452 [6844] DEBUG Mms - select top 20 
        A.*, B.ProjectName, C.MaterialTypeName, D.WarehouseName,E.MerchantsName as PickUnitName
     from 
        mms_send A
        left join mms_project       B on B.ProjectCode      = A.ProjectCode
        left join mms_materialType  C on C.MaterialType = A.MaterialType
        left join mms_warehouse         D on D.WarehouseCode       = A.WarehouseCode
        left join mms_merchants E on E.MerchantsCode=A.PickUnit
     where  datediff(day,'2017-01-07',SendDate) >=0 and datediff(day,'2017-01-07',SendDate)<=0and A.ProjectCode =  'HZ2016353344571' order by A.BillNo
2017-01-07 00:30:15,452 [6844] DEBUG Mms - select count(*) from ( select 
        A.*, B.ProjectName, C.MaterialTypeName, D.WarehouseName,E.MerchantsName as PickUnitName
     from 
        mms_send A
        left join mms_project       B on B.ProjectCode      = A.ProjectCode
        left join mms_materialType  C on C.MaterialType = A.MaterialType
        left join mms_warehouse         D on D.WarehouseCode       = A.WarehouseCode
        left join mms_merchants E on E.MerchantsCode=A.PickUnit
     where  datediff(day,'2017-01-07',SendDate) >=0 and datediff(day,'2017-01-07',SendDate)<=0and A.ProjectCode =  'HZ2016353344571' ) tb_temp
2017-01-07 00:35:47,833 [5408] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/role/Index','/Sys/role')
2017-01-07 00:35:47,839 [5408] DEBUG Servicesys_user - 获取动态列表
2017-01-07 00:35:47,839 [5408] DEBUG Sys - select UserCode,UserName from sys_user
2017-01-07 00:35:47,840 [5408] DEBUG Servicesys_organize - 获取动态列表
2017-01-07 00:35:47,841 [5408] DEBUG Sys - select OrganizeCode,OrganizeName from sys_organize
2017-01-07 00:35:48,099 [7792] DEBUG Servicesys_role - 获取实体列表
2017-01-07 00:35:48,099 [7792] DEBUG Sys - select sys_role.* from sys_role order by RoleSeq
2017-01-07 00:35:49,260 [7744] DEBUG Sys - select * from sys_button order by ButtonSeq
2017-01-07 00:35:49,261 [7744] DEBUG Sys - select A.MenuName,A.MenuCode,A.ParentCode,A.IconClass as iconCls,B.MenuName as ParentName,(select 1 from sys_roleMenuMap tb_role where tb_role.RoleCode='super' and tb_role.MenuCode=A.MenuCode) as checked,(
select case when max(tb1_accredit.ID) is null then -1 
            when max(tb2_accredit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_accredit
left join sys_roleMenuButtonMap AS tb2_accredit ON tb2_accredit.MenuCode=tb1_accredit.MenuCode AND tb2_accredit.ButtonCode=tb1_accredit.ButtonCode AND tb2_accredit.RoleCode='super'
where tb1_accredit.MenuCode = A.MenuCode and  tb1_accredit.ButtonCode = 'accredit'  
)as 'btn_accredit' ,(
select case when max(tb1_add.ID) is null then -1 
            when max(tb2_add.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_add
left join sys_roleMenuButtonMap AS tb2_add ON tb2_add.MenuCode=tb1_add.MenuCode AND tb2_add.ButtonCode=tb1_add.ButtonCode AND tb2_add.RoleCode='super'
where tb1_add.MenuCode = A.MenuCode and  tb1_add.ButtonCode = 'add'  
)as 'btn_add' ,(
select case when max(tb1_audit.ID) is null then -1 
            when max(tb2_audit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_audit
left join sys_roleMenuButtonMap AS tb2_audit ON tb2_audit.MenuCode=tb1_audit.MenuCode AND tb2_audit.ButtonCode=tb1_audit.ButtonCode AND tb2_audit.RoleCode='super'
where tb1_audit.MenuCode = A.MenuCode and  tb1_audit.ButtonCode = 'audit'  
)as 'btn_audit' ,(
select case when max(tb1_browse.ID) is null then -1 
            when max(tb2_browse.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_browse
left join sys_roleMenuButtonMap AS tb2_browse ON tb2_browse.MenuCode=tb1_browse.MenuCode AND tb2_browse.ButtonCode=tb1_browse.ButtonCode AND tb2_browse.RoleCode='super'
where tb1_browse.MenuCode = A.MenuCode and  tb1_browse.ButtonCode = 'browse'  
)as 'btn_browse' ,(
select case when max(tb1_copy.ID) is null then -1 
            when max(tb2_copy.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_copy
left join sys_roleMenuButtonMap AS tb2_copy ON tb2_copy.MenuCode=tb1_copy.MenuCode AND tb2_copy.ButtonCode=tb1_copy.ButtonCode AND tb2_copy.RoleCode='super'
where tb1_copy.MenuCode = A.MenuCode and  tb1_copy.ButtonCode = 'copy'  
)as 'btn_copy' ,(
select case when max(tb1_delete.ID) is null then -1 
            when max(tb2_delete.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_delete
left join sys_roleMenuButtonMap AS tb2_delete ON tb2_delete.MenuCode=tb1_delete.MenuCode AND tb2_delete.ButtonCode=tb1_delete.ButtonCode AND tb2_delete.RoleCode='super'
where tb1_delete.MenuCode = A.MenuCode and  tb1_delete.ButtonCode = 'delete'  
)as 'btn_delete' ,(
select case when max(tb1_download.ID) is null then -1 
            when max(tb2_download.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_download
left join sys_roleMenuButtonMap AS tb2_download ON tb2_download.MenuCode=tb1_download.MenuCode AND tb2_download.ButtonCode=tb1_download.ButtonCode AND tb2_download.RoleCode='super'
where tb1_download.MenuCode = A.MenuCode and  tb1_download.ButtonCode = 'download'  
)as 'btn_download' ,(
select case when max(tb1_edit.ID) is null then -1 
            when max(tb2_edit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_edit
left join sys_roleMenuButtonMap AS tb2_edit ON tb2_edit.MenuCode=tb1_edit.MenuCode AND tb2_edit.ButtonCode=tb1_edit.ButtonCode AND tb2_edit.RoleCode='super'
where tb1_edit.MenuCode = A.MenuCode and  tb1_edit.ButtonCode = 'edit'  
)as 'btn_edit' ,(
select case when max(tb1_export.ID) is null then -1 
            when max(tb2_export.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_export
left join sys_roleMenuButtonMap AS tb2_export ON tb2_export.MenuCode=tb1_export.MenuCode AND tb2_export.ButtonCode=tb1_export.ButtonCode AND tb2_export.RoleCode='super'
where tb1_export.MenuCode = A.MenuCode and  tb1_export.ButtonCode = 'export'  
)as 'btn_export' ,(
select case when max(tb1_import.ID) is null then -1 
            when max(tb2_import.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_import
left join sys_roleMenuButtonMap AS tb2_import ON tb2_import.MenuCode=tb1_import.MenuCode AND tb2_import.ButtonCode=tb1_import.ButtonCode AND tb2_import.RoleCode='super'
where tb1_import.MenuCode = A.MenuCode and  tb1_import.ButtonCode = 'import'  
)as 'btn_import' ,(
select case when max(tb1_print.ID) is null then -1 
            when max(tb2_print.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_print
left join sys_roleMenuButtonMap AS tb2_print ON tb2_print.MenuCode=tb1_print.MenuCode AND tb2_print.ButtonCode=tb1_print.ButtonCode AND tb2_print.RoleCode='super'
where tb1_print.MenuCode = A.MenuCode and  tb1_print.ButtonCode = 'print'  
)as 'btn_print' ,(
select case when max(tb1_refresh.ID) is null then -1 
            when max(tb2_refresh.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_refresh
left join sys_roleMenuButtonMap AS tb2_refresh ON tb2_refresh.MenuCode=tb1_refresh.MenuCode AND tb2_refresh.ButtonCode=tb1_refresh.ButtonCode AND tb2_refresh.RoleCode='super'
where tb1_refresh.MenuCode = A.MenuCode and  tb1_refresh.ButtonCode = 'refresh'  
)as 'btn_refresh' ,(
select case when max(tb1_save.ID) is null then -1 
            when max(tb2_save.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_save
left join sys_roleMenuButtonMap AS tb2_save ON tb2_save.MenuCode=tb1_save.MenuCode AND tb2_save.ButtonCode=tb1_save.ButtonCode AND tb2_save.RoleCode='super'
where tb1_save.MenuCode = A.MenuCode and  tb1_save.ButtonCode = 'save'  
)as 'btn_save' ,(
select case when max(tb1_search.ID) is null then -1 
            when max(tb2_search.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_search
left join sys_roleMenuButtonMap AS tb2_search ON tb2_search.MenuCode=tb1_search.MenuCode AND tb2_search.ButtonCode=tb1_search.ButtonCode AND tb2_search.RoleCode='super'
where tb1_search.MenuCode = A.MenuCode and  tb1_search.ButtonCode = 'search'  
)as 'btn_search' 
from sys_menu as A
left join sys_menu B on B.MenuCode = A.ParentCode
where A.IsEnable = 1
order by A.MenuSeq,A.MenuCode
2017-01-07 00:35:49,292 [7744] DEBUG Sys - select * from sys_roleMenuColumnMap where RoleCode = 'super'
2017-01-07 00:35:49,302 [7792] DEBUG Servicesys_permission - 获取动态列表
2017-01-07 00:35:49,302 [7792] DEBUG Sys - select A.*
,case when B.PermissionCode is null then 0 else 1           end as checked
,case when B.PermissionCode is null then 0 else B.IsDefault end as IsDefault from sys_permission A
left join sys_rolePermissionMap B on B.RoleCode='super' and B.PermissionCode = A.PermissionCode 
2017-01-07 00:36:03,972 [5408] DEBUG Servicesys_role - 修改角色菜单权限
2017-01-07 00:36:03,973 [5408] DEBUG Sys - delete from sys_roleMenuMap where [RoleCode] = 'super'
2017-01-07 00:36:03,974 [5408] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','13')
2017-01-07 00:36:03,975 [5408] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1301')
2017-01-07 00:36:03,977 [5408] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','14')
2017-01-07 00:36:03,977 [5408] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1401')
2017-01-07 00:36:03,977 [5408] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1402')
2017-01-07 00:36:03,977 [5408] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','140201')
2017-01-07 00:36:03,978 [5408] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','99')
2017-01-07 00:36:03,979 [5408] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9902')
2017-01-07 00:36:03,979 [5408] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9903')
2017-01-07 00:36:03,979 [5408] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9910')
2017-01-07 00:36:03,979 [5408] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9904')
2017-01-07 00:36:03,979 [5408] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9905')
2017-01-07 00:36:03,979 [5408] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9906')
2017-01-07 00:36:03,980 [5408] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9911')
2017-01-07 00:36:03,980 [5408] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9907')
2017-01-07 00:36:03,980 [5408] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9909')
2017-01-07 00:36:03,980 [5408] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9908')
2017-01-07 00:36:03,980 [5408] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','98')
2017-01-07 00:36:03,980 [5408] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9810')
2017-01-07 00:36:03,981 [5408] DEBUG Servicesys_role - 修改角色菜单按钮权限
2017-01-07 00:36:03,981 [5408] DEBUG Sys - delete from sys_roleMenuButtonMap where [RoleCode] = 'super'
2017-01-07 00:36:03,982 [5408] DEBUG Sys - insert into sys_roleMenuButtonMap([RoleCode],[MenuCode],[ButtonCode]) values('super','9911','refresh')
2017-01-07 00:36:03,984 [5408] DEBUG Servicesys_role - 修改角色数据权限
2017-01-07 00:36:03,984 [5408] DEBUG Sys - delete from sys_rolePermissionMap where [RoleCode] = 'super'
2017-01-07 00:36:03,985 [5408] DEBUG Servicesys_role - 修改角色数据列权限
2017-01-07 00:36:03,985 [5408] DEBUG Sys - delete from sys_roleMenuColumnMap where [RoleCode] = 'super'
2017-01-07 00:36:45,528 [6300] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2017-01-07 00:36:45,684 [7792] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2017-01-07 00:36:52,472 [7792] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/menu/Index','/Sys/menu')
2017-01-07 00:36:52,700 [6488] DEBUG Servicesys_menu - 获取动态列表
2017-01-07 00:36:52,700 [6488] DEBUG Sys - select A.*,B.MenuName as ParentName from sys_menu A left join sys_menu B on B.MenuCode = A.ParentCode order by A.MenuSeq,A.MenuCode
2017-01-07 00:37:52,205 [6300] DEBUG Sys - 
select A.*,
       case when B.ID is null then 0 else 1 end as Selected
from sys_button A
left join sys_menuButtonMap B on B.MenuCode = '1301' and B.ButtonCode = A.ButtonCode
order by ButtonSeq
2017-01-07 00:38:53,837 [7908] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2017-01-07 00:38:54,023 [7284] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2017-01-07 00:38:54,283 [5408] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/menu/Index','/Sys/menu')
2017-01-07 00:38:54,575 [7284] DEBUG Servicesys_menu - 获取动态列表
2017-01-07 00:38:54,575 [7284] DEBUG Sys - select A.*,B.MenuName as ParentName from sys_menu A left join sys_menu B on B.MenuCode = A.ParentCode order by A.MenuSeq,A.MenuCode
2017-01-07 00:41:07,201 [7908] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2017-01-07 00:41:07,382 [6300] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2017-01-07 00:41:07,632 [5268] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/menu/Index','/Sys/menu')
2017-01-07 00:41:07,894 [7284] DEBUG Servicesys_menu - 获取动态列表
2017-01-07 00:41:07,895 [7284] DEBUG Sys - select A.*,B.MenuName as ParentName from sys_menu A left join sys_menu B on B.MenuCode = A.ParentCode order by A.MenuSeq,A.MenuCode
2017-01-07 00:42:42,367 [7908] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/generator/Index','/Sys/generator')
2017-01-07 00:43:03,226 [5268] DEBUG ServiceModelBase - 获取动态列表
2017-01-07 00:43:03,233 [5268] DEBUG Pyn - select top 20 
    ProjectName as text,ProjectCode as value
   from 
    ProjectInfo
   order by ProjectCode
2017-01-07 00:43:03,237 [5268] DEBUG Pyn - select count(*) from ( select 
    ProjectName as text,ProjectCode as value
   from 
    ProjectInfo
   ) tb_temp
2017-01-07 00:43:10,601 [5268] DEBUG ServiceModelBase - 获取动态列表
2017-01-07 00:43:10,601 [5268] DEBUG Pyn - select top 20 
    ProjectName as text,ProjectCode as value
   from 
    ProjectInfo
   order by ProjectCode
2017-01-07 00:43:10,601 [5268] DEBUG Pyn - select count(*) from ( select 
    ProjectName as text,ProjectCode as value
   from 
    ProjectInfo
   ) tb_temp
2017-01-07 00:44:06,446 [7284] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/CamaraType/Index','/Pyn/CamaraType')
2017-01-07 00:44:06,458 [7284] DEBUG Servicesys_code - 获取动态列表
2017-01-07 00:44:06,458 [7284] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'CamaraSerie'
2017-01-07 00:44:06,460 [7284] DEBUG Servicesys_code - 获取动态列表
2017-01-07 00:44:06,460 [7284] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'CamaraInfo'
2017-01-07 00:44:07,253 [7008] DEBUG ServiceCamaraInfo - 获取动态列表
2017-01-07 00:44:07,253 [7008] DEBUG Pyn - select top 20 * from CamaraInfo order by CamaraCode
2017-01-07 00:44:07,296 [7008] DEBUG Pyn - select count(*) from ( select * from CamaraInfo ) tb_temp
2017-01-07 00:44:36,475 [3192] DEBUG ServiceCamaraInfo - 获取动态列表
2017-01-07 00:44:36,475 [3192] DEBUG Pyn - select * from CamaraInfo order by CamaraCode
2017-01-07 00:45:06,070 [7008] DEBUG ServiceCamaraInfo - 获取动态列表
2017-01-07 00:45:06,070 [7008] DEBUG Pyn - select top 20 * from CamaraInfo where  IsEnable =  'True'and Serie =  '109' order by CamaraCode
2017-01-07 00:45:06,119 [7008] ERROR ServiceCamaraInfo - 获取动态列表失败
System.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Serie'.
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QueryMany[TEntity,TList](Action`2 customMapper) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 14
   在 Zephyr.Data.DbCommand.QueryMany[TEntity](Action`2 customMapper) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 36
   在 Zephyr.Data.SelectBuilder`1.QueryManyDynamic() 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Data\Builders\Select\SelectBuilder.cs:行号 150
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass63.<GetDynamicList>b__62() 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:86210560-94dc-4f49-a327-99db021fb683
Error Number:207,State:1,Class:16
2017-01-07 00:45:06,146 [7008] ERROR /api/Pyn/CamaraInfo - System.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Serie'.
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 23
   在 Zephyr.Core.ServiceBase`1.GetDynamicList(ParamQuery param) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.ServiceBase`1.GetDynamicListWithPaging(ParamQuery param) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 43
   在 Zephyr.Areas.Pyn.Controllers.CamaraInfoApiController.Get(RequestWrapper query) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Web\Areas\Pyn\Controllers\CamaraInfoController.cs:行号 103
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:86210560-94dc-4f49-a327-99db021fb683
Error Number:207,State:1,Class:16
2017-01-07 00:45:09,475 [3192] DEBUG ServiceCamaraInfo - 获取动态列表
2017-01-07 00:45:09,475 [3192] DEBUG Pyn - select top 20 * from CamaraInfo where  IsEnable =  'True'and Serie =  '109' order by CamaraCode
2017-01-07 00:45:09,476 [3192] ERROR ServiceCamaraInfo - 获取动态列表失败
System.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Serie'.
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QueryMany[TEntity,TList](Action`2 customMapper) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 14
   在 Zephyr.Data.DbCommand.QueryMany[TEntity](Action`2 customMapper) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 36
   在 Zephyr.Data.SelectBuilder`1.QueryManyDynamic() 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Data\Builders\Select\SelectBuilder.cs:行号 150
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass63.<GetDynamicList>b__62() 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:86210560-94dc-4f49-a327-99db021fb683
Error Number:207,State:1,Class:16
2017-01-07 00:45:09,480 [3192] ERROR /api/Pyn/CamaraInfo - System.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Serie'.
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 23
   在 Zephyr.Core.ServiceBase`1.GetDynamicList(ParamQuery param) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.ServiceBase`1.GetDynamicListWithPaging(ParamQuery param) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 43
   在 Zephyr.Areas.Pyn.Controllers.CamaraInfoApiController.Get(RequestWrapper query) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Web\Areas\Pyn\Controllers\CamaraInfoController.cs:行号 103
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:86210560-94dc-4f49-a327-99db021fb683
Error Number:207,State:1,Class:16
2017-01-07 00:45:25,672 [7284] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/CamaraType/Index','/Pyn/CamaraType')
2017-01-07 00:45:25,673 [7284] DEBUG Servicesys_code - 获取动态列表
2017-01-07 00:45:25,673 [7284] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'CamaraSerie'
2017-01-07 00:45:25,674 [7284] DEBUG Servicesys_code - 获取动态列表
2017-01-07 00:45:25,674 [7284] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'CamaraInfo'
2017-01-07 00:45:26,190 [7008] DEBUG ServiceCamaraInfo - 获取动态列表
2017-01-07 00:45:26,190 [7008] DEBUG Pyn - select top 20 * from CamaraInfo order by CamaraCode
2017-01-07 00:45:26,191 [7008] DEBUG Pyn - select count(*) from ( select * from CamaraInfo ) tb_temp
2017-01-07 00:48:42,007 [7008] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/CamaraType/Index','/Pyn/CamaraType')
2017-01-07 00:48:42,008 [7008] DEBUG Servicesys_code - 获取动态列表
2017-01-07 00:48:42,008 [7008] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'CamaraSerie'
2017-01-07 00:48:42,009 [7008] DEBUG Servicesys_code - 获取动态列表
2017-01-07 00:48:42,009 [7008] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'CamaraInfo'
2017-01-07 00:48:42,718 [3192] DEBUG ServiceCamaraInfo - 获取动态列表
2017-01-07 00:48:42,718 [3192] DEBUG Pyn - select top 20 * from CamaraInfo order by CamaraCode
2017-01-07 00:48:42,719 [3192] DEBUG Pyn - select count(*) from ( select * from CamaraInfo ) tb_temp
2017-01-07 00:49:31,427 [7420] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 00:49:31,468 [7420] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 00:49:31,631 [7420] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 00:49:31,671 [7420] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 00:49:31,721 [7420] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 00:49:31,742 [7420] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 00:49:32,076 [7176] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2017-01-07 00:49:34,011 [7176] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2017-01-07 00:49:36,968 [7848] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/CamaraType/Index','/Pyn/CamaraType')
2017-01-07 00:49:49,122 [7848] DEBUG Servicesys_code - 获取动态列表
2017-01-07 00:49:55,747 [7848] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'CamaraSerie'
2017-01-07 00:50:22,123 [7848] DEBUG Servicesys_code - 获取动态列表
2017-01-07 00:50:26,937 [7848] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'CamaraInfo'
2017-01-07 00:51:05,511 [7496] DEBUG ServiceCamaraInfo - 获取动态列表
2017-01-07 00:51:05,511 [7496] DEBUG Pyn - select top 20 * from CamaraInfo order by CamaraCode
2017-01-07 00:51:05,545 [7496] DEBUG Pyn - select count(*) from ( select * from CamaraInfo ) tb_temp
2017-01-07 00:51:46,481 [8080] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 00:51:46,494 [8080] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 00:51:46,632 [8080] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 00:51:46,664 [8080] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 00:51:46,722 [8080] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 00:51:46,738 [8080] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 00:51:46,914 [7636] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2017-01-07 00:51:48,431 [7848] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2017-01-07 00:51:51,539 [7848] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/CamaraType/Index','/Pyn/CamaraType')
2017-01-07 00:51:51,548 [7848] DEBUG Servicesys_code - 获取动态列表
2017-01-07 00:51:51,555 [7848] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'CamaraSerie'
2017-01-07 00:51:51,559 [7848] DEBUG Servicesys_code - 获取动态列表
2017-01-07 00:51:51,560 [7848] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'CamaraType'
2017-01-07 00:52:50,786 [8080] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 00:52:50,798 [8080] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 00:52:50,952 [8080] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 00:52:50,984 [8080] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 00:52:51,025 [8080] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 00:52:51,043 [8080] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 00:52:51,204 [5484] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2017-01-07 00:52:52,647 [7496] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2017-01-07 00:52:54,120 [7840] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/CamaraType/Index','/Pyn/CamaraType')
2017-01-07 00:52:54,142 [7840] DEBUG Servicesys_code - 获取动态列表
2017-01-07 00:52:54,147 [7840] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'CamaraSerie'
2017-01-07 00:52:54,148 [7840] DEBUG Servicesys_code - 获取动态列表
2017-01-07 00:52:54,149 [7840] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'CamaraType'
2017-01-07 00:54:39,489 [8080] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 00:54:39,503 [8080] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 00:54:39,656 [8080] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 00:54:39,689 [8080] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 00:54:39,738 [8080] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 00:54:39,752 [8080] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 00:54:39,912 [5484] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/CamaraType/Index','/Pyn/CamaraType')
2017-01-07 00:54:39,920 [5484] DEBUG Servicesys_code - 获取动态列表
2017-01-07 00:54:39,925 [5484] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'CamaraSerie'
2017-01-07 00:54:39,927 [5484] DEBUG Servicesys_code - 获取动态列表
2017-01-07 00:54:39,927 [5484] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'CamaraType'
2017-01-07 00:54:41,524 [7848] DEBUG ServiceCamaraInfo - 获取动态列表
2017-01-07 00:54:41,524 [7848] DEBUG Pyn - select top 20 * from CamaraInfo order by CamaraCode
2017-01-07 00:54:41,628 [7848] DEBUG Pyn - select count(*) from ( select * from CamaraInfo ) tb_temp
2017-01-07 00:54:54,349 [4708] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 00:54:54,383 [4708] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 00:54:54,600 [4708] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 00:54:54,624 [4708] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 00:54:54,673 [4708] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 00:54:54,693 [4708] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 00:54:54,867 [6992] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/CamaraType/Index','/Pyn/CamaraType')
2017-01-07 00:55:08,367 [6992] DEBUG Servicesys_code - 获取动态列表
2017-01-07 00:55:11,272 [6992] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'CamaraSerie'
2017-01-07 00:55:11,293 [6992] DEBUG Servicesys_code - 获取动态列表
2017-01-07 00:55:12,675 [6992] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'CamaraType'
2017-01-07 00:55:20,445 [7592] DEBUG ServiceCamaraInfo - 获取动态列表
2017-01-07 00:55:22,965 [7592] DEBUG Pyn - select top 20 * from CamaraInfo order by CamaraCode
2017-01-07 00:55:24,669 [7592] DEBUG Pyn - select count(*) from ( select * from CamaraInfo ) tb_temp
2017-01-07 00:55:34,645 [7592] DEBUG ServiceCamaraInfo - 获取动态列表
2017-01-07 00:55:36,176 [7592] DEBUG Pyn - select top 20 * from CamaraInfo where  IsEnable =  'True' order by CamaraCode
2017-01-07 00:55:37,037 [7592] DEBUG Pyn - select count(*) from ( select * from CamaraInfo where  IsEnable =  'True' ) tb_temp
2017-01-07 00:57:19,071 [7584] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 00:57:19,096 [7584] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 00:57:19,244 [7584] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 00:57:19,277 [7584] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 00:57:19,367 [7584] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 00:57:19,382 [7584] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 00:57:19,722 [4728] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2017-01-07 00:57:22,096 [5060] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2017-01-07 00:57:24,114 [6108] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/CamaraType/Index','/Pyn/CamaraType')
2017-01-07 00:57:27,945 [6108] DEBUG Servicesys_code - 获取动态列表
2017-01-07 00:57:27,954 [6108] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'CamaraSerie'
2017-01-07 00:57:27,975 [6108] DEBUG Servicesys_code - 获取动态列表
2017-01-07 00:57:27,975 [6108] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'CamaraType'
2017-01-07 00:57:54,328 [5060] DEBUG ServiceCamaraType - 获取动态列表
2017-01-07 00:57:54,329 [5060] DEBUG Pyn - select top 20 * from CamaraInfo order by ID
2017-01-07 00:57:54,555 [5060] ERROR ServiceCamaraType - 获取动态列表失败
System.Data.SqlClient.SqlException (0x80131904): Invalid column name 'ID'.
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QueryMany[TEntity,TList](Action`2 customMapper) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 14
   在 Zephyr.Data.DbCommand.QueryMany[TEntity](Action`2 customMapper) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 36
   在 Zephyr.Data.SelectBuilder`1.QueryManyDynamic() 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Data\Builders\Select\SelectBuilder.cs:行号 150
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass63.<GetDynamicList>b__62() 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:f4a08f81-59bc-4b2d-8467-916b05ed32d3
Error Number:207,State:1,Class:16
2017-01-07 00:58:30,804 [5060] ERROR /api/Pyn/CamaraType - System.Data.SqlClient.SqlException (0x80131904): Invalid column name 'ID'.
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 23
   在 Zephyr.Core.ServiceBase`1.GetDynamicList(ParamQuery param) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.ServiceBase`1.GetDynamicListWithPaging(ParamQuery param) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 43
   在 Zephyr.Areas.Pyn.Controllers.CamaraTypeApiController.Get(RequestWrapper query) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Web\Areas\Pyn\Controllers\CamaraTypeController.cs:行号 98
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:f4a08f81-59bc-4b2d-8467-916b05ed32d3
Error Number:207,State:1,Class:16
2017-01-07 01:01:33,923 [4444] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 01:01:33,948 [4444] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 01:01:34,175 [4444] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 01:01:34,216 [4444] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 01:01:34,264 [4444] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 01:01:34,278 [4444] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 01:01:34,604 [7540] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2017-01-07 01:01:36,850 [6108] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2017-01-07 01:01:38,729 [6108] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/CamaraType/Index','/Pyn/CamaraType')
2017-01-07 01:01:42,498 [6108] DEBUG Servicesys_code - 获取动态列表
2017-01-07 01:01:42,508 [6108] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'CamaraSerie'
2017-01-07 01:01:42,525 [6108] DEBUG Servicesys_code - 获取动态列表
2017-01-07 01:01:42,525 [6108] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'CamaraType'
2017-01-07 01:02:13,612 [7540] DEBUG ServiceCamaraType - 获取动态列表
2017-01-07 01:02:13,613 [7540] DEBUG Pyn - select top 20 * from CamaraInfo order by ID
2017-01-07 01:02:13,815 [7540] ERROR ServiceCamaraType - 获取动态列表失败
System.Data.SqlClient.SqlException (0x80131904): Invalid column name 'ID'.
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QueryMany[TEntity,TList](Action`2 customMapper) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 14
   在 Zephyr.Data.DbCommand.QueryMany[TEntity](Action`2 customMapper) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 36
   在 Zephyr.Data.SelectBuilder`1.QueryManyDynamic() 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Data\Builders\Select\SelectBuilder.cs:行号 150
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass63.<GetDynamicList>b__62() 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:18551adf-bdb7-4fb7-a2f1-ab3731bee6f2
Error Number:207,State:1,Class:16
2017-01-07 01:02:53,427 [7540] ERROR /api/Pyn/CamaraType - System.Data.SqlClient.SqlException (0x80131904): Invalid column name 'ID'.
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 23
   在 Zephyr.Core.ServiceBase`1.GetDynamicList(ParamQuery param) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.ServiceBase`1.GetDynamicListWithPaging(ParamQuery param) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 43
   在 Zephyr.Areas.Pyn.Controllers.CamaraTypeApiController.Get(RequestWrapper query) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Web\Areas\Pyn\Controllers\CamaraTypeController.cs:行号 98
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:18551adf-bdb7-4fb7-a2f1-ab3731bee6f2
Error Number:207,State:1,Class:16
2017-01-07 01:04:05,820 [7064] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 01:04:05,832 [7064] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 01:04:05,978 [7064] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 01:04:06,010 [7064] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 01:04:06,051 [7064] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 01:04:06,065 [7064] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 01:04:06,218 [4424] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2017-01-07 01:04:07,527 [4924] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2017-01-07 01:04:09,616 [4924] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/CamaraType/Index','/Pyn/CamaraType')
2017-01-07 01:04:09,633 [4924] DEBUG Servicesys_code - 获取动态列表
2017-01-07 01:04:09,643 [4924] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'CamaraSerie'
2017-01-07 01:04:09,646 [4924] DEBUG Servicesys_code - 获取动态列表
2017-01-07 01:04:09,646 [4924] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'CamaraType'
2017-01-07 01:04:10,827 [4424] DEBUG ServiceCamaraType - 获取动态列表
2017-01-07 01:04:10,828 [4424] DEBUG Pyn - select top 20 * from CamaraType order by ID
2017-01-07 01:04:10,838 [4424] DEBUG Pyn - select count(*) from ( select * from CamaraType ) tb_temp
2017-01-07 01:04:19,153 [7716] DEBUG ServiceCamaraType - 获取动态列表
2017-01-07 01:04:19,153 [7716] DEBUG Pyn - select top 20 * from CamaraType order by ID
2017-01-07 01:04:19,153 [7716] DEBUG Pyn - select count(*) from ( select * from CamaraType ) tb_temp
2017-01-07 01:04:39,073 [7716] DEBUG ServiceCamaraType - 获取动态列表
2017-01-07 01:04:39,073 [7716] DEBUG Pyn - select top 20 * from CamaraType where  Description =  '1111' order by ID
2017-01-07 01:04:39,075 [7716] DEBUG Pyn - select count(*) from ( select * from CamaraType where  Description =  '1111' ) tb_temp
2017-01-07 01:04:51,644 [4924] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/role/Index','/Sys/role')
2017-01-07 01:04:51,651 [4924] DEBUG Servicesys_user - 获取动态列表
2017-01-07 01:04:51,651 [4924] DEBUG Sys - select UserCode,UserName from sys_user
2017-01-07 01:04:51,652 [4924] DEBUG Servicesys_organize - 获取动态列表
2017-01-07 01:04:51,653 [4924] DEBUG Sys - select OrganizeCode,OrganizeName from sys_organize
2017-01-07 01:04:52,146 [4424] DEBUG Servicesys_role - 获取实体列表
2017-01-07 01:04:52,147 [4424] DEBUG Sys - select sys_role.* from sys_role order by RoleSeq
2017-01-07 01:04:54,681 [6924] DEBUG Sys - select * from sys_button order by ButtonSeq
2017-01-07 01:04:54,683 [6924] DEBUG Sys - select A.MenuName,A.MenuCode,A.ParentCode,A.IconClass as iconCls,B.MenuName as ParentName,(select 1 from sys_roleMenuMap tb_role where tb_role.RoleCode='super' and tb_role.MenuCode=A.MenuCode) as checked,(
select case when max(tb1_accredit.ID) is null then -1 
            when max(tb2_accredit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_accredit
left join sys_roleMenuButtonMap AS tb2_accredit ON tb2_accredit.MenuCode=tb1_accredit.MenuCode AND tb2_accredit.ButtonCode=tb1_accredit.ButtonCode AND tb2_accredit.RoleCode='super'
where tb1_accredit.MenuCode = A.MenuCode and  tb1_accredit.ButtonCode = 'accredit'  
)as 'btn_accredit' ,(
select case when max(tb1_add.ID) is null then -1 
            when max(tb2_add.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_add
left join sys_roleMenuButtonMap AS tb2_add ON tb2_add.MenuCode=tb1_add.MenuCode AND tb2_add.ButtonCode=tb1_add.ButtonCode AND tb2_add.RoleCode='super'
where tb1_add.MenuCode = A.MenuCode and  tb1_add.ButtonCode = 'add'  
)as 'btn_add' ,(
select case when max(tb1_audit.ID) is null then -1 
            when max(tb2_audit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_audit
left join sys_roleMenuButtonMap AS tb2_audit ON tb2_audit.MenuCode=tb1_audit.MenuCode AND tb2_audit.ButtonCode=tb1_audit.ButtonCode AND tb2_audit.RoleCode='super'
where tb1_audit.MenuCode = A.MenuCode and  tb1_audit.ButtonCode = 'audit'  
)as 'btn_audit' ,(
select case when max(tb1_browse.ID) is null then -1 
            when max(tb2_browse.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_browse
left join sys_roleMenuButtonMap AS tb2_browse ON tb2_browse.MenuCode=tb1_browse.MenuCode AND tb2_browse.ButtonCode=tb1_browse.ButtonCode AND tb2_browse.RoleCode='super'
where tb1_browse.MenuCode = A.MenuCode and  tb1_browse.ButtonCode = 'browse'  
)as 'btn_browse' ,(
select case when max(tb1_copy.ID) is null then -1 
            when max(tb2_copy.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_copy
left join sys_roleMenuButtonMap AS tb2_copy ON tb2_copy.MenuCode=tb1_copy.MenuCode AND tb2_copy.ButtonCode=tb1_copy.ButtonCode AND tb2_copy.RoleCode='super'
where tb1_copy.MenuCode = A.MenuCode and  tb1_copy.ButtonCode = 'copy'  
)as 'btn_copy' ,(
select case when max(tb1_delete.ID) is null then -1 
            when max(tb2_delete.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_delete
left join sys_roleMenuButtonMap AS tb2_delete ON tb2_delete.MenuCode=tb1_delete.MenuCode AND tb2_delete.ButtonCode=tb1_delete.ButtonCode AND tb2_delete.RoleCode='super'
where tb1_delete.MenuCode = A.MenuCode and  tb1_delete.ButtonCode = 'delete'  
)as 'btn_delete' ,(
select case when max(tb1_download.ID) is null then -1 
            when max(tb2_download.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_download
left join sys_roleMenuButtonMap AS tb2_download ON tb2_download.MenuCode=tb1_download.MenuCode AND tb2_download.ButtonCode=tb1_download.ButtonCode AND tb2_download.RoleCode='super'
where tb1_download.MenuCode = A.MenuCode and  tb1_download.ButtonCode = 'download'  
)as 'btn_download' ,(
select case when max(tb1_edit.ID) is null then -1 
            when max(tb2_edit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_edit
left join sys_roleMenuButtonMap AS tb2_edit ON tb2_edit.MenuCode=tb1_edit.MenuCode AND tb2_edit.ButtonCode=tb1_edit.ButtonCode AND tb2_edit.RoleCode='super'
where tb1_edit.MenuCode = A.MenuCode and  tb1_edit.ButtonCode = 'edit'  
)as 'btn_edit' ,(
select case when max(tb1_export.ID) is null then -1 
            when max(tb2_export.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_export
left join sys_roleMenuButtonMap AS tb2_export ON tb2_export.MenuCode=tb1_export.MenuCode AND tb2_export.ButtonCode=tb1_export.ButtonCode AND tb2_export.RoleCode='super'
where tb1_export.MenuCode = A.MenuCode and  tb1_export.ButtonCode = 'export'  
)as 'btn_export' ,(
select case when max(tb1_import.ID) is null then -1 
            when max(tb2_import.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_import
left join sys_roleMenuButtonMap AS tb2_import ON tb2_import.MenuCode=tb1_import.MenuCode AND tb2_import.ButtonCode=tb1_import.ButtonCode AND tb2_import.RoleCode='super'
where tb1_import.MenuCode = A.MenuCode and  tb1_import.ButtonCode = 'import'  
)as 'btn_import' ,(
select case when max(tb1_print.ID) is null then -1 
            when max(tb2_print.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_print
left join sys_roleMenuButtonMap AS tb2_print ON tb2_print.MenuCode=tb1_print.MenuCode AND tb2_print.ButtonCode=tb1_print.ButtonCode AND tb2_print.RoleCode='super'
where tb1_print.MenuCode = A.MenuCode and  tb1_print.ButtonCode = 'print'  
)as 'btn_print' ,(
select case when max(tb1_refresh.ID) is null then -1 
            when max(tb2_refresh.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_refresh
left join sys_roleMenuButtonMap AS tb2_refresh ON tb2_refresh.MenuCode=tb1_refresh.MenuCode AND tb2_refresh.ButtonCode=tb1_refresh.ButtonCode AND tb2_refresh.RoleCode='super'
where tb1_refresh.MenuCode = A.MenuCode and  tb1_refresh.ButtonCode = 'refresh'  
)as 'btn_refresh' ,(
select case when max(tb1_save.ID) is null then -1 
            when max(tb2_save.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_save
left join sys_roleMenuButtonMap AS tb2_save ON tb2_save.MenuCode=tb1_save.MenuCode AND tb2_save.ButtonCode=tb1_save.ButtonCode AND tb2_save.RoleCode='super'
where tb1_save.MenuCode = A.MenuCode and  tb1_save.ButtonCode = 'save'  
)as 'btn_save' ,(
select case when max(tb1_search.ID) is null then -1 
            when max(tb2_search.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_search
left join sys_roleMenuButtonMap AS tb2_search ON tb2_search.MenuCode=tb1_search.MenuCode AND tb2_search.ButtonCode=tb1_search.ButtonCode AND tb2_search.RoleCode='super'
where tb1_search.MenuCode = A.MenuCode and  tb1_search.ButtonCode = 'search'  
)as 'btn_search' 
from sys_menu as A
left join sys_menu B on B.MenuCode = A.ParentCode
where A.IsEnable = 1
order by A.MenuSeq,A.MenuCode
2017-01-07 01:04:54,713 [4924] DEBUG Servicesys_permission - 获取动态列表
2017-01-07 01:04:54,722 [6924] DEBUG Sys - select * from sys_roleMenuColumnMap where RoleCode = 'super'
2017-01-07 01:04:54,752 [4924] DEBUG Sys - select A.*
,case when B.PermissionCode is null then 0 else 1           end as checked
,case when B.PermissionCode is null then 0 else B.IsDefault end as IsDefault from sys_permission A
left join sys_rolePermissionMap B on B.RoleCode='super' and B.PermissionCode = A.PermissionCode 
2017-01-07 01:05:09,011 [7716] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/menu/Index','/Sys/menu')
2017-01-07 01:05:09,460 [6924] DEBUG Servicesys_menu - 获取动态列表
2017-01-07 01:05:09,460 [6924] DEBUG Sys - select A.*,B.MenuName as ParentName from sys_menu A left join sys_menu B on B.MenuCode = A.ParentCode order by A.MenuSeq,A.MenuCode
2017-01-07 01:05:12,063 [4424] DEBUG Sys - 
select A.*,
       case when B.ID is null then 0 else 1 end as Selected
from sys_button A
left join sys_menuButtonMap B on B.MenuCode = '1301' and B.ButtonCode = A.ButtonCode
order by ButtonSeq
2017-01-07 01:06:45,692 [4444] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 01:06:45,704 [4444] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 01:06:45,849 [4444] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 01:06:45,873 [4444] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 01:06:45,914 [4444] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 01:06:45,927 [4444] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 01:06:46,092 [4424] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2017-01-07 01:06:47,495 [7540] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2017-01-07 01:06:47,671 [4924] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/CamaraType/Index','/Pyn/CamaraType')
2017-01-07 01:06:47,682 [4924] DEBUG Servicesys_code - 获取动态列表
2017-01-07 01:06:47,688 [4924] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'CamaraSerie'
2017-01-07 01:06:47,690 [4924] DEBUG Servicesys_code - 获取动态列表
2017-01-07 01:06:47,690 [4924] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'CamaraType'
2017-01-07 01:06:48,740 [7540] DEBUG ServiceCamaraType - 获取动态列表
2017-01-07 01:06:48,740 [7540] DEBUG Pyn - select top 20 * from CamaraType order by ID
2017-01-07 01:06:48,755 [7540] DEBUG Pyn - select count(*) from ( select * from CamaraType ) tb_temp
2017-01-07 01:06:55,815 [4424] DEBUG ServiceCamaraType - 编辑记录
2017-01-07 01:06:55,823 [4424] DEBUG ServiceCamaraType - 获取动态对象
2017-01-07 01:06:55,825 [4424] DEBUG Pyn - select 
        CamaraType
    .* from 
        CamaraType
     where  ID =  '1'
2017-01-07 01:06:55,835 [4424] DEBUG Pyn - update 
        CamaraType
     set [Serie] = '109', [Type] = '111', [Description] = '性价比高，最低200万像素', [IsEnable] = 'false', [CreatePerson] = '许薛军', [CreateDate] = '2016/12/23 0:43:38', [UpdatePerson] = '许薛军', [UpdateDate] = '2017/1/7 1:06:55' where  ID =  '1'
2017-01-07 01:07:41,951 [5524] DEBUG ServiceCamaraType - 获取新主键
2017-01-07 01:07:41,968 [5524] DEBUG Pyn - select isnull(max(ID),0) from CamaraType  where 1 = 1 
2017-01-07 01:08:10,069 [7540] DEBUG ServiceCamaraType - 获取新主键
2017-01-07 01:08:10,070 [7540] DEBUG Pyn - select isnull(max(ID),0) from CamaraType  where 1 = 1 
2017-01-07 01:08:46,513 [4924] DEBUG ServiceCamaraType - 编辑记录
2017-01-07 01:08:46,513 [4924] DEBUG ServiceCamaraType - 获取动态对象
2017-01-07 01:08:46,514 [4924] DEBUG Pyn - select 
        CamaraType
    .* from 
        CamaraType
     where  ID =  '1'
2017-01-07 01:08:46,517 [4924] DEBUG Pyn - delete from 
        CamaraType
     where  ID =  '1'
2017-01-07 01:08:46,559 [4924] ERROR ServiceCamaraType - 编辑记录失败
System.Exception: 数据已经被引用，更新失败，请先删除引用数据并重试！
   在 Zephyr.Core.Db.<Context>b__2(ErrorEventArgs e) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Core\Db.cs:行号 98
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 105
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.Execute() 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Data\Command\PartialClasses\Execute.cs:行号 9
   在 Zephyr.Data.BaseDeleteBuilder.Execute() 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Data\Builders\Delete\BaseDeleteBuilder.cs:行号 18
   在 Zephyr.Core.ServiceBase`1.<Edit>b__4f(RequestWrapper x) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 60
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass55.<Edit>b__52() 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 119
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
2017-01-07 01:08:46,579 [4924] ERROR /api/Pyn/CamaraType/getedit - System.Exception: 数据已经被引用，更新失败，请先删除引用数据并重试！
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 23
   在 Zephyr.Core.ServiceBase`1.Edit(RequestWrapper formWrapper, RequestWrapper listWrapper, JObject data) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 68
   在 CallSite.Target(Closure , CallSite , CamaraTypeService , Object , RequestWrapper , Object )
   在 Zephyr.Areas.Pyn.Controllers.CamaraTypeApiController.GetEdit(Object data) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Web\Areas\Pyn\Controllers\CamaraTypeController.cs:行号 116
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClassf.<GetExecutor>b__9(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
2017-01-07 01:08:54,452 [4924] DEBUG ServiceCamaraType - 编辑记录
2017-01-07 01:08:54,453 [4924] DEBUG ServiceCamaraType - 获取动态对象
2017-01-07 01:08:54,454 [4924] DEBUG Pyn - select 
        CamaraType
    .* from 
        CamaraType
     where  ID =  '1'
2017-01-07 01:08:54,455 [4924] DEBUG Pyn - delete from 
        CamaraType
     where  ID =  '1'
2017-01-07 01:08:54,463 [4924] ERROR ServiceCamaraType - 编辑记录失败
System.Exception: 数据已经被引用，更新失败，请先删除引用数据并重试！
   在 Zephyr.Core.Db.<Context>b__2(ErrorEventArgs e) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Core\Db.cs:行号 98
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 105
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.Execute() 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Data\Command\PartialClasses\Execute.cs:行号 9
   在 Zephyr.Data.BaseDeleteBuilder.Execute() 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Data\Builders\Delete\BaseDeleteBuilder.cs:行号 18
   在 Zephyr.Core.ServiceBase`1.<Edit>b__4f(RequestWrapper x) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 60
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass55.<Edit>b__52() 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 119
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
2017-01-07 01:08:54,470 [4924] ERROR /api/Pyn/CamaraType/getedit - System.Exception: 数据已经被引用，更新失败，请先删除引用数据并重试！
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 23
   在 Zephyr.Core.ServiceBase`1.Edit(RequestWrapper formWrapper, RequestWrapper listWrapper, JObject data) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 68
   在 CallSite.Target(Closure , CallSite , CamaraTypeService , Object , RequestWrapper , Object )
   在 Zephyr.Areas.Pyn.Controllers.CamaraTypeApiController.GetEdit(Object data) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Web\Areas\Pyn\Controllers\CamaraTypeController.cs:行号 116
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClassf.<GetExecutor>b__9(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
2017-01-07 01:08:59,568 [6672] DEBUG ServiceCamaraType - 获取动态列表
2017-01-07 01:08:59,568 [6672] DEBUG Pyn - select top 20 * from CamaraType where  IsEnable =  'True' order by ID
2017-01-07 01:08:59,569 [6672] DEBUG Pyn - select count(*) from ( select * from CamaraType where  IsEnable =  'True' ) tb_temp
2017-01-07 01:09:00,614 [4924] DEBUG ServiceCamaraType - 获取动态列表
2017-01-07 01:09:00,614 [4924] DEBUG Pyn - select top 20 * from CamaraType where  IsEnable =  'True' order by ID
2017-01-07 01:09:00,615 [4924] DEBUG Pyn - select count(*) from ( select * from CamaraType where  IsEnable =  'True' ) tb_temp
2017-01-07 01:09:01,186 [7540] DEBUG ServiceCamaraType - 获取动态列表
2017-01-07 01:09:01,186 [7540] DEBUG Pyn - select top 20 * from CamaraType where  IsEnable =  'True' order by ID
2017-01-07 01:09:01,187 [7540] DEBUG Pyn - select count(*) from ( select * from CamaraType where  IsEnable =  'True' ) tb_temp
2017-01-07 01:09:01,489 [6672] DEBUG ServiceCamaraType - 获取动态列表
2017-01-07 01:09:01,489 [6672] DEBUG Pyn - select top 20 * from CamaraType where  IsEnable =  'True' order by ID
2017-01-07 01:09:01,489 [6672] DEBUG Pyn - select count(*) from ( select * from CamaraType where  IsEnable =  'True' ) tb_temp
2017-01-07 01:09:01,734 [7296] DEBUG ServiceCamaraType - 获取动态列表
2017-01-07 01:09:01,734 [7296] DEBUG Pyn - select top 20 * from CamaraType where  IsEnable =  'True' order by ID
2017-01-07 01:09:01,735 [7296] DEBUG Pyn - select count(*) from ( select * from CamaraType where  IsEnable =  'True' ) tb_temp
2017-01-07 01:09:02,017 [7716] DEBUG ServiceCamaraType - 获取动态列表
2017-01-07 01:09:02,018 [7716] DEBUG Pyn - select top 20 * from CamaraType where  IsEnable =  'True' order by ID
2017-01-07 01:09:02,018 [7716] DEBUG Pyn - select count(*) from ( select * from CamaraType where  IsEnable =  'True' ) tb_temp
2017-01-07 01:09:03,556 [5524] DEBUG ServiceCamaraType - 获取新主键
2017-01-07 01:09:03,556 [5524] DEBUG Pyn - select isnull(max(ID),0) from CamaraType  where 1 = 1 
2017-01-07 01:09:36,542 [7716] DEBUG ServiceCamaraType - 编辑记录
2017-01-07 01:09:36,542 [7716] DEBUG ServiceCamaraType - 获取动态对象
2017-01-07 01:09:36,543 [7716] DEBUG Pyn - select 
        CamaraType
    .* from 
        CamaraType
     where  ID =  '5'
2017-01-07 01:09:36,548 [7716] DEBUG Pyn - insert into 
        CamaraType
    ([ID],[Serie],[Type],[Description],[IsEnable],[UpdatePerson],[UpdateDate],[CreatePerson],[CreateDate]) values('5','ACD','ACA1600-20gu','性价比高，最低500万像素','false','许薛军','2017/1/7 1:09:36','许薛军','2017/1/7 1:09:36')
2017-01-07 01:09:36,551 [7716] ERROR ServiceCamaraType - 编辑记录失败
System.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'CamaraType' when IDENTITY_INSERT is set to OFF.
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.Execute() 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Data\Command\PartialClasses\Execute.cs:行号 9
   在 Zephyr.Data.BaseInsertBuilder.Execute() 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Data\Builders\Insert\BaseInsertBuilder.cs:行号 22
   在 Zephyr.Core.ServiceBase`1.<Edit>b__51(RequestWrapper x) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 62
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass55.<Edit>b__52() 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 119
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:8139f7b8-d237-4031-84ef-d842a871dfa1
Error Number:544,State:1,Class:16
2017-01-07 01:09:36,558 [7716] ERROR /api/Pyn/CamaraType/getedit - System.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'CamaraType' when IDENTITY_INSERT is set to OFF.
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 23
   在 Zephyr.Core.ServiceBase`1.Edit(RequestWrapper formWrapper, RequestWrapper listWrapper, JObject data) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 68
   在 CallSite.Target(Closure , CallSite , CamaraTypeService , Object , RequestWrapper , Object )
   在 Zephyr.Areas.Pyn.Controllers.CamaraTypeApiController.GetEdit(Object data) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Web\Areas\Pyn\Controllers\CamaraTypeController.cs:行号 116
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClassf.<GetExecutor>b__9(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:8139f7b8-d237-4031-84ef-d842a871dfa1
Error Number:544,State:1,Class:16
2017-01-07 01:11:31,010 [6912] DEBUG ServiceCamaraType - 获取动态列表
2017-01-07 01:11:31,010 [6912] DEBUG Pyn - select top 20 * from CamaraType where  IsEnable =  'True' order by ID
2017-01-07 01:11:31,012 [6912] DEBUG Pyn - select count(*) from ( select * from CamaraType where  IsEnable =  'True' ) tb_temp
2017-01-07 01:11:31,961 [4924] DEBUG ServiceCamaraType - 获取动态列表
2017-01-07 01:11:31,962 [4924] DEBUG Pyn - select top 20 * from CamaraType where  IsEnable =  'True' order by ID
2017-01-07 01:11:31,970 [4924] DEBUG Pyn - select count(*) from ( select * from CamaraType where  IsEnable =  'True' ) tb_temp
2017-01-07 01:11:32,528 [6912] DEBUG ServiceCamaraType - 获取动态列表
2017-01-07 01:11:32,528 [6912] DEBUG Pyn - select top 20 * from CamaraType where  IsEnable =  'True' order by ID
2017-01-07 01:11:32,532 [6912] DEBUG Pyn - select count(*) from ( select * from CamaraType where  IsEnable =  'True' ) tb_temp
2017-01-07 01:11:32,731 [7540] DEBUG ServiceCamaraType - 获取动态列表
2017-01-07 01:11:32,732 [7540] DEBUG Pyn - select top 20 * from CamaraType where  IsEnable =  'True' order by ID
2017-01-07 01:11:32,735 [7540] DEBUG Pyn - select count(*) from ( select * from CamaraType where  IsEnable =  'True' ) tb_temp
2017-01-07 01:11:32,959 [6912] DEBUG ServiceCamaraType - 获取动态列表
2017-01-07 01:11:32,960 [6912] DEBUG Pyn - select top 20 * from CamaraType where  IsEnable =  'True' order by ID
2017-01-07 01:11:32,962 [6912] DEBUG Pyn - select count(*) from ( select * from CamaraType where  IsEnable =  'True' ) tb_temp
2017-01-07 01:11:33,175 [7540] DEBUG ServiceCamaraType - 获取动态列表
2017-01-07 01:11:33,175 [7540] DEBUG Pyn - select top 20 * from CamaraType where  IsEnable =  'True' order by ID
2017-01-07 01:11:33,176 [7540] DEBUG Pyn - select count(*) from ( select * from CamaraType where  IsEnable =  'True' ) tb_temp
2017-01-07 01:11:35,023 [7676] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/CamaraType/Index','/Pyn/CamaraType')
2017-01-07 01:11:35,027 [7676] DEBUG Servicesys_code - 获取动态列表
2017-01-07 01:11:35,027 [7676] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'CamaraSerie'
2017-01-07 01:11:35,028 [7676] DEBUG Servicesys_code - 获取动态列表
2017-01-07 01:11:35,028 [7676] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'CamaraType'
2017-01-07 01:11:35,597 [4924] DEBUG ServiceCamaraType - 获取动态列表
2017-01-07 01:11:35,597 [4924] DEBUG Pyn - select top 20 * from CamaraType order by ID
2017-01-07 01:11:35,598 [4924] DEBUG Pyn - select count(*) from ( select * from CamaraType ) tb_temp
2017-01-07 01:15:17,501 [7420] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/CamaraType/Index','/Pyn/CamaraType')
2017-01-07 01:15:17,516 [7420] DEBUG Servicesys_code - 获取动态列表
2017-01-07 01:15:17,516 [7420] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'CamaraSerie'
2017-01-07 01:15:17,525 [7420] DEBUG Servicesys_code - 获取动态列表
2017-01-07 01:15:17,525 [7420] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'CamaraType'
2017-01-07 01:15:18,119 [2232] DEBUG ServiceCamaraType - 获取动态列表
2017-01-07 01:15:18,125 [2232] DEBUG Pyn - select top 20 * from CamaraType order by ID
2017-01-07 01:15:18,125 [2232] DEBUG Pyn - select count(*) from ( select * from CamaraType ) tb_temp
2017-01-07 01:15:19,757 [4924] DEBUG ServiceCamaraType - 获取新主键
2017-01-07 01:15:19,758 [4924] DEBUG Pyn - select isnull(max(ID),0) from CamaraType  where 1 = 1 
2017-01-07 01:16:01,686 [2232] DEBUG ServiceCamaraType - 编辑记录
2017-01-07 01:16:01,686 [2232] DEBUG ServiceCamaraType - 获取动态对象
2017-01-07 01:16:01,688 [2232] DEBUG Pyn - select 
        CamaraType
    .* from 
        CamaraType
     where  ID =  '6'
2017-01-07 01:16:01,692 [2232] DEBUG Pyn - insert into 
        CamaraType
    ([ID],[Serie],[Type],[Description],[IsEnable],[UpdatePerson],[UpdateDate],[CreatePerson],[CreateDate]) values('6','ACF','ACA1600-20GU','高像素','false','许薛军','2017/1/7 1:16:01','许薛军','2017/1/7 1:16:01')
2017-01-07 01:16:01,695 [2232] ERROR ServiceCamaraType - 编辑记录失败
System.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'CamaraType' when IDENTITY_INSERT is set to OFF.
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.Execute() 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Data\Command\PartialClasses\Execute.cs:行号 9
   在 Zephyr.Data.BaseInsertBuilder.Execute() 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Data\Builders\Insert\BaseInsertBuilder.cs:行号 22
   在 Zephyr.Core.ServiceBase`1.<Edit>b__51(RequestWrapper x) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 62
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass55.<Edit>b__52() 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 119
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:1e56b5e0-b3f7-48c5-bd0a-e4c95959ae96
Error Number:544,State:1,Class:16
2017-01-07 01:16:01,701 [2232] ERROR /api/Pyn/CamaraType/getedit - System.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'CamaraType' when IDENTITY_INSERT is set to OFF.
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 23
   在 Zephyr.Core.ServiceBase`1.Edit(RequestWrapper formWrapper, RequestWrapper listWrapper, JObject data) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 68
   在 CallSite.Target(Closure , CallSite , CamaraTypeService , Object , RequestWrapper , Object )
   在 Zephyr.Areas.Pyn.Controllers.CamaraTypeApiController.GetEdit(Object data) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Web\Areas\Pyn\Controllers\CamaraTypeController.cs:行号 116
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClassf.<GetExecutor>b__9(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:1e56b5e0-b3f7-48c5-bd0a-e4c95959ae96
Error Number:544,State:1,Class:16
2017-01-07 01:16:27,271 [7676] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/CamaraType/Index','/Pyn/CamaraType')
2017-01-07 01:16:27,272 [7676] DEBUG Servicesys_code - 获取动态列表
2017-01-07 01:16:27,272 [7676] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'CamaraSerie'
2017-01-07 01:16:27,273 [7676] DEBUG Servicesys_code - 获取动态列表
2017-01-07 01:16:27,273 [7676] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'CamaraType'
2017-01-07 01:16:27,753 [2232] DEBUG ServiceCamaraType - 获取动态列表
2017-01-07 01:16:27,754 [2232] DEBUG Pyn - select top 20 * from CamaraType order by ID
2017-01-07 01:16:27,755 [2232] DEBUG Pyn - select count(*) from ( select * from CamaraType ) tb_temp
2017-01-07 01:17:48,755 [6648] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 01:17:48,781 [6648] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 01:17:48,931 [6648] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 01:17:48,965 [6648] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 01:17:48,972 [6648] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 01:17:48,979 [6648] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 01:17:49,331 [6732] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2017-01-07 01:17:51,329 [8172] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2017-01-07 01:17:53,426 [8172] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/CamaraType/Index','/Pyn/CamaraType')
2017-01-07 01:17:56,678 [8172] DEBUG Servicesys_code - 获取动态列表
2017-01-07 01:17:56,686 [8172] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'CamaraSerie'
2017-01-07 01:17:56,712 [8172] DEBUG Servicesys_code - 获取动态列表
2017-01-07 01:17:56,712 [8172] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'CamaraType'
2017-01-07 01:18:01,597 [8172] DEBUG ServiceCamaraType - 获取动态列表
2017-01-07 01:18:01,597 [8172] DEBUG Pyn - select top 20 * from CamaraType order by ID
2017-01-07 01:18:01,642 [8172] DEBUG Pyn - select count(*) from ( select * from CamaraType ) tb_temp
2017-01-07 01:18:05,538 [7952] DEBUG ServiceCamaraType - 获取新主键
2017-01-07 01:18:05,542 [7952] DEBUG Pyn - select isnull(max(ID),0) from CamaraType  where 1 = 1 
2017-01-07 01:18:44,965 [2620] DEBUG ServiceCamaraType - 编辑记录
2017-01-07 01:18:46,543 [2620] DEBUG ServiceCamaraType - 获取动态对象
2017-01-07 01:18:46,545 [2620] DEBUG Pyn - select 
        CamaraType
    .* from 
        CamaraType
     where  ID =  '3'
2017-01-07 01:18:46,585 [2620] DEBUG Pyn - insert into 
        CamaraType
    ([ID],[Serie],[Type],[Description],[IsEnable],[UpdatePerson],[UpdateDate],[CreatePerson],[CreateDate]) values('3','ACD','ACA1600-30GC','高像素1000万','false','许薛军','2017/1/7 1:18:46','许薛军','2017/1/7 1:18:46')
2017-01-07 01:18:46,763 [2620] ERROR ServiceCamaraType - 编辑记录失败
System.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'CamaraType' when IDENTITY_INSERT is set to OFF.
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.Execute() 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Data\Command\PartialClasses\Execute.cs:行号 9
   在 Zephyr.Data.BaseInsertBuilder.Execute() 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Data\Builders\Insert\BaseInsertBuilder.cs:行号 22
   在 Zephyr.Core.ServiceBase`1.<Edit>b__51(RequestWrapper x) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 62
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass55.<Edit>b__52() 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 119
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:169a6e56-e92f-417b-9412-6dd52aa6b24f
Error Number:544,State:1,Class:16
2017-01-07 01:18:52,237 [2620] ERROR /api/Pyn/CamaraType/getedit - System.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'CamaraType' when IDENTITY_INSERT is set to OFF.
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 23
   在 Zephyr.Core.ServiceBase`1.Edit(RequestWrapper formWrapper, RequestWrapper listWrapper, JObject data) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 68
   在 CallSite.Target(Closure , CallSite , CamaraTypeService , Object , RequestWrapper , Object )
   在 System.Dynamic.UpdateDelegates.UpdateAndExecute4[T0,T1,T2,T3,TRet](CallSite site, T0 arg0, T1 arg1, T2 arg2, T3 arg3)
   在 Zephyr.Areas.Pyn.Controllers.CamaraTypeApiController.GetEdit(Object data) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Web\Areas\Pyn\Controllers\CamaraTypeController.cs:行号 116
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClassf.<GetExecutor>b__9(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:169a6e56-e92f-417b-9412-6dd52aa6b24f
Error Number:544,State:1,Class:16
2017-01-07 01:22:42,306 [2620] DEBUG ServiceCamaraType - 编辑记录
2017-01-07 01:22:42,306 [2620] DEBUG ServiceCamaraType - 获取动态对象
2017-01-07 01:22:42,307 [2620] DEBUG Pyn - select 
        CamaraType
    .* from 
        CamaraType
     where  ID =  '3'
2017-01-07 01:22:42,308 [2620] DEBUG Pyn - insert into 
        CamaraType
    ([ID],[Serie],[Type],[Description],[IsEnable],[UpdatePerson],[UpdateDate],[CreatePerson],[CreateDate]) values('3','ACD','ACA1600-30GC','高像素1000万','false','许薛军','2017/1/7 1:22:42','许薛军','2017/1/7 1:22:42')
2017-01-07 01:22:42,309 [2620] ERROR ServiceCamaraType - 编辑记录失败
System.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'CamaraType' when IDENTITY_INSERT is set to OFF.
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.Execute() 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Data\Command\PartialClasses\Execute.cs:行号 9
   在 Zephyr.Data.BaseInsertBuilder.Execute() 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Data\Builders\Insert\BaseInsertBuilder.cs:行号 22
   在 Zephyr.Core.ServiceBase`1.<Edit>b__51(RequestWrapper x) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 62
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass55.<Edit>b__52() 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 119
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:169a6e56-e92f-417b-9412-6dd52aa6b24f
Error Number:544,State:1,Class:16
2017-01-07 01:22:42,318 [2620] ERROR /api/Pyn/CamaraType/getedit - System.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'CamaraType' when IDENTITY_INSERT is set to OFF.
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 23
   在 Zephyr.Core.ServiceBase`1.Edit(RequestWrapper formWrapper, RequestWrapper listWrapper, JObject data) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 68
   在 CallSite.Target(Closure , CallSite , CamaraTypeService , Object , RequestWrapper , Object )
   在 Zephyr.Areas.Pyn.Controllers.CamaraTypeApiController.GetEdit(Object data) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Web\Areas\Pyn\Controllers\CamaraTypeController.cs:行号 116
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClassf.<GetExecutor>b__9(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:169a6e56-e92f-417b-9412-6dd52aa6b24f
Error Number:544,State:1,Class:16
2017-01-07 01:23:18,002 [3600] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 01:23:18,028 [3600] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 01:23:18,176 [3600] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 01:23:18,217 [3600] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 01:23:18,238 [3600] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 01:23:18,252 [3600] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 01:23:18,555 [8116] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2017-01-07 01:23:20,848 [1500] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2017-01-07 01:23:23,566 [6856] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/CamaraType/Index','/Pyn/CamaraType')
2017-01-07 01:23:25,990 [6856] DEBUG Servicesys_code - 获取动态列表
2017-01-07 01:23:25,997 [6856] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'CamaraSerie'
2017-01-07 01:23:26,019 [6856] DEBUG Servicesys_code - 获取动态列表
2017-01-07 01:23:26,019 [6856] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'CamaraType'
2017-01-07 01:23:30,843 [8116] DEBUG ServiceCamaraType - 获取动态列表
2017-01-07 01:23:30,843 [8116] DEBUG Pyn - select top 20 * from CamaraType order by ID
2017-01-07 01:23:30,899 [8116] DEBUG Pyn - select count(*) from ( select * from CamaraType ) tb_temp
2017-01-07 01:23:34,262 [4456] DEBUG ServiceCamaraType - 获取新主键
2017-01-07 01:23:34,266 [4456] DEBUG Pyn - select isnull(max(ID),0) from CamaraType  where 1 = 1 
2017-01-07 01:24:07,052 [6856] DEBUG ServiceCamaraType - 编辑记录
2017-01-07 01:24:08,549 [6856] DEBUG ServiceCamaraType - 获取动态对象
2017-01-07 01:24:08,552 [6856] DEBUG Pyn - select 
        CamaraType
    .* from 
        CamaraType
     where  ID =  ''
2017-01-07 01:24:08,588 [6856] DEBUG Pyn - insert into 
        CamaraType
    ([Serie],[Type],[Description],[IsEnable],[UpdatePerson],[UpdateDate],[CreatePerson],[CreateDate]) values('ACF','ACF1600-20gc','性价比高，最低1000万像素','false','许薛军','2017/1/7 1:24:08','许薛军','2017/1/7 1:24:08')
2017-01-07 01:24:13,407 [7180] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/CamaraType/Index','/Pyn/CamaraType')
2017-01-07 01:24:15,509 [7180] DEBUG Servicesys_code - 获取动态列表
2017-01-07 01:24:15,509 [7180] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'CamaraSerie'
2017-01-07 01:24:15,530 [7180] DEBUG Servicesys_code - 获取动态列表
2017-01-07 01:24:15,530 [7180] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'CamaraType'
2017-01-07 01:24:16,777 [6856] DEBUG ServiceCamaraType - 获取动态列表
2017-01-07 01:24:16,779 [6856] DEBUG Pyn - select top 20 * from CamaraType order by ID
2017-01-07 01:24:16,787 [6856] DEBUG Pyn - select count(*) from ( select * from CamaraType ) tb_temp
2017-01-07 01:27:42,088 [8180] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/permission/Index','/Sys/permission')
2017-01-07 01:27:42,654 [6856] DEBUG Servicesys_permission - 获取动态列表
2017-01-07 01:27:42,654 [6856] DEBUG Sys - select A.*,B.PermissionName as ParentName from sys_permission A left join sys_permission B on B.PermissionCode = A.ParentCode
2017-01-07 01:27:47,027 [4456] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2017-01-07 01:27:49,485 [8180] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/parameter/Index','/Sys/parameter')
2017-01-07 01:27:53,389 [6856] DEBUG Servicesys_parameter - 获取实体列表
2017-01-07 01:27:53,389 [6856] DEBUG Sys - select top 20 sys_parameter.* from sys_parameter order by ParamCode
2017-01-07 01:27:53,553 [6856] DEBUG Sys - select count(*) from ( select sys_parameter.* from sys_parameter ) tb_temp
2017-01-07 01:28:05,619 [8180] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/code/Index','/Sys/code')
2017-01-07 01:28:07,890 [6856] DEBUG Servicesys_codeType - 获取动态列表
2017-01-07 01:28:07,891 [6856] DEBUG Sys - select sys_codeType.* from sys_codeType order by Seq,CodeType
2017-01-07 01:28:09,251 [7540] DEBUG Servicesys_code - 获取实体列表
2017-01-07 01:28:09,252 [7540] DEBUG Sys - select top 20 sys_code.* from sys_code order by Seq
2017-01-07 01:28:09,371 [7540] DEBUG Sys - select count(*) from ( select sys_code.* from sys_code ) tb_temp
2017-01-07 01:31:23,602 [8188] DEBUG Servicesys_code - 获取实体列表
2017-01-07 01:31:23,602 [8188] DEBUG Sys - select top 20 sys_code.* from sys_code where  CodeType =  'CamaraSerie' order by Seq
2017-01-07 01:31:23,604 [8188] DEBUG Sys - select count(*) from ( select sys_code.* from sys_code where  CodeType =  'CamaraSerie' ) tb_temp
2017-01-07 01:31:28,260 [8180] DEBUG Servicesys_code - 获取新主键
2017-01-07 01:31:28,260 [8180] DEBUG Sys - select isnull(max(Code),0) from sys_code  where 1 = 1 
2017-01-07 01:32:54,688 [4028] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/code/Index','/Sys/code')
2017-01-07 01:32:54,965 [4456] DEBUG Servicesys_codeType - 获取动态列表
2017-01-07 01:32:54,965 [4456] DEBUG Sys - select sys_codeType.* from sys_codeType order by Seq,CodeType
2017-01-07 01:32:55,053 [6880] DEBUG Servicesys_code - 获取实体列表
2017-01-07 01:32:55,053 [6880] DEBUG Sys - select top 20 sys_code.* from sys_code order by Seq
2017-01-07 01:32:55,056 [6880] DEBUG Sys - select count(*) from ( select sys_code.* from sys_code ) tb_temp
2017-01-07 01:32:59,019 [6856] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/code/Index','/Sys/code')
2017-01-07 01:32:59,179 [4456] DEBUG Servicesys_codeType - 获取动态列表
2017-01-07 01:32:59,179 [4456] DEBUG Sys - select sys_codeType.* from sys_codeType order by Seq,CodeType
2017-01-07 01:32:59,264 [8188] DEBUG Servicesys_code - 获取实体列表
2017-01-07 01:32:59,264 [8188] DEBUG Sys - select top 20 sys_code.* from sys_code order by Seq
2017-01-07 01:32:59,265 [8188] DEBUG Sys - select count(*) from ( select sys_code.* from sys_code ) tb_temp
2017-01-07 01:33:05,738 [4456] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2017-01-07 01:33:05,910 [8188] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2017-01-07 01:33:06,174 [6880] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/code/Index','/Sys/code')
2017-01-07 01:33:06,465 [4456] DEBUG Servicesys_codeType - 获取动态列表
2017-01-07 01:33:06,466 [4456] DEBUG Sys - select sys_codeType.* from sys_codeType order by Seq,CodeType
2017-01-07 01:33:06,594 [8180] DEBUG Servicesys_code - 获取实体列表
2017-01-07 01:33:06,595 [8180] DEBUG Sys - select top 20 sys_code.* from sys_code order by Seq
2017-01-07 01:33:06,596 [8180] DEBUG Sys - select count(*) from ( select sys_code.* from sys_code ) tb_temp
2017-01-07 01:34:15,123 [8180] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/code/Index','/Sys/code')
2017-01-07 01:34:15,344 [6856] DEBUG Servicesys_codeType - 获取动态列表
2017-01-07 01:34:15,344 [6856] DEBUG Sys - select sys_codeType.* from sys_codeType order by Seq,CodeType
2017-01-07 01:34:15,430 [4028] DEBUG Servicesys_code - 获取实体列表
2017-01-07 01:34:15,430 [4028] DEBUG Sys - select top 20 sys_code.* from sys_code order by Seq
2017-01-07 01:34:15,431 [4028] DEBUG Sys - select count(*) from ( select sys_code.* from sys_code ) tb_temp
2017-01-07 01:34:17,800 [8180] DEBUG Servicesys_code - 获取实体列表
2017-01-07 01:34:17,800 [8180] DEBUG Sys - select top 20 sys_code.* from sys_code where  CodeType =  'CamaraSerie' order by Seq
2017-01-07 01:34:17,801 [8180] DEBUG Sys - select count(*) from ( select sys_code.* from sys_code where  CodeType =  'CamaraSerie' ) tb_temp
2017-01-07 01:34:21,475 [8180] DEBUG Servicesys_codeType - 获取动态列表
2017-01-07 01:34:21,476 [8180] DEBUG Sys - select top 10 sys_codeType.* from sys_codeType order by Seq,CodeType
2017-01-07 01:34:21,480 [8180] DEBUG Sys - select count(*) from ( select sys_codeType.* from sys_codeType ) tb_temp
2017-01-07 01:39:26,667 [6384] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 01:39:26,694 [6384] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 01:39:26,882 [6384] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 01:39:26,906 [6384] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 01:39:26,914 [6384] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 01:39:26,929 [6384] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 01:39:27,315 [6440] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2017-01-07 01:39:29,431 [5592] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2017-01-07 01:40:11,904 [7188] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/menu/Index','/Sys/menu')
2017-01-07 01:40:14,018 [7188] DEBUG Servicesys_menu - 获取动态列表
2017-01-07 01:40:14,025 [7188] DEBUG Sys - select A.*,B.MenuName as ParentName from sys_menu A left join sys_menu B on B.MenuCode = A.ParentCode order by A.MenuSeq,A.MenuCode
2017-01-07 01:40:16,905 [7188] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/code/Index','/Sys/code')
2017-01-07 01:40:19,691 [5592] DEBUG Servicesys_codeType - 获取动态列表
2017-01-07 01:40:19,692 [5592] DEBUG Sys - select sys_codeType.* from sys_codeType order by Seq,CodeType
2017-01-07 01:40:20,591 [7188] DEBUG Servicesys_code - 获取实体列表
2017-01-07 01:40:20,592 [7188] DEBUG Sys - select top 20 sys_code.* from sys_code order by Seq
2017-01-07 01:40:20,646 [7188] DEBUG Sys - select count(*) from ( select sys_code.* from sys_code ) tb_temp
2017-01-07 01:40:25,605 [5592] DEBUG Servicesys_code - 获取实体列表
2017-01-07 01:40:25,607 [5592] DEBUG Sys - select top 20 sys_code.* from sys_code where  CodeType =  'CamaraSerie' order by Seq
2017-01-07 01:40:25,631 [5592] DEBUG Sys - select count(*) from ( select sys_code.* from sys_code where  CodeType =  'CamaraSerie' ) tb_temp
2017-01-07 01:40:28,403 [5476] DEBUG Servicesys_code - 获取新主键
2017-01-07 01:40:28,406 [5476] DEBUG Sys - select isnull(max(Code),0) from sys_code  where 1 = 1 
2017-01-07 01:45:51,073 [5592] DEBUG Servicesys_code - 编辑记录
2017-01-07 01:45:51,086 [5592] DEBUG Servicesys_code - 获取动态对象
2017-01-07 01:45:51,088 [5592] DEBUG Sys - select sys_code.* from sys_code where  Code =  '116'
2017-01-07 01:45:51,100 [5592] DEBUG Sys - insert into sys_code([CodeType],[Code],[UpdatePerson],[UpdateDate],[CreatePerson],[CreateDate]) values('116'Type,'116','许薛军','2017/1/7 1:45:51','许薛军','2017/1/7 1:45:51')
2017-01-07 01:58:40,515 [4724] DEBUG Servicesys_code - 编辑记录
2017-01-07 01:58:42,730 [7228] DEBUG Servicesys_code - 编辑记录
2017-01-07 01:58:43,300 [4724] DEBUG Servicesys_code - 编辑记录
2017-01-07 01:58:43,670 [7228] DEBUG Servicesys_code - 编辑记录
2017-01-07 01:58:43,860 [1500] DEBUG Servicesys_code - 编辑记录
2017-01-07 01:58:47,337 [7940] DEBUG Servicesys_code - 获取新主键
2017-01-07 01:58:47,340 [7940] DEBUG Sys - select isnull(max(Code),0) from sys_code  where 1 = 1 
2017-01-07 01:59:09,166 [6404] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 01:59:09,194 [6404] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 01:59:09,403 [6404] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 01:59:09,443 [6404] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 01:59:09,451 [6404] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 01:59:09,458 [6404] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 01:59:09,756 [5380] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2017-01-07 01:59:12,040 [5380] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2017-01-07 01:59:27,972 [7756] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/code/Index','/Sys/code')
2017-01-07 01:59:31,421 [5380] DEBUG Servicesys_codeType - 获取动态列表
2017-01-07 01:59:31,441 [5380] DEBUG Sys - select sys_codeType.* from sys_codeType order by Seq,CodeType
2017-01-07 01:59:32,016 [4364] DEBUG Servicesys_code - 获取实体列表
2017-01-07 01:59:32,017 [4364] DEBUG Sys - select top 20 sys_code.* from sys_code order by Seq
2017-01-07 01:59:32,097 [4364] DEBUG Sys - select count(*) from ( select sys_code.* from sys_code ) tb_temp
2017-01-07 01:59:36,084 [4364] DEBUG Servicesys_code - 获取实体列表
2017-01-07 01:59:36,086 [4364] DEBUG Sys - select top 20 sys_code.* from sys_code where  CodeType =  'CamaraSerie' order by Seq
2017-01-07 01:59:36,104 [4364] DEBUG Sys - select count(*) from ( select sys_code.* from sys_code where  CodeType =  'CamaraSerie' ) tb_temp
2017-01-07 01:59:44,437 [4364] DEBUG Servicesys_code - 编辑记录
2017-01-07 01:59:44,945 [4364] DEBUG Servicesys_code - 获取动态对象
2017-01-07 01:59:44,948 [4364] DEBUG Sys - select sys_code.* from sys_code where  Code =  '116'
2017-01-07 01:59:44,970 [4364] DEBUG Sys - delete from sys_code where  Code =  '116'
2017-01-07 01:59:47,777 [5380] DEBUG Servicesys_code - 获取新主键
2017-01-07 01:59:47,783 [5380] DEBUG Sys - select isnull(max(Code),0) from sys_code  where 1 = 1 
2017-01-07 02:01:48,420 [7704] DEBUG Servicesys_code - 编辑记录
2017-01-07 02:01:48,426 [7704] DEBUG Servicesys_code - 获取动态对象
2017-01-07 02:01:48,429 [7704] DEBUG Sys - select sys_code.* from sys_code where  Code =  '116'
2017-01-07 02:01:48,440 [7704] DEBUG Sys - insert into sys_code([CodeType],[Code],[UpdatePerson],[UpdateDate],[CreatePerson],[CreateDate]) values('116'Type,'116','许薛军','2017/1/7 2:01:48','许薛军','2017/1/7 2:01:48')
2017-01-07 02:02:16,456 [4364] DEBUG Servicesys_code - 获取新主键
2017-01-07 02:02:16,456 [4364] DEBUG Sys - select isnull(max(Code),0) from sys_code  where 1 = 1 
2017-01-07 02:02:50,876 [5060] DEBUG Servicesys_code - 编辑记录
2017-01-07 02:02:50,877 [5060] DEBUG Servicesys_code - 获取动态对象
2017-01-07 02:02:50,879 [5060] DEBUG Sys - select sys_code.* from sys_code where  Code =  '116'
2017-01-07 02:02:50,879 [5060] DEBUG Sys - delete from sys_code where  Code =  '116'
2017-01-07 02:02:50,881 [5060] DEBUG Servicesys_code - 获取动态对象
2017-01-07 02:02:50,881 [5060] DEBUG Sys - select sys_code.* from sys_code where  Code =  '117'
2017-01-07 02:02:50,882 [5060] DEBUG Sys - insert into sys_code([CodeType],[Code],[Value],[Text],[ParentCode],[Description],[IsEnable],[IsDefault],[Seq],[UpdatePerson],[UpdateDate],[CreatePerson],[CreateDate]) values('117'Type,'117','ACF','ACF','','','true','true','','许薛军','2017/1/7 2:02:50','许薛军','2017/1/7 2:02:50')
2017-01-07 02:02:52,597 [7704] DEBUG Servicesys_code - 获取实体列表
2017-01-07 02:02:52,597 [7704] DEBUG Sys - select top 20 sys_code.* from sys_code where  CodeType =  'CamaraType' order by Seq
2017-01-07 02:02:52,598 [7704] DEBUG Sys - select count(*) from ( select sys_code.* from sys_code where  CodeType =  'CamaraType' ) tb_temp
2017-01-07 02:02:54,135 [7236] DEBUG Servicesys_code - 获取新主键
2017-01-07 02:02:54,136 [7236] DEBUG Sys - select isnull(max(Code),0) from sys_code  where 1 = 1 
2017-01-07 02:03:24,456 [7272] DEBUG Servicesys_code - 编辑记录
2017-01-07 02:03:24,456 [7272] DEBUG Servicesys_code - 获取动态对象
2017-01-07 02:03:24,457 [7272] DEBUG Sys - select sys_code.* from sys_code where  Code =  '118'
2017-01-07 02:03:24,459 [7272] DEBUG Sys - insert into sys_code([CodeType],[Code],[Value],[Text],[ParentCode],[Description],[IsEnable],[IsDefault],[Seq],[UpdatePerson],[UpdateDate],[CreatePerson],[CreateDate]) values('118'Type,'118','ACA1600-20um','ACA1600-20um','','','true','false','','许薛军','2017/1/7 2:03:24','许薛军','2017/1/7 2:03:24')
2017-01-07 02:03:29,570 [5060] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/CamaraType/Index','/Pyn/CamaraType')
2017-01-07 02:03:29,579 [5060] DEBUG Servicesys_code - 获取动态列表
2017-01-07 02:03:29,579 [5060] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'CamaraSerie'
2017-01-07 02:03:29,590 [5060] DEBUG Servicesys_code - 获取动态列表
2017-01-07 02:03:29,591 [5060] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'CamaraType'
2017-01-07 02:03:30,305 [7704] DEBUG ServiceCamaraType - 获取动态列表
2017-01-07 02:03:30,305 [7704] DEBUG Pyn - select top 20 * from CamaraType order by ID
2017-01-07 02:03:30,309 [7704] DEBUG Pyn - select count(*) from ( select * from CamaraType ) tb_temp
2017-01-07 02:03:48,227 [7704] DEBUG ServiceCamaraType - 获取新主键
2017-01-07 02:03:48,227 [7704] DEBUG Pyn - select isnull(max(ID),0) from CamaraType  where 1 = 1 
2017-01-07 02:04:02,127 [1744] DEBUG ServiceCamaraType - 获取新主键
2017-01-07 02:04:02,127 [1744] DEBUG Pyn - select isnull(max(ID),0) from CamaraType  where 1 = 1 
2017-01-07 02:04:38,213 [7236] DEBUG ServiceCamaraType - 编辑记录
2017-01-07 02:04:38,214 [7236] DEBUG ServiceCamaraType - 获取动态对象
2017-01-07 02:04:38,216 [7236] DEBUG Pyn - select 
        CamaraType
    .* from 
        CamaraType
     where  ID =  ''
2017-01-07 02:04:38,218 [7236] DEBUG Pyn - delete from 
        CamaraType
     where  ID =  ''
2017-01-07 02:04:38,221 [7236] DEBUG ServiceCamaraType - 获取动态对象
2017-01-07 02:04:38,221 [7236] DEBUG Pyn - select 
        CamaraType
    .* from 
        CamaraType
     where  ID =  ''
2017-01-07 02:04:38,222 [7236] DEBUG Pyn - insert into 
        CamaraType
    ([Serie],[Type],[Description],[IsEnable],[UpdatePerson],[UpdateDate],[CreatePerson],[CreateDate]) values('ACF','ACA1600-20um','像素清晰，最低1000像素','false','许薛军','2017/1/7 2:04:38','许薛军','2017/1/7 2:04:38')
2017-01-07 02:04:40,244 [7236] DEBUG ServiceCamaraType - 获取动态列表
2017-01-07 02:04:40,246 [7236] DEBUG Pyn - select top 20 * from CamaraType where  IsEnable =  'True' order by ID
2017-01-07 02:04:40,247 [7236] DEBUG Pyn - select count(*) from ( select * from CamaraType where  IsEnable =  'True' ) tb_temp
2017-01-07 02:04:41,737 [5060] DEBUG ServiceCamaraType - 获取动态列表
2017-01-07 02:04:41,738 [5060] DEBUG Pyn - select top 20 * from CamaraType where  IsEnable =  'True' order by ID
2017-01-07 02:04:41,738 [5060] DEBUG Pyn - select count(*) from ( select * from CamaraType where  IsEnable =  'True' ) tb_temp
2017-01-07 02:04:42,398 [7272] DEBUG ServiceCamaraType - 获取动态列表
2017-01-07 02:04:42,398 [7272] DEBUG Pyn - select top 20 * from CamaraType where  IsEnable =  'True' order by ID
2017-01-07 02:04:42,398 [7272] DEBUG Pyn - select count(*) from ( select * from CamaraType where  IsEnable =  'True' ) tb_temp
2017-01-07 02:04:42,786 [5060] DEBUG ServiceCamaraType - 获取动态列表
2017-01-07 02:04:42,786 [5060] DEBUG Pyn - select top 20 * from CamaraType where  IsEnable =  'True' order by ID
2017-01-07 02:04:42,787 [5060] DEBUG Pyn - select count(*) from ( select * from CamaraType where  IsEnable =  'True' ) tb_temp
2017-01-07 02:04:43,011 [7272] DEBUG ServiceCamaraType - 获取动态列表
2017-01-07 02:04:43,011 [7272] DEBUG Pyn - select top 20 * from CamaraType where  IsEnable =  'True' order by ID
2017-01-07 02:04:43,012 [7272] DEBUG Pyn - select count(*) from ( select * from CamaraType where  IsEnable =  'True' ) tb_temp
2017-01-07 02:04:43,209 [5060] DEBUG ServiceCamaraType - 获取动态列表
2017-01-07 02:04:43,209 [5060] DEBUG Pyn - select top 20 * from CamaraType where  IsEnable =  'True' order by ID
2017-01-07 02:04:43,209 [5060] DEBUG Pyn - select count(*) from ( select * from CamaraType where  IsEnable =  'True' ) tb_temp
2017-01-07 02:04:43,441 [7272] DEBUG ServiceCamaraType - 获取动态列表
2017-01-07 02:04:43,441 [7272] DEBUG Pyn - select top 20 * from CamaraType where  IsEnable =  'True' order by ID
2017-01-07 02:04:43,442 [7272] DEBUG Pyn - select count(*) from ( select * from CamaraType where  IsEnable =  'True' ) tb_temp
2017-01-07 02:04:43,605 [5060] DEBUG ServiceCamaraType - 获取动态列表
2017-01-07 02:04:43,605 [5060] DEBUG Pyn - select top 20 * from CamaraType where  IsEnable =  'True' order by ID
2017-01-07 02:04:43,605 [5060] DEBUG Pyn - select count(*) from ( select * from CamaraType where  IsEnable =  'True' ) tb_temp
2017-01-07 02:04:43,820 [7236] DEBUG ServiceCamaraType - 获取动态列表
2017-01-07 02:04:43,821 [7236] DEBUG Pyn - select top 20 * from CamaraType where  IsEnable =  'True' order by ID
2017-01-07 02:04:43,821 [7236] DEBUG Pyn - select count(*) from ( select * from CamaraType where  IsEnable =  'True' ) tb_temp
2017-01-07 02:06:52,658 [1348] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/CamaraType/Index','/Pyn/CamaraType')
2017-01-07 02:06:52,662 [1348] DEBUG Servicesys_code - 获取动态列表
2017-01-07 02:06:52,662 [1348] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'CamaraSerie'
2017-01-07 02:06:52,662 [1348] DEBUG Servicesys_code - 获取动态列表
2017-01-07 02:06:52,663 [1348] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'CamaraType'
2017-01-07 02:06:53,292 [6488] DEBUG ServiceCamaraType - 获取动态列表
2017-01-07 02:06:53,292 [6488] DEBUG Pyn - select top 20 * from CamaraType order by ID
2017-01-07 02:06:53,294 [6488] DEBUG Pyn - select count(*) from ( select * from CamaraType ) tb_temp
2017-01-07 02:17:13,927 [892] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 02:17:13,957 [892] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 02:17:14,105 [892] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 02:17:14,148 [892] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 02:17:14,164 [892] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 02:17:14,174 [892] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 02:17:14,474 [7112] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2017-01-07 02:17:16,935 [7112] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2017-01-07 02:17:19,519 [7112] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/CamaraType/Index','/Pyn/CamaraType')
2017-01-07 02:17:21,683 [7112] DEBUG Servicesys_code - 获取动态列表
2017-01-07 02:17:21,689 [7112] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'CamaraSerie'
2017-01-07 02:17:21,705 [7112] DEBUG Servicesys_code - 获取动态列表
2017-01-07 02:17:21,706 [7112] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'CamaraType'
2017-01-07 02:17:24,948 [6432] DEBUG ServiceCamaraType - 获取动态列表
2017-01-07 02:17:24,948 [6432] DEBUG Pyn - select top 20 * from CamaraType order by ID
2017-01-07 02:17:25,025 [6432] DEBUG Pyn - select count(*) from ( select * from CamaraType ) tb_temp
2017-01-07 02:17:27,442 [2232] DEBUG ServiceCamaraType - 获取新主键
2017-01-07 02:17:27,444 [2232] DEBUG Pyn - select isnull(max(ID),0) from CamaraType  where 1 = 1 
2017-01-07 02:17:32,316 [2232] DEBUG ServiceCamaraType - 编辑记录
2017-01-07 02:17:36,692 [2232] DEBUG ServiceCamaraType - 获取动态对象
2017-01-07 02:17:36,693 [2232] DEBUG Pyn - select 
        CamaraType
    .* from 
        CamaraType
     where  ID =  ''
2017-01-07 02:17:37,732 [2232] DEBUG Pyn - insert into 
        CamaraType
    ([Serie],[Type],[Description],[IsEnable],[UpdatePerson],[UpdateDate],[CreatePerson],[CreateDate]) values('','','','false','许薛军','2017/1/7 2:17:37','许薛军','2017/1/7 2:17:37')
2017-01-07 09:14:02,876 [1344] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 09:14:03,031 [1344] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 09:14:03,166 [1344] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 09:14:03,190 [1344] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 09:14:03,196 [1344] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 09:14:03,212 [1344] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 09:14:36,359 [8436] DEBUG Servicesys_user - 获取实体对象
2017-01-07 09:14:36,368 [8436] DEBUG Sys - select sys_user.* from sys_user where  UserCode =  'super'and Password =  'xxj'and IsEnable =  'True'
2017-01-07 09:14:36,523 [8436] DEBUG Sys - 
update sys_user
set LoginCount = isnull(LoginCount,0) + 1
   ,LastLoginDate = getdate()
where UserCode = 'super' 
2017-01-07 09:14:36,559 [8436] DEBUG Sys - insert into sys_loginHistory([UserCode],[UserName],[HostName],[HostIP],[LoginCity],[LoginDate]) values('super','许薛军','170KOLDN5WNNJFX','localhost','广东省阳江市','2017/1/7 9:14:36')
2017-01-07 09:14:36,664 [8436] DEBUG ServiceProjectInfo - 获取实体对象
2017-01-07 09:14:36,665 [8436] DEBUG Pyn - select ProjectInfo.* from ProjectInfo where  ProjectCode =  'HZ2016353344571'
2017-01-07 09:14:36,839 [8444] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2017-01-07 09:14:38,804 [8432] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2017-01-07 09:14:40,334 [8436] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/CamaraType/Index','/Pyn/CamaraType')
2017-01-07 09:14:48,427 [8436] DEBUG Servicesys_code - 获取动态列表
2017-01-07 09:14:48,429 [8436] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'CamaraSerie'
2017-01-07 09:14:48,457 [8436] DEBUG Servicesys_code - 获取动态列表
2017-01-07 09:14:48,457 [8436] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'CamaraType'
2017-01-07 09:14:51,862 [8444] DEBUG ServiceCamaraType - 获取动态列表
2017-01-07 09:14:51,863 [8444] DEBUG Pyn - select top 20 * from CamaraType order by ID
2017-01-07 09:14:51,907 [8444] DEBUG Pyn - select count(*) from ( select * from CamaraType ) tb_temp
2017-01-07 09:15:04,912 [8444] DEBUG ServiceCamaraType - 编辑记录
2017-01-07 09:18:34,088 [8444] DEBUG ServiceCamaraType - 获取动态对象
2017-01-07 09:18:34,092 [8444] DEBUG Pyn - select 
        CamaraType
    .* from 
        CamaraType
     where  ID =  ''
2017-01-07 09:18:34,099 [8444] DEBUG Pyn - update 
        CamaraType
     set [Serie] = 'ACF', [Type] = 'ACF1600-20gc', [Description] = '性价比高，最低1000万像素', [IsEnable] = 'false', [CreatePerson] = '许薛军', [CreateDate] = '2017/1/7 1:24:08', [UpdatePerson] = '许薛军', [UpdateDate] = '2017/1/7 9:18:34' where  ID =  ''
2017-01-07 09:39:40,643 [1344] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 09:39:40,680 [1344] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 09:39:40,811 [1344] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 09:39:40,835 [1344] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 09:39:40,839 [1344] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 09:39:40,843 [1344] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 09:39:41,016 [4696] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2017-01-07 09:39:42,509 [6020] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2017-01-07 09:39:45,764 [4696] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/ImageUpload/Index','/Pyn/ImageUpload')
2017-01-07 09:39:55,575 [8604] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/ImageUpload/Upload')
2017-01-07 09:41:22,156 [3592] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 09:41:22,221 [3592] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 09:41:22,353 [3592] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 09:41:22,395 [3592] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 09:41:22,406 [3592] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 09:41:22,420 [3592] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 09:41:22,745 [8368] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2017-01-07 09:41:24,594 [8368] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2017-01-07 09:41:29,137 [236] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/ImageUpload/Index','/Pyn/ImageUpload')
2017-01-07 09:41:40,192 [236] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/ImageUpload/Upload')
2017-01-07 09:48:52,104 [3592] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 09:48:52,138 [3592] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 09:48:52,256 [3592] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 09:48:52,280 [3592] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 09:48:52,285 [3592] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 09:48:52,290 [3592] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 09:48:52,450 [8160] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2017-01-07 09:48:53,949 [8488] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2017-01-07 09:48:57,094 [8232] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/ImageUpload/Index','/Pyn/ImageUpload')
2017-01-07 09:49:02,611 [8160] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/ImageUpload/Upload')
2017-01-07 09:49:23,621 [8012] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 09:49:23,693 [8012] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 09:49:23,819 [8012] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 09:49:23,859 [8012] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 09:49:23,872 [8012] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 09:49:23,886 [8012] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 09:49:24,231 [8488] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2017-01-07 09:49:26,011 [8488] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2017-01-07 09:49:30,001 [8432] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/ImageUpload/Index','/Pyn/ImageUpload')
2017-01-07 09:49:35,194 [8432] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/ImageUpload/Upload')
2017-01-07 09:52:53,886 [9052] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 09:52:53,938 [9052] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 09:52:54,050 [9052] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 09:52:54,082 [9052] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 09:52:54,094 [9052] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 09:52:54,107 [9052] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 09:52:54,426 [8132] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2017-01-07 09:52:56,224 [8132] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2017-01-07 09:52:59,899 [8512] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/ImageUpload/Index','/Pyn/ImageUpload')
2017-01-07 09:53:04,973 [7996] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/ImageUpload/Upload')
2017-01-07 09:56:53,010 [7844] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 09:56:53,046 [7844] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 09:56:53,168 [7844] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 09:56:53,198 [7844] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 09:56:53,202 [7844] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 09:56:53,205 [7844] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 09:56:53,346 [8512] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2017-01-07 09:56:54,797 [8560] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2017-01-07 09:56:57,182 [8512] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/ImageUpload/Index','/Pyn/ImageUpload')
2017-01-07 09:57:02,230 [8132] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/ImageUpload/Upload')
2017-01-07 09:57:43,037 [8424] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 09:57:43,096 [8424] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 09:57:43,213 [8424] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 09:57:43,253 [8424] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 09:57:43,262 [8424] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 09:57:43,269 [8424] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 09:57:43,575 [8512] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2017-01-07 09:57:45,503 [8888] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2017-01-07 09:57:47,823 [8888] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/ImageUpload/Index','/Pyn/ImageUpload')
2017-01-07 09:57:54,328 [8512] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/ImageUpload/Upload')
2017-01-07 10:08:29,766 [8304] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 10:08:29,814 [8304] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 10:08:29,940 [8304] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 10:08:29,964 [8304] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 10:08:29,967 [8304] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 10:08:29,972 [8304] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 10:08:30,169 [8956] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2017-01-07 10:08:31,618 [8956] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2017-01-07 10:08:33,808 [8956] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/ImageUpload/Index','/Pyn/ImageUpload')
2017-01-07 10:08:37,772 [8956] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/ImageUpload/Upload')
2017-01-07 10:08:53,029 [8136] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 10:08:53,083 [8136] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 10:08:53,203 [8136] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 10:08:53,236 [8136] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 10:08:53,245 [8136] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 10:08:53,254 [8136] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 10:08:53,546 [7720] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2017-01-07 10:08:55,432 [7720] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2017-01-07 10:08:58,582 [5220] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/ImageUpload/Index','/Pyn/ImageUpload')
2017-01-07 10:09:02,948 [5220] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/ImageUpload/Upload')
2017-01-07 10:19:50,946 [6528] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 10:19:51,021 [6528] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 10:19:51,160 [6528] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 10:19:51,202 [6528] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 10:19:51,210 [6528] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 10:19:51,219 [6528] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 10:19:51,542 [7228] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2017-01-07 10:19:53,945 [6812] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2017-01-07 10:19:56,896 [6812] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/ImageUpload/Index','/Pyn/ImageUpload')
2017-01-07 10:20:01,656 [6812] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/ImageUpload/Upload')
2017-01-07 10:46:59,337 [9764] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 10:46:59,388 [9764] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 10:46:59,521 [9764] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 10:46:59,562 [9764] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 10:46:59,569 [9764] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 10:46:59,578 [9764] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 10:46:59,947 [1412] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2017-01-07 10:47:02,336 [1412] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2017-01-07 10:47:05,296 [1412] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/ImageUpload/Index','/Pyn/ImageUpload')
2017-01-07 10:47:10,453 [4172] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/ImageUpload/Upload')
2017-01-07 11:50:39,926 [8936] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 11:50:39,970 [8936] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 11:50:40,100 [8936] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 11:50:40,132 [8936] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 11:50:40,135 [8936] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 11:50:40,140 [8936] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 11:50:40,331 [8180] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2017-01-07 11:50:41,734 [9844] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2017-01-07 11:50:47,944 [528] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/ImageUpload/Index','/Pyn/ImageUpload')
2017-01-07 11:52:57,386 [9252] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/ImageUpload/Upload')
2017-01-07 11:53:15,370 [6996] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 11:53:15,422 [6996] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 11:53:15,595 [6996] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 11:53:15,619 [6996] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 11:53:15,639 [6996] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 11:53:15,653 [6996] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 11:53:16,084 [7132] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2017-01-07 11:53:18,128 [7132] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2017-01-07 11:53:20,802 [7132] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/ImageUpload/Index','/Pyn/ImageUpload')
2017-01-07 11:53:26,400 [9692] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/ImageUpload/Upload')
2017-01-07 12:01:41,654 [7048] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/ImageUpload/Upload')
2017-01-07 12:02:31,981 [8996] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 12:02:32,059 [8996] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 12:02:32,190 [8996] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 12:02:32,223 [8996] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 12:02:32,231 [8996] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 12:02:32,240 [8996] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 12:02:32,596 [8856] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2017-01-07 12:02:35,110 [8856] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2017-01-07 12:02:38,371 [6620] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/ImageUpload/Index','/Pyn/ImageUpload')
2017-01-07 12:02:42,752 [8856] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/ImageUpload/Upload')
2017-01-07 12:06:10,715 [8996] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 12:06:10,760 [8996] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 12:06:10,880 [8996] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 12:06:10,906 [8996] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 12:06:10,908 [8996] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 12:06:10,910 [8996] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 12:06:11,065 [8244] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2017-01-07 12:06:12,545 [6620] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2017-01-07 12:06:15,833 [8244] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/ImageUpload/Index','/Pyn/ImageUpload')
2017-01-07 12:06:20,787 [6620] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/ImageUpload/Upload')
2017-01-07 12:06:37,152 [1084] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 12:06:37,207 [1084] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 12:06:37,319 [1084] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 12:06:37,360 [1084] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 12:06:37,372 [1084] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 12:06:37,382 [1084] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 12:06:37,702 [7936] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2017-01-07 12:06:39,562 [7936] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2017-01-07 12:06:42,230 [8744] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/ImageUpload/Index','/Pyn/ImageUpload')
2017-01-07 12:06:47,405 [1328] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/ImageUpload/Upload')
2017-01-07 12:07:42,334 [6260] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/ImageUpload/Upload')
2017-01-07 12:09:15,048 [8956] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/ImageUpload/Upload')
2017-01-07 12:09:28,721 [9740] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 12:09:28,786 [9740] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 12:09:28,919 [9740] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 12:09:28,958 [9740] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 12:09:28,969 [9740] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 12:09:28,979 [9740] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 12:09:29,302 [9152] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2017-01-07 12:09:31,101 [9152] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2017-01-07 12:09:33,741 [9152] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/ImageUpload/Index','/Pyn/ImageUpload')
2017-01-07 12:09:40,299 [9152] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/ImageUpload/Upload')
2017-01-07 12:12:48,332 [10032] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 12:12:48,379 [10032] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 12:12:48,506 [10032] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 12:12:48,530 [10032] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 12:12:48,534 [10032] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 12:12:48,538 [10032] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 12:12:48,723 [7892] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2017-01-07 12:12:50,088 [7892] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2017-01-07 12:12:52,585 [6156] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/ImageGrabbing/Index','/Pyn/ImageGrabbing')
2017-01-07 12:12:52,610 [6156] DEBUG Servicesys_code - 获取动态列表
2017-01-07 12:12:52,622 [6156] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'CamaraSerie'
2017-01-07 12:12:52,625 [6156] DEBUG Servicesys_code - 获取动态列表
2017-01-07 12:12:52,625 [6156] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'ImageGrabbing'
2017-01-07 12:12:54,066 [6156] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/ImageUpload/Index','/Pyn/ImageUpload')
2017-01-07 12:12:58,189 [7892] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/ImageUpload/Upload')
2017-01-07 12:14:08,678 [4576] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2017-01-07 12:14:08,886 [7892] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2017-01-07 12:14:16,255 [7260] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/ImageUpload/Index','/Pyn/ImageUpload')
2017-01-07 12:14:20,267 [7892] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/ImageUpload/Upload')
2017-01-07 12:19:30,741 [10032] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 12:19:30,794 [10032] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 12:19:30,923 [10032] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 12:19:30,956 [10032] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 12:19:30,959 [10032] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 12:19:30,964 [10032] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 12:19:31,113 [9484] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2017-01-07 12:19:32,528 [6312] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2017-01-07 12:19:35,466 [6312] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/ImageUpload/Index','/Pyn/ImageUpload')
2017-01-07 12:19:40,053 [9272] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/ImageUpload/Upload')
2017-01-07 12:20:13,481 [8520] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 12:20:13,540 [8520] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 12:20:13,664 [8520] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 12:20:13,713 [8520] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 12:20:13,726 [8520] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 12:20:13,738 [8520] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 12:20:14,083 [2572] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2017-01-07 12:20:16,257 [9872] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2017-01-07 12:20:19,411 [9872] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/ImageUpload/Index','/Pyn/ImageUpload')
2017-01-07 12:20:23,663 [6988] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/ImageUpload/Upload')
2017-01-07 12:29:01,684 [4408] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 12:29:01,956 [4408] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 12:29:02,100 [4408] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 12:29:02,149 [4408] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 12:29:02,190 [4408] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 12:29:02,204 [4408] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 12:29:03,108 [6372] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2017-01-07 12:29:06,318 [6380] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2017-01-07 12:29:21,687 [6380] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/ImageUpload/Index','/Pyn/ImageUpload')
2017-01-07 12:29:26,894 [6376] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/ImageUpload/Upload')
2017-01-07 12:29:45,977 [2748] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 12:29:46,200 [2748] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 12:29:46,833 [2748] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 12:29:47,007 [2748] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 12:29:47,324 [2748] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 12:29:47,416 [2748] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 12:29:48,766 [6480] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2017-01-07 12:29:51,151 [6480] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2017-01-07 12:29:55,308 [6480] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/ImageUpload/Index','/Pyn/ImageUpload')
2017-01-07 12:30:00,630 [6480] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/ImageUpload/Upload')
2017-01-07 12:35:09,574 [5716] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2017-01-07 12:35:09,809 [6480] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2017-01-07 12:35:12,839 [5716] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/ImageUpload/Index','/Pyn/ImageUpload')
2017-01-07 12:35:18,537 [5232] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/ImageUpload/Upload')
2017-01-07 12:36:36,752 [3192] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 12:36:36,802 [3192] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 12:36:36,928 [3192] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 12:36:37,021 [3192] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 12:36:37,066 [3192] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 12:36:37,082 [3192] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 12:36:37,390 [5228] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2017-01-07 12:36:39,238 [6092] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2017-01-07 12:36:41,411 [7256] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/ImageUpload/Index','/Pyn/ImageUpload')
2017-01-07 12:36:46,042 [6092] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/ImageUpload/Upload')
2017-01-07 12:43:08,017 [6152] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 12:43:08,063 [6152] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 12:43:08,192 [6152] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 12:43:08,216 [6152] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 12:43:08,265 [6152] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 12:43:08,280 [6152] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 12:43:08,437 [3752] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2017-01-07 12:43:09,871 [6464] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2017-01-07 12:43:14,709 [1440] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/ImageUpload/Index','/Pyn/ImageUpload')
2017-01-07 12:43:19,379 [5200] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/ImageUpload/Upload')
2017-01-07 12:44:06,747 [7788] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 12:44:06,812 [7788] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 12:44:06,945 [7788] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 12:44:06,977 [7788] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 12:44:07,026 [7788] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 12:44:07,039 [7788] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 12:44:07,333 [3908] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2017-01-07 12:44:09,118 [6888] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2017-01-07 12:44:31,308 [3908] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/ImageUpload/Index','/Pyn/ImageUpload')
2017-01-07 12:44:36,327 [7888] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/ImageUpload/Upload')
2017-01-07 12:45:21,363 [3260] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/ImageUpload/Upload')
2017-01-07 12:45:34,295 [924] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/ImageUpload/Upload')
2017-01-07 12:45:53,623 [6828] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/ImageUpload/Upload')
2017-01-07 12:46:12,336 [6828] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/ImageUpload/Upload')
2017-01-07 12:47:10,332 [4572] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 12:47:10,412 [4572] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 12:47:10,554 [4572] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 12:47:10,594 [4572] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 12:47:10,643 [4572] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 12:47:10,665 [4572] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 12:47:10,963 [8116] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2017-01-07 12:47:12,699 [8116] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2017-01-07 12:55:20,422 [7720] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 12:55:20,502 [7720] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 12:55:20,630 [7720] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 12:55:20,668 [7720] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 12:55:20,742 [7720] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 12:55:20,764 [7720] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 12:55:21,122 [6532] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2017-01-07 12:55:22,868 [7796] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2017-01-07 12:55:25,555 [7568] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/ImageUpload/Index','/Pyn/ImageUpload')
2017-01-07 12:55:30,502 [7044] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/ImageUpload/Upload')
2017-01-07 13:02:51,544 [8624] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/ImageUpload/Upload')
2017-01-07 13:06:58,917 [8396] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/ImageUpload/Upload')
2017-01-07 13:07:17,149 [4572] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/ImageUpload/Upload')
2017-01-07 13:32:28,120 [7776] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 13:32:28,169 [7776] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 13:32:28,292 [7776] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 13:32:28,317 [7776] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 13:32:28,366 [7776] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 13:32:28,382 [7776] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 13:32:28,769 [8532] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2017-01-07 13:32:30,753 [8728] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2017-01-07 13:32:34,819 [8532] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/ImageUpload/Index','/Pyn/ImageUpload')
2017-01-07 13:32:40,945 [8728] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/ImageUpload/Upload')
2017-01-07 13:37:26,209 [7776] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 13:37:26,254 [7776] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 13:37:26,383 [7776] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 13:37:26,407 [7776] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 13:37:26,456 [7776] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 13:37:26,471 [7776] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 13:37:26,626 [6620] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2017-01-07 13:37:28,002 [7560] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2017-01-07 13:37:30,754 [7560] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/ImageUpload/Index','/Pyn/ImageUpload')
2017-01-07 13:40:14,014 [7432] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 13:40:14,055 [7432] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 13:40:14,171 [7432] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 13:40:14,196 [7432] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 13:40:14,236 [7432] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 13:40:14,249 [7432] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 13:40:14,394 [6620] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2017-01-07 13:40:15,804 [7536] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2017-01-07 13:42:30,992 [7432] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 13:42:31,006 [7432] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 13:42:31,164 [7432] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 13:42:31,197 [7432] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 13:42:31,237 [7432] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 13:42:31,249 [7432] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 13:42:31,399 [7536] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2017-01-07 13:42:32,779 [6424] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2017-01-07 13:42:35,634 [7536] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/ImageUpload/Index','/Pyn/ImageUpload')
2017-01-07 13:44:35,689 [7432] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 13:44:35,701 [7432] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 13:44:35,879 [7432] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 13:44:35,903 [7432] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 13:44:35,944 [7432] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 13:44:35,957 [7432] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 13:44:58,374 [7432] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 13:44:58,385 [7432] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 13:44:58,532 [7432] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 13:44:58,549 [7432] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 13:44:58,590 [7432] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 13:44:58,601 [7432] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 13:44:58,750 [7536] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2017-01-07 13:45:00,002 [8128] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2017-01-07 13:45:06,386 [7560] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/ImageUpload/Index','/Pyn/ImageUpload')
2017-01-07 13:45:11,273 [6620] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/ImageUpload/Upload')
2017-01-07 13:49:07,783 [8348] DEBUG Servicesys_user - 获取实体对象
2017-01-07 13:49:07,794 [8348] DEBUG Sys - select sys_user.* from sys_user where  UserCode =  'super'and Password =  'xxj'and IsEnable =  'True'
2017-01-07 13:49:07,822 [8348] DEBUG Sys - 
update sys_user
set LoginCount = isnull(LoginCount,0) + 1
   ,LastLoginDate = getdate()
where UserCode = 'super' 
2017-01-07 13:49:07,844 [8348] DEBUG Sys - insert into sys_loginHistory([UserCode],[UserName],[HostName],[HostIP],[LoginCity],[LoginDate]) values('super','许薛军','170KOLDN5WNNJFX','localhost','广东省阳江市','2017/1/7 13:49:07')
2017-01-07 13:49:07,846 [8348] DEBUG ServiceProjectInfo - 获取实体对象
2017-01-07 13:49:07,847 [8348] DEBUG Pyn - select ProjectInfo.* from ProjectInfo where  ProjectCode =  'HZ2016353344571'
2017-01-07 13:49:07,896 [4784] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2017-01-07 13:49:08,107 [8348] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2017-01-07 13:49:21,313 [4784] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/menu/Index','/Sys/menu')
2017-01-07 13:49:21,928 [5856] DEBUG Servicesys_menu - 获取动态列表
2017-01-07 13:49:21,929 [5856] DEBUG Sys - select A.*,B.MenuName as ParentName from sys_menu A left join sys_menu B on B.MenuCode = A.ParentCode order by A.MenuSeq,A.MenuCode
2017-01-07 13:49:29,732 [5500] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/organize/Index','/Sys/organize')
2017-01-07 13:49:29,739 [5500] DEBUG Servicesys_organize - 获取实体列表
2017-01-07 13:49:29,739 [5500] DEBUG Sys - select sys_organize.* from sys_organize
2017-01-07 13:50:24,582 [4784] DEBUG Servicesys_organize - 编辑记录
2017-01-07 13:50:24,610 [4784] DEBUG Servicesys_organize - 获取动态对象
2017-01-07 13:50:24,615 [4784] DEBUG Sys - select 
        sys_organize
    .* from 
        sys_organize
     where  OrganizeCode =  '0116'
2017-01-07 13:50:24,633 [4784] DEBUG Sys - update 
        sys_organize
     set [ParentCode] = '01', [OrganizeCode] = '0116', [OrganizeName] = '广东省中山市公路管理局', [UpdatePerson] = '许薛军', [UpdateDate] = '2017/1/7 13:50:24' where  OrganizeCode =  '0116'
2017-01-07 13:50:24,641 [4784] DEBUG Sys - insert into 
        sys_organize
    ([ParentCode],[OrganizeCode],[OrganizeName],[UpdatePerson],[UpdateDate],[CreatePerson],[CreateDate]) values('01','0116','广东省中山市公路管理局','许薛军','2017/1/7 13:50:24','许薛军','2017/1/7 13:50:24')
2017-01-07 13:50:24,673 [4784] DEBUG Servicesys_organize - 获取实体列表
2017-01-07 13:50:24,673 [4784] DEBUG Sys - select sys_organize.* from sys_organize
2017-01-07 13:50:45,946 [6424] DEBUG Servicesys_organize - 编辑记录
2017-01-07 13:50:45,946 [6424] DEBUG Servicesys_organize - 获取动态对象
2017-01-07 13:50:45,979 [6424] DEBUG Sys - select 
        sys_organize
    .* from 
        sys_organize
     where  OrganizeCode =  '011601'
2017-01-07 13:50:45,982 [6424] DEBUG Sys - update 
        sys_organize
     set [ParentCode] = '0116', [OrganizeCode] = '011601', [OrganizeName] = '办公室', [UpdatePerson] = '许薛军', [UpdateDate] = '2017/1/7 13:50:45' where  OrganizeCode =  '011601'
2017-01-07 13:50:46,001 [6424] DEBUG Sys - insert into 
        sys_organize
    ([ParentCode],[OrganizeCode],[OrganizeName],[UpdatePerson],[UpdateDate],[CreatePerson],[CreateDate]) values('0116','011601','办公室','许薛军','2017/1/7 13:50:46','许薛军','2017/1/7 13:50:46')
2017-01-07 13:50:46,004 [6424] DEBUG Servicesys_organize - 获取实体列表
2017-01-07 13:50:46,004 [6424] DEBUG Sys - select sys_organize.* from sys_organize
2017-01-07 13:51:04,297 [9128] DEBUG Servicesys_organize - 编辑记录
2017-01-07 13:51:04,297 [9128] DEBUG Servicesys_organize - 获取动态对象
2017-01-07 13:51:04,325 [9128] DEBUG Sys - select 
        sys_organize
    .* from 
        sys_organize
     where  OrganizeCode =  '011602'
2017-01-07 13:51:04,328 [9128] DEBUG Sys - update 
        sys_organize
     set [ParentCode] = '0116', [OrganizeCode] = '011602', [OrganizeName] = '总工程师办公室', [UpdatePerson] = '许薛军', [UpdateDate] = '2017/1/7 13:51:04' where  OrganizeCode =  '011602'
2017-01-07 13:51:04,337 [9128] DEBUG Sys - insert into 
        sys_organize
    ([ParentCode],[OrganizeCode],[OrganizeName],[UpdatePerson],[UpdateDate],[CreatePerson],[CreateDate]) values('0116','011602','总工程师办公室','许薛军','2017/1/7 13:51:04','许薛军','2017/1/7 13:51:04')
2017-01-07 13:51:04,339 [9128] DEBUG Servicesys_organize - 获取实体列表
2017-01-07 13:51:04,339 [9128] DEBUG Sys - select sys_organize.* from sys_organize
2017-01-07 13:51:18,404 [4784] DEBUG Servicesys_organize - 编辑记录
2017-01-07 13:51:18,404 [4784] DEBUG Servicesys_organize - 获取动态对象
2017-01-07 13:51:18,416 [4784] DEBUG Sys - select 
        sys_organize
    .* from 
        sys_organize
     where  OrganizeCode =  '011603'
2017-01-07 13:51:18,416 [4784] DEBUG Sys - update 
        sys_organize
     set [ParentCode] = '0116', [OrganizeCode] = '011603', [OrganizeName] = '养护管理科', [UpdatePerson] = '许薛军', [UpdateDate] = '2017/1/7 13:51:18' where  OrganizeCode =  '011603'
2017-01-07 13:51:18,428 [4784] DEBUG Sys - insert into 
        sys_organize
    ([ParentCode],[OrganizeCode],[OrganizeName],[UpdatePerson],[UpdateDate],[CreatePerson],[CreateDate]) values('0116','011603','养护管理科','许薛军','2017/1/7 13:51:18','许薛军','2017/1/7 13:51:18')
2017-01-07 13:51:18,432 [4784] DEBUG Servicesys_organize - 获取实体列表
2017-01-07 13:51:18,435 [4784] DEBUG Sys - select sys_organize.* from sys_organize
2017-01-07 13:51:30,278 [4784] DEBUG Servicesys_organize - 编辑记录
2017-01-07 13:51:30,278 [4784] DEBUG Servicesys_organize - 获取动态对象
2017-01-07 13:51:30,278 [4784] DEBUG Sys - select 
        sys_organize
    .* from 
        sys_organize
     where  OrganizeCode =  '011604'
2017-01-07 13:51:30,279 [4784] DEBUG Sys - update 
        sys_organize
     set [ParentCode] = '0116', [OrganizeCode] = '011604', [OrganizeName] = '路政管理科', [UpdatePerson] = '许薛军', [UpdateDate] = '2017/1/7 13:51:30' where  OrganizeCode =  '011604'
2017-01-07 13:51:30,281 [4784] DEBUG Sys - insert into 
        sys_organize
    ([ParentCode],[OrganizeCode],[OrganizeName],[UpdatePerson],[UpdateDate],[CreatePerson],[CreateDate]) values('0116','011604','路政管理科','许薛军','2017/1/7 13:51:30','许薛军','2017/1/7 13:51:30')
2017-01-07 13:51:30,307 [4784] DEBUG Servicesys_organize - 获取实体列表
2017-01-07 13:51:30,308 [4784] DEBUG Sys - select sys_organize.* from sys_organize
2017-01-07 13:51:41,685 [4784] DEBUG Servicesys_organize - 编辑记录
2017-01-07 13:51:41,685 [4784] DEBUG Servicesys_organize - 获取动态对象
2017-01-07 13:51:41,686 [4784] DEBUG Sys - select 
        sys_organize
    .* from 
        sys_organize
     where  OrganizeCode =  '011605'
2017-01-07 13:51:41,686 [4784] DEBUG Sys - update 
        sys_organize
     set [ParentCode] = '0116', [OrganizeCode] = '011605', [OrganizeName] = '安全生产科', [UpdatePerson] = '许薛军', [UpdateDate] = '2017/1/7 13:51:41' where  OrganizeCode =  '011605'
2017-01-07 13:51:41,693 [4784] DEBUG Sys - insert into 
        sys_organize
    ([ParentCode],[OrganizeCode],[OrganizeName],[UpdatePerson],[UpdateDate],[CreatePerson],[CreateDate]) values('0116','011605','安全生产科','许薛军','2017/1/7 13:51:41','许薛军','2017/1/7 13:51:41')
2017-01-07 13:51:41,695 [4784] DEBUG Servicesys_organize - 获取实体列表
2017-01-07 13:51:41,698 [4784] DEBUG Sys - select sys_organize.* from sys_organize
2017-01-07 13:51:51,794 [5500] DEBUG Sys - select sys_organize.* from sys_organize where  ParentCode =  '011605'
2017-01-07 13:51:51,796 [5500] DEBUG Sys - delete from sys_organize where  OrganizeCode =  '011605'
2017-01-07 13:51:51,813 [5500] DEBUG Servicesys_organize - 获取实体列表
2017-01-07 13:51:51,813 [5500] DEBUG Sys - select sys_organize.* from sys_organize
2017-01-07 13:51:56,722 [4784] DEBUG Sys - select sys_organize.* from sys_organize where  ParentCode =  '011604'
2017-01-07 13:51:56,723 [4784] DEBUG Sys - delete from sys_organize where  OrganizeCode =  '011604'
2017-01-07 13:51:56,723 [4784] DEBUG Servicesys_organize - 获取实体列表
2017-01-07 13:51:56,724 [4784] DEBUG Sys - select sys_organize.* from sys_organize
2017-01-07 13:52:01,823 [9128] DEBUG Sys - 
select distinct A.RoleCode,A.RoleName
,(case when B.RoleCode is null then 'false' else 'true' end) as Checked
from sys_role A
left join sys_organizeRoleMap B on B.RoleCode = A.RoleCode and B.OrganizeCode = '01'
2017-01-07 13:52:06,861 [5500] DEBUG Servicesys_organize - 设置机构角色
2017-01-07 13:52:06,862 [5500] DEBUG Sys - delete from sys_organizeRoleMap where [OrganizeCode] = '01'
2017-01-07 13:52:06,863 [5500] DEBUG Sys - insert into sys_organizeRoleMap([OrganizeCode],[RoleCode]) values('01','super')
2017-01-07 13:52:17,102 [1548] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/role/Index','/Sys/role')
2017-01-07 13:52:17,108 [1548] DEBUG Servicesys_user - 获取动态列表
2017-01-07 13:52:17,109 [1548] DEBUG Sys - select UserCode,UserName from sys_user
2017-01-07 13:52:17,110 [1548] DEBUG Servicesys_organize - 获取动态列表
2017-01-07 13:52:17,110 [1548] DEBUG Sys - select OrganizeCode,OrganizeName from sys_organize
2017-01-07 13:52:17,718 [5608] DEBUG Servicesys_role - 获取实体列表
2017-01-07 13:52:17,719 [5608] DEBUG Sys - select sys_role.* from sys_role order by RoleSeq
2017-01-07 13:52:20,958 [9128] DEBUG Sys - select * from sys_button order by ButtonSeq
2017-01-07 13:52:20,963 [9128] DEBUG Sys - select A.MenuName,A.MenuCode,A.ParentCode,A.IconClass as iconCls,B.MenuName as ParentName,(select 1 from sys_roleMenuMap tb_role where tb_role.RoleCode='super' and tb_role.MenuCode=A.MenuCode) as checked,(
select case when max(tb1_accredit.ID) is null then -1 
            when max(tb2_accredit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_accredit
left join sys_roleMenuButtonMap AS tb2_accredit ON tb2_accredit.MenuCode=tb1_accredit.MenuCode AND tb2_accredit.ButtonCode=tb1_accredit.ButtonCode AND tb2_accredit.RoleCode='super'
where tb1_accredit.MenuCode = A.MenuCode and  tb1_accredit.ButtonCode = 'accredit'  
)as 'btn_accredit' ,(
select case when max(tb1_add.ID) is null then -1 
            when max(tb2_add.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_add
left join sys_roleMenuButtonMap AS tb2_add ON tb2_add.MenuCode=tb1_add.MenuCode AND tb2_add.ButtonCode=tb1_add.ButtonCode AND tb2_add.RoleCode='super'
where tb1_add.MenuCode = A.MenuCode and  tb1_add.ButtonCode = 'add'  
)as 'btn_add' ,(
select case when max(tb1_audit.ID) is null then -1 
            when max(tb2_audit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_audit
left join sys_roleMenuButtonMap AS tb2_audit ON tb2_audit.MenuCode=tb1_audit.MenuCode AND tb2_audit.ButtonCode=tb1_audit.ButtonCode AND tb2_audit.RoleCode='super'
where tb1_audit.MenuCode = A.MenuCode and  tb1_audit.ButtonCode = 'audit'  
)as 'btn_audit' ,(
select case when max(tb1_browse.ID) is null then -1 
            when max(tb2_browse.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_browse
left join sys_roleMenuButtonMap AS tb2_browse ON tb2_browse.MenuCode=tb1_browse.MenuCode AND tb2_browse.ButtonCode=tb1_browse.ButtonCode AND tb2_browse.RoleCode='super'
where tb1_browse.MenuCode = A.MenuCode and  tb1_browse.ButtonCode = 'browse'  
)as 'btn_browse' ,(
select case when max(tb1_copy.ID) is null then -1 
            when max(tb2_copy.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_copy
left join sys_roleMenuButtonMap AS tb2_copy ON tb2_copy.MenuCode=tb1_copy.MenuCode AND tb2_copy.ButtonCode=tb1_copy.ButtonCode AND tb2_copy.RoleCode='super'
where tb1_copy.MenuCode = A.MenuCode and  tb1_copy.ButtonCode = 'copy'  
)as 'btn_copy' ,(
select case when max(tb1_delete.ID) is null then -1 
            when max(tb2_delete.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_delete
left join sys_roleMenuButtonMap AS tb2_delete ON tb2_delete.MenuCode=tb1_delete.MenuCode AND tb2_delete.ButtonCode=tb1_delete.ButtonCode AND tb2_delete.RoleCode='super'
where tb1_delete.MenuCode = A.MenuCode and  tb1_delete.ButtonCode = 'delete'  
)as 'btn_delete' ,(
select case when max(tb1_download.ID) is null then -1 
            when max(tb2_download.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_download
left join sys_roleMenuButtonMap AS tb2_download ON tb2_download.MenuCode=tb1_download.MenuCode AND tb2_download.ButtonCode=tb1_download.ButtonCode AND tb2_download.RoleCode='super'
where tb1_download.MenuCode = A.MenuCode and  tb1_download.ButtonCode = 'download'  
)as 'btn_download' ,(
select case when max(tb1_edit.ID) is null then -1 
            when max(tb2_edit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_edit
left join sys_roleMenuButtonMap AS tb2_edit ON tb2_edit.MenuCode=tb1_edit.MenuCode AND tb2_edit.ButtonCode=tb1_edit.ButtonCode AND tb2_edit.RoleCode='super'
where tb1_edit.MenuCode = A.MenuCode and  tb1_edit.ButtonCode = 'edit'  
)as 'btn_edit' ,(
select case when max(tb1_export.ID) is null then -1 
            when max(tb2_export.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_export
left join sys_roleMenuButtonMap AS tb2_export ON tb2_export.MenuCode=tb1_export.MenuCode AND tb2_export.ButtonCode=tb1_export.ButtonCode AND tb2_export.RoleCode='super'
where tb1_export.MenuCode = A.MenuCode and  tb1_export.ButtonCode = 'export'  
)as 'btn_export' ,(
select case when max(tb1_import.ID) is null then -1 
            when max(tb2_import.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_import
left join sys_roleMenuButtonMap AS tb2_import ON tb2_import.MenuCode=tb1_import.MenuCode AND tb2_import.ButtonCode=tb1_import.ButtonCode AND tb2_import.RoleCode='super'
where tb1_import.MenuCode = A.MenuCode and  tb1_import.ButtonCode = 'import'  
)as 'btn_import' ,(
select case when max(tb1_print.ID) is null then -1 
            when max(tb2_print.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_print
left join sys_roleMenuButtonMap AS tb2_print ON tb2_print.MenuCode=tb1_print.MenuCode AND tb2_print.ButtonCode=tb1_print.ButtonCode AND tb2_print.RoleCode='super'
where tb1_print.MenuCode = A.MenuCode and  tb1_print.ButtonCode = 'print'  
)as 'btn_print' ,(
select case when max(tb1_refresh.ID) is null then -1 
            when max(tb2_refresh.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_refresh
left join sys_roleMenuButtonMap AS tb2_refresh ON tb2_refresh.MenuCode=tb1_refresh.MenuCode AND tb2_refresh.ButtonCode=tb1_refresh.ButtonCode AND tb2_refresh.RoleCode='super'
where tb1_refresh.MenuCode = A.MenuCode and  tb1_refresh.ButtonCode = 'refresh'  
)as 'btn_refresh' ,(
select case when max(tb1_save.ID) is null then -1 
            when max(tb2_save.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_save
left join sys_roleMenuButtonMap AS tb2_save ON tb2_save.MenuCode=tb1_save.MenuCode AND tb2_save.ButtonCode=tb1_save.ButtonCode AND tb2_save.RoleCode='super'
where tb1_save.MenuCode = A.MenuCode and  tb1_save.ButtonCode = 'save'  
)as 'btn_save' ,(
select case when max(tb1_search.ID) is null then -1 
            when max(tb2_search.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_search
left join sys_roleMenuButtonMap AS tb2_search ON tb2_search.MenuCode=tb1_search.MenuCode AND tb2_search.ButtonCode=tb1_search.ButtonCode AND tb2_search.RoleCode='super'
where tb1_search.MenuCode = A.MenuCode and  tb1_search.ButtonCode = 'search'  
)as 'btn_search' 
from sys_menu as A
left join sys_menu B on B.MenuCode = A.ParentCode
where A.IsEnable = 1
order by A.MenuSeq,A.MenuCode
2017-01-07 13:52:20,994 [9128] DEBUG Sys - select * from sys_roleMenuColumnMap where RoleCode = 'super'
2017-01-07 13:52:21,039 [7536] DEBUG Servicesys_permission - 获取动态列表
2017-01-07 13:52:21,040 [7536] DEBUG Sys - select A.*
,case when B.PermissionCode is null then 0 else 1           end as checked
,case when B.PermissionCode is null then 0 else B.IsDefault end as IsDefault from sys_permission A
left join sys_rolePermissionMap B on B.RoleCode='super' and B.PermissionCode = A.PermissionCode 
2017-01-07 13:52:35,734 [4784] DEBUG Servicesys_role - 修改角色菜单权限
2017-01-07 13:52:35,757 [4784] DEBUG Sys - delete from sys_roleMenuMap where [RoleCode] = 'super'
2017-01-07 13:52:35,759 [4784] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','13')
2017-01-07 13:52:35,761 [4784] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1301')
2017-01-07 13:52:35,764 [4784] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','14')
2017-01-07 13:52:35,764 [4784] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1402')
2017-01-07 13:52:35,765 [4784] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','140201')
2017-01-07 13:52:35,768 [4784] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','98')
2017-01-07 13:52:35,768 [4784] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9810')
2017-01-07 13:52:35,768 [4784] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','99')
2017-01-07 13:52:35,768 [4784] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9902')
2017-01-07 13:52:35,768 [4784] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9903')
2017-01-07 13:52:35,769 [4784] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9904')
2017-01-07 13:52:35,769 [4784] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9905')
2017-01-07 13:52:35,769 [4784] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9906')
2017-01-07 13:52:35,769 [4784] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9907')
2017-01-07 13:52:35,769 [4784] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9908')
2017-01-07 13:52:35,770 [4784] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9909')
2017-01-07 13:52:35,770 [4784] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9910')
2017-01-07 13:52:35,770 [4784] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9911')
2017-01-07 13:52:35,772 [4784] DEBUG Servicesys_role - 修改角色菜单按钮权限
2017-01-07 13:52:35,772 [4784] DEBUG Sys - delete from sys_roleMenuButtonMap where [RoleCode] = 'super'
2017-01-07 13:52:35,773 [4784] DEBUG Sys - insert into sys_roleMenuButtonMap([RoleCode],[MenuCode],[ButtonCode]) values('super','9911','refresh')
2017-01-07 13:52:35,776 [4784] DEBUG Servicesys_role - 修改角色数据权限
2017-01-07 13:52:35,776 [4784] DEBUG Sys - delete from sys_rolePermissionMap where [RoleCode] = 'super'
2017-01-07 13:52:35,778 [4784] DEBUG Servicesys_role - 修改角色数据列权限
2017-01-07 13:52:35,779 [4784] DEBUG Sys - delete from sys_roleMenuColumnMap where [RoleCode] = 'super'
2017-01-07 13:52:39,425 [1548] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/ImageGrabbing/Index','/Pyn/ImageGrabbing')
2017-01-07 13:52:50,592 [9128] DEBUG Sys - select * from sys_button order by ButtonSeq
2017-01-07 13:52:50,592 [9128] DEBUG Sys - select A.MenuName,A.MenuCode,A.ParentCode,A.IconClass as iconCls,B.MenuName as ParentName,(select 1 from sys_roleMenuMap tb_role where tb_role.RoleCode='super' and tb_role.MenuCode=A.MenuCode) as checked,(
select case when max(tb1_accredit.ID) is null then -1 
            when max(tb2_accredit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_accredit
left join sys_roleMenuButtonMap AS tb2_accredit ON tb2_accredit.MenuCode=tb1_accredit.MenuCode AND tb2_accredit.ButtonCode=tb1_accredit.ButtonCode AND tb2_accredit.RoleCode='super'
where tb1_accredit.MenuCode = A.MenuCode and  tb1_accredit.ButtonCode = 'accredit'  
)as 'btn_accredit' ,(
select case when max(tb1_add.ID) is null then -1 
            when max(tb2_add.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_add
left join sys_roleMenuButtonMap AS tb2_add ON tb2_add.MenuCode=tb1_add.MenuCode AND tb2_add.ButtonCode=tb1_add.ButtonCode AND tb2_add.RoleCode='super'
where tb1_add.MenuCode = A.MenuCode and  tb1_add.ButtonCode = 'add'  
)as 'btn_add' ,(
select case when max(tb1_audit.ID) is null then -1 
            when max(tb2_audit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_audit
left join sys_roleMenuButtonMap AS tb2_audit ON tb2_audit.MenuCode=tb1_audit.MenuCode AND tb2_audit.ButtonCode=tb1_audit.ButtonCode AND tb2_audit.RoleCode='super'
where tb1_audit.MenuCode = A.MenuCode and  tb1_audit.ButtonCode = 'audit'  
)as 'btn_audit' ,(
select case when max(tb1_browse.ID) is null then -1 
            when max(tb2_browse.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_browse
left join sys_roleMenuButtonMap AS tb2_browse ON tb2_browse.MenuCode=tb1_browse.MenuCode AND tb2_browse.ButtonCode=tb1_browse.ButtonCode AND tb2_browse.RoleCode='super'
where tb1_browse.MenuCode = A.MenuCode and  tb1_browse.ButtonCode = 'browse'  
)as 'btn_browse' ,(
select case when max(tb1_copy.ID) is null then -1 
            when max(tb2_copy.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_copy
left join sys_roleMenuButtonMap AS tb2_copy ON tb2_copy.MenuCode=tb1_copy.MenuCode AND tb2_copy.ButtonCode=tb1_copy.ButtonCode AND tb2_copy.RoleCode='super'
where tb1_copy.MenuCode = A.MenuCode and  tb1_copy.ButtonCode = 'copy'  
)as 'btn_copy' ,(
select case when max(tb1_delete.ID) is null then -1 
            when max(tb2_delete.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_delete
left join sys_roleMenuButtonMap AS tb2_delete ON tb2_delete.MenuCode=tb1_delete.MenuCode AND tb2_delete.ButtonCode=tb1_delete.ButtonCode AND tb2_delete.RoleCode='super'
where tb1_delete.MenuCode = A.MenuCode and  tb1_delete.ButtonCode = 'delete'  
)as 'btn_delete' ,(
select case when max(tb1_download.ID) is null then -1 
            when max(tb2_download.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_download
left join sys_roleMenuButtonMap AS tb2_download ON tb2_download.MenuCode=tb1_download.MenuCode AND tb2_download.ButtonCode=tb1_download.ButtonCode AND tb2_download.RoleCode='super'
where tb1_download.MenuCode = A.MenuCode and  tb1_download.ButtonCode = 'download'  
)as 'btn_download' ,(
select case when max(tb1_edit.ID) is null then -1 
            when max(tb2_edit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_edit
left join sys_roleMenuButtonMap AS tb2_edit ON tb2_edit.MenuCode=tb1_edit.MenuCode AND tb2_edit.ButtonCode=tb1_edit.ButtonCode AND tb2_edit.RoleCode='super'
where tb1_edit.MenuCode = A.MenuCode and  tb1_edit.ButtonCode = 'edit'  
)as 'btn_edit' ,(
select case when max(tb1_export.ID) is null then -1 
            when max(tb2_export.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_export
left join sys_roleMenuButtonMap AS tb2_export ON tb2_export.MenuCode=tb1_export.MenuCode AND tb2_export.ButtonCode=tb1_export.ButtonCode AND tb2_export.RoleCode='super'
where tb1_export.MenuCode = A.MenuCode and  tb1_export.ButtonCode = 'export'  
)as 'btn_export' ,(
select case when max(tb1_import.ID) is null then -1 
            when max(tb2_import.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_import
left join sys_roleMenuButtonMap AS tb2_import ON tb2_import.MenuCode=tb1_import.MenuCode AND tb2_import.ButtonCode=tb1_import.ButtonCode AND tb2_import.RoleCode='super'
where tb1_import.MenuCode = A.MenuCode and  tb1_import.ButtonCode = 'import'  
)as 'btn_import' ,(
select case when max(tb1_print.ID) is null then -1 
            when max(tb2_print.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_print
left join sys_roleMenuButtonMap AS tb2_print ON tb2_print.MenuCode=tb1_print.MenuCode AND tb2_print.ButtonCode=tb1_print.ButtonCode AND tb2_print.RoleCode='super'
where tb1_print.MenuCode = A.MenuCode and  tb1_print.ButtonCode = 'print'  
)as 'btn_print' ,(
select case when max(tb1_refresh.ID) is null then -1 
            when max(tb2_refresh.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_refresh
left join sys_roleMenuButtonMap AS tb2_refresh ON tb2_refresh.MenuCode=tb1_refresh.MenuCode AND tb2_refresh.ButtonCode=tb1_refresh.ButtonCode AND tb2_refresh.RoleCode='super'
where tb1_refresh.MenuCode = A.MenuCode and  tb1_refresh.ButtonCode = 'refresh'  
)as 'btn_refresh' ,(
select case when max(tb1_save.ID) is null then -1 
            when max(tb2_save.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_save
left join sys_roleMenuButtonMap AS tb2_save ON tb2_save.MenuCode=tb1_save.MenuCode AND tb2_save.ButtonCode=tb1_save.ButtonCode AND tb2_save.RoleCode='super'
where tb1_save.MenuCode = A.MenuCode and  tb1_save.ButtonCode = 'save'  
)as 'btn_save' ,(
select case when max(tb1_search.ID) is null then -1 
            when max(tb2_search.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_search
left join sys_roleMenuButtonMap AS tb2_search ON tb2_search.MenuCode=tb1_search.MenuCode AND tb2_search.ButtonCode=tb1_search.ButtonCode AND tb2_search.RoleCode='super'
where tb1_search.MenuCode = A.MenuCode and  tb1_search.ButtonCode = 'search'  
)as 'btn_search' 
from sys_menu as A
left join sys_menu B on B.MenuCode = A.ParentCode
where A.IsEnable = 1
order by A.MenuSeq,A.MenuCode
2017-01-07 13:52:50,594 [9128] DEBUG Sys - select * from sys_roleMenuColumnMap where RoleCode = 'super'
2017-01-07 13:52:50,631 [5500] DEBUG Servicesys_permission - 获取动态列表
2017-01-07 13:52:50,631 [5500] DEBUG Sys - select A.*
,case when B.PermissionCode is null then 0 else 1           end as checked
,case when B.PermissionCode is null then 0 else B.IsDefault end as IsDefault from sys_permission A
left join sys_rolePermissionMap B on B.RoleCode='super' and B.PermissionCode = A.PermissionCode 
2017-01-07 13:52:54,612 [7536] DEBUG Servicesys_role - 修改角色菜单权限
2017-01-07 13:52:54,613 [7536] DEBUG Sys - delete from sys_roleMenuMap where [RoleCode] = 'super'
2017-01-07 13:52:54,613 [7536] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','13')
2017-01-07 13:52:54,613 [7536] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1301')
2017-01-07 13:52:54,614 [7536] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','14')
2017-01-07 13:52:54,614 [7536] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1401')
2017-01-07 13:52:54,614 [7536] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1402')
2017-01-07 13:52:54,614 [7536] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','140201')
2017-01-07 13:52:54,614 [7536] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','98')
2017-01-07 13:52:54,615 [7536] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9810')
2017-01-07 13:52:54,615 [7536] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','99')
2017-01-07 13:52:54,615 [7536] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9902')
2017-01-07 13:52:54,615 [7536] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9903')
2017-01-07 13:52:54,616 [7536] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9904')
2017-01-07 13:52:54,616 [7536] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9905')
2017-01-07 13:52:54,616 [7536] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9906')
2017-01-07 13:52:54,616 [7536] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9907')
2017-01-07 13:52:54,616 [7536] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9908')
2017-01-07 13:52:54,617 [7536] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9909')
2017-01-07 13:52:54,617 [7536] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9910')
2017-01-07 13:52:54,617 [7536] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9911')
2017-01-07 13:52:54,617 [7536] DEBUG Servicesys_role - 修改角色菜单按钮权限
2017-01-07 13:52:54,618 [7536] DEBUG Sys - delete from sys_roleMenuButtonMap where [RoleCode] = 'super'
2017-01-07 13:52:54,618 [7536] DEBUG Sys - insert into sys_roleMenuButtonMap([RoleCode],[MenuCode],[ButtonCode]) values('super','9911','refresh')
2017-01-07 13:52:54,618 [7536] DEBUG Servicesys_role - 修改角色数据权限
2017-01-07 13:52:54,618 [7536] DEBUG Sys - delete from sys_rolePermissionMap where [RoleCode] = 'super'
2017-01-07 13:52:54,618 [7536] DEBUG Servicesys_role - 修改角色数据列权限
2017-01-07 13:52:54,619 [7536] DEBUG Sys - delete from sys_roleMenuColumnMap where [RoleCode] = 'super'
2017-01-07 13:52:58,258 [5500] DEBUG Sys - 
 select A1.UserName as MemberName ,A1.UserCode as MemberCode,'user' as MemberType
  from sys_user A1
 where A1.UserCode in (select B1.UserCode from sys_userRoleMap B1 where B1.RoleCode = 'super')
union
 select A2.OrganizeName as MemberName ,A2.OrganizeCode as MemberCode,'organize' as MemberType
   from sys_organize A2
  where A2.OrganizeCode in (select B2.OrganizeCode from sys_organizeRoleMap B2 where B2.RoleCode = 'super')
2017-01-07 13:53:26,236 [5500] DEBUG Servicesys_role - 设置角色成员
2017-01-07 13:53:26,238 [5500] DEBUG Sys - delete from sys_userRoleMap where [RoleCode] = 'super'
2017-01-07 13:53:26,240 [5500] DEBUG Sys - delete from sys_organizeRoleMap where [RoleCode] = 'super'
2017-01-07 13:53:26,241 [5500] DEBUG Sys - insert into sys_userRoleMap([RoleCode],[UserCode]) values('super','super')
2017-01-07 13:53:26,243 [5500] DEBUG Sys - insert into sys_organizeRoleMap([RoleCode],[OrganizeCode]) values('super','01')
2017-01-07 13:53:26,244 [5500] DEBUG Sys - insert into sys_organizeRoleMap([RoleCode],[OrganizeCode]) values('super','0103')
2017-01-07 13:53:36,191 [5500] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/user/Index','/Sys/user')
2017-01-07 13:53:36,844 [1548] DEBUG Servicesys_organize - 获取实体列表
2017-01-07 13:53:36,844 [1548] DEBUG Sys - select sys_organize.* from sys_organize
2017-01-07 13:53:36,902 [4784] DEBUG Servicesys_user - 获取实体列表
2017-01-07 13:53:36,902 [4784] DEBUG Sys - select top 20 sys_user.* from sys_user order by UserSeq
2017-01-07 13:53:36,913 [4784] DEBUG Sys - select count(*) from ( select sys_user.* from sys_user ) tb_temp
2017-01-07 13:53:43,346 [4784] DEBUG Sys - 
select distinct A.OrganizeCode,A.OrganizeName,A.ParentCode
,(case when B.UserCode is null then 'false' else 'true' end) as Checked
from sys_organize A
left join sys_userOrganizeMap B on B.OrganizeCode = A.OrganizeCode and B.UserCode = 'super'
2017-01-07 13:53:53,736 [4784] DEBUG Servicesys_user - 设置用户机构
2017-01-07 13:53:53,737 [4784] DEBUG Sys - delete from sys_userOrganizeMap where [UserCode] = 'super'
2017-01-07 13:53:53,738 [4784] DEBUG Sys - insert into sys_userOrganizeMap([UserCode],[OrganizeCode]) values('super','01')
2017-01-07 13:53:53,740 [4784] DEBUG Sys - insert into sys_userOrganizeMap([UserCode],[OrganizeCode]) values('super','0105')
2017-01-07 13:53:59,394 [7536] DEBUG Servicesys_userSetting - 获取实体列表
2017-01-07 13:53:59,394 [7536] DEBUG Sys - select sys_userSetting.* from sys_userSetting where  UserCode =  'super'
2017-01-07 13:54:03,443 [5048] DEBUG Sys - 
select distinct A.RoleCode,A.RoleName
,(case when B.RoleCode is null then 'false' else 'true' end) as Checked
from sys_role A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode and B.UserCode = 'super'
2017-01-07 13:54:05,278 [4784] DEBUG Servicesys_user - 设置用户角色
2017-01-07 13:54:05,279 [4784] DEBUG Sys - delete from sys_userRoleMap where [UserCode] = 'super'
2017-01-07 13:54:05,281 [4784] DEBUG Sys - insert into sys_userRoleMap([UserCode],[RoleCode]) values('super','super')
2017-01-07 13:54:17,856 [7536] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/user/Index','/Sys/user')
2017-01-07 13:54:18,236 [5048] DEBUG Servicesys_organize - 获取实体列表
2017-01-07 13:54:18,236 [5048] DEBUG Sys - select sys_organize.* from sys_organize
2017-01-07 13:54:18,273 [1548] DEBUG Servicesys_user - 获取实体列表
2017-01-07 13:54:18,273 [1548] DEBUG Sys - select top 20 sys_user.* from sys_user order by UserSeq
2017-01-07 13:54:18,274 [1548] DEBUG Sys - select count(*) from ( select sys_user.* from sys_user ) tb_temp
2017-01-07 13:54:34,730 [5048] DEBUG Servicesys_user - 编辑记录
2017-01-07 13:54:34,731 [5048] DEBUG Servicesys_user - 获取动态对象
2017-01-07 13:54:34,732 [5048] DEBUG Sys - select sys_user.* from sys_user where  UserCode =  'guest'
2017-01-07 13:54:34,735 [5048] DEBUG Sys - insert into sys_user([UserCode],[UserName],[Description],[IsEnable],[UpdatePerson],[UpdateDate],[CreatePerson],[CreateDate]) values('guest','王勇','','true','许薛军','2017/1/7 13:54:34','许薛军','2017/1/7 13:54:34')
2017-01-07 13:54:34,752 [5048] DEBUG Sys - update sys_user set [Password] = '1234' where [UserCode] = 'guest'
2017-01-07 13:54:59,022 [4784] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/user/Index','/Sys/user')
2017-01-07 13:54:59,508 [5048] DEBUG Servicesys_organize - 获取实体列表
2017-01-07 13:54:59,508 [5048] DEBUG Sys - select sys_organize.* from sys_organize
2017-01-07 13:54:59,532 [4784] DEBUG Servicesys_user - 获取实体列表
2017-01-07 13:54:59,532 [4784] DEBUG Sys - select top 20 sys_user.* from sys_user order by UserSeq
2017-01-07 13:54:59,532 [4784] DEBUG Sys - select count(*) from ( select sys_user.* from sys_user ) tb_temp
2017-01-07 13:55:03,759 [4784] DEBUG Sys - 
select distinct A.OrganizeCode,A.OrganizeName,A.ParentCode
,(case when B.UserCode is null then 'false' else 'true' end) as Checked
from sys_organize A
left join sys_userOrganizeMap B on B.OrganizeCode = A.OrganizeCode and B.UserCode = 'super'
2017-01-07 13:55:09,781 [4784] DEBUG Sys - 
select distinct A.OrganizeCode,A.OrganizeName,A.ParentCode
,(case when B.UserCode is null then 'false' else 'true' end) as Checked
from sys_organize A
left join sys_userOrganizeMap B on B.OrganizeCode = A.OrganizeCode and B.UserCode = 'guest'
2017-01-07 13:55:24,967 [7536] DEBUG Servicesys_user - 设置用户机构
2017-01-07 13:55:24,967 [7536] DEBUG Sys - delete from sys_userOrganizeMap where [UserCode] = 'guest'
2017-01-07 13:55:24,967 [7536] DEBUG Sys - insert into sys_userOrganizeMap([UserCode],[OrganizeCode]) values('guest','0116')
2017-01-07 13:55:24,968 [7536] DEBUG Sys - insert into sys_userOrganizeMap([UserCode],[OrganizeCode]) values('guest','011603')
2017-01-07 13:55:27,763 [5500] DEBUG Sys - 
select distinct A.RoleCode,A.RoleName
,(case when B.RoleCode is null then 'false' else 'true' end) as Checked
from sys_role A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode and B.UserCode = 'guest'
2017-01-07 13:55:33,394 [5048] DEBUG Servicesys_userSetting - 获取实体列表
2017-01-07 13:55:33,394 [5048] DEBUG Sys - select sys_userSetting.* from sys_userSetting where  UserCode =  'guest'
2017-01-07 13:55:39,468 [8280] DEBUG Servicesys_user - 编辑记录
2017-01-07 13:55:39,468 [8280] DEBUG Servicesys_user - 获取动态对象
2017-01-07 13:55:39,468 [8280] DEBUG Sys - select sys_user.* from sys_user where  UserCode =  'guest'
2017-01-07 13:55:39,470 [8280] DEBUG Sys - delete from sys_user where  UserCode =  'guest'
2017-01-07 13:55:39,473 [8280] ERROR Servicesys_user - 编辑记录失败
System.Exception: 数据已经被引用，更新失败，请先删除引用数据并重试！
   在 Zephyr.Core.Db.<Context>b__2(ErrorEventArgs e) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Core\Db.cs:行号 98
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 105
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.Execute() 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Data\Command\PartialClasses\Execute.cs:行号 9
   在 Zephyr.Data.BaseDeleteBuilder.Execute() 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Data\Builders\Delete\BaseDeleteBuilder.cs:行号 18
   在 Zephyr.Core.ServiceBase`1.<Edit>b__4f(RequestWrapper x) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 60
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass55.<Edit>b__52() 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 119
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
2017-01-07 13:55:39,499 [8280] ERROR /api/sys/user/edit - System.Exception: 数据已经被引用，更新失败，请先删除引用数据并重试！
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 23
   在 Zephyr.Core.ServiceBase`1.Edit(RequestWrapper formWrapper, RequestWrapper listWrapper, JObject data) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 68
   在 CallSite.Target(Closure , CallSite , sys_userService , Object , RequestWrapper , Object )
   在 Zephyr.Areas.Sys.Controllers.UserApiController.Edit(Object data) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Web\Areas\Sys\Controllers\UserController.cs:行号 74
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClassf.<GetExecutor>b__9(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
2017-01-07 13:55:43,839 [4784] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/user/Index','/Sys/user')
2017-01-07 13:55:44,246 [7536] DEBUG Servicesys_organize - 获取实体列表
2017-01-07 13:55:44,246 [7536] DEBUG Sys - select sys_organize.* from sys_organize
2017-01-07 13:55:44,261 [7536] DEBUG Servicesys_user - 获取实体列表
2017-01-07 13:55:44,262 [7536] DEBUG Sys - select top 20 sys_user.* from sys_user order by UserSeq
2017-01-07 13:55:44,262 [7536] DEBUG Sys - select count(*) from ( select sys_user.* from sys_user ) tb_temp
2017-01-07 13:56:49,099 [4784] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/user/Index','/Sys/user')
2017-01-07 13:56:49,402 [8172] DEBUG Servicesys_organize - 获取实体列表
2017-01-07 13:56:49,403 [8172] DEBUG Sys - select sys_organize.* from sys_organize
2017-01-07 13:56:49,432 [7536] DEBUG Servicesys_user - 获取实体列表
2017-01-07 13:56:49,433 [7536] DEBUG Sys - select top 20 sys_user.* from sys_user order by UserSeq
2017-01-07 13:56:49,434 [7536] DEBUG Sys - select count(*) from ( select sys_user.* from sys_user ) tb_temp
2017-01-07 13:56:56,049 [8280] DEBUG Sys - 
select distinct A.OrganizeCode,A.OrganizeName,A.ParentCode
,(case when B.UserCode is null then 'false' else 'true' end) as Checked
from sys_organize A
left join sys_userOrganizeMap B on B.OrganizeCode = A.OrganizeCode and B.UserCode = 'guest'
2017-01-07 13:57:00,235 [8172] DEBUG Servicesys_user - 设置用户机构
2017-01-07 13:57:00,236 [8172] DEBUG Sys - delete from sys_userOrganizeMap where [UserCode] = 'guest'
2017-01-07 13:57:00,237 [8172] DEBUG Sys - insert into sys_userOrganizeMap([UserCode],[OrganizeCode]) values('guest','0116')
2017-01-07 13:57:00,237 [8172] DEBUG Sys - insert into sys_userOrganizeMap([UserCode],[OrganizeCode]) values('guest','011603')
2017-01-07 13:57:01,235 [8280] DEBUG Sys - 
select distinct A.RoleCode,A.RoleName
,(case when B.RoleCode is null then 'false' else 'true' end) as Checked
from sys_role A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode and B.UserCode = 'guest'
2017-01-07 13:57:05,540 [4784] DEBUG Servicesys_user - 设置用户角色
2017-01-07 13:57:05,542 [4784] DEBUG Sys - delete from sys_userRoleMap where [UserCode] = 'guest'
2017-01-07 13:57:05,543 [4784] DEBUG Sys - insert into sys_userRoleMap([UserCode],[RoleCode]) values('guest','super')
2017-01-07 13:57:08,993 [4784] DEBUG Servicesys_userSetting - 获取实体列表
2017-01-07 13:57:08,994 [4784] DEBUG Sys - select sys_userSetting.* from sys_userSetting where  UserCode =  'guest'
2017-01-07 13:57:32,328 [8280] DEBUG Servicesys_user - 编辑记录
2017-01-07 13:57:32,329 [8280] DEBUG Servicesys_user - 获取动态对象
2017-01-07 13:57:32,329 [8280] DEBUG Sys - select sys_user.* from sys_user where  UserCode =  'guest'
2017-01-07 13:57:32,330 [8280] DEBUG Sys - delete from sys_user where  UserCode =  'guest'
2017-01-07 13:57:32,331 [8280] ERROR Servicesys_user - 编辑记录失败
System.Exception: 数据已经被引用，更新失败，请先删除引用数据并重试！
   在 Zephyr.Core.Db.<Context>b__2(ErrorEventArgs e) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Core\Db.cs:行号 98
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 105
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.Execute() 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Data\Command\PartialClasses\Execute.cs:行号 9
   在 Zephyr.Data.BaseDeleteBuilder.Execute() 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Data\Builders\Delete\BaseDeleteBuilder.cs:行号 18
   在 Zephyr.Core.ServiceBase`1.<Edit>b__4f(RequestWrapper x) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 60
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass55.<Edit>b__52() 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 119
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
2017-01-07 13:57:32,341 [8280] ERROR /api/sys/user/edit - System.Exception: 数据已经被引用，更新失败，请先删除引用数据并重试！
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 23
   在 Zephyr.Core.ServiceBase`1.Edit(RequestWrapper formWrapper, RequestWrapper listWrapper, JObject data) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 68
   在 CallSite.Target(Closure , CallSite , sys_userService , Object , RequestWrapper , Object )
   在 Zephyr.Areas.Sys.Controllers.UserApiController.Edit(Object data) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Web\Areas\Sys\Controllers\UserController.cs:行号 74
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClassf.<GetExecutor>b__9(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
2017-01-07 13:58:14,690 [4784] DEBUG Servicesys_user - 编辑记录
2017-01-07 13:58:14,690 [4784] DEBUG Servicesys_user - 获取动态对象
2017-01-07 13:58:14,692 [4784] DEBUG Sys - select sys_user.* from sys_user where  UserCode =  'guest'
2017-01-07 13:58:14,694 [4784] DEBUG Sys - delete from sys_user where  UserCode =  'guest'
2017-01-07 13:58:14,698 [4784] ERROR Servicesys_user - 编辑记录失败
System.Exception: 数据已经被引用，更新失败，请先删除引用数据并重试！
   在 Zephyr.Core.Db.<Context>b__2(ErrorEventArgs e) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Core\Db.cs:行号 98
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 105
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.Execute() 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Data\Command\PartialClasses\Execute.cs:行号 9
   在 Zephyr.Data.BaseDeleteBuilder.Execute() 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Data\Builders\Delete\BaseDeleteBuilder.cs:行号 18
   在 Zephyr.Core.ServiceBase`1.<Edit>b__4f(RequestWrapper x) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 60
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass55.<Edit>b__52() 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 119
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
2017-01-07 13:58:14,712 [4784] ERROR /api/sys/user/edit - System.Exception: 数据已经被引用，更新失败，请先删除引用数据并重试！
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 23
   在 Zephyr.Core.ServiceBase`1.Edit(RequestWrapper formWrapper, RequestWrapper listWrapper, JObject data) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 68
   在 CallSite.Target(Closure , CallSite , sys_userService , Object , RequestWrapper , Object )
   在 Zephyr.Areas.Sys.Controllers.UserApiController.Edit(Object data) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Web\Areas\Sys\Controllers\UserController.cs:行号 74
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClassf.<GetExecutor>b__9(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
2017-01-07 13:58:50,750 [8244] DEBUG Servicesys_user - 编辑记录
2017-01-07 13:58:50,750 [8244] DEBUG Servicesys_user - 获取动态对象
2017-01-07 13:58:50,751 [8244] DEBUG Sys - select sys_user.* from sys_user where  UserCode =  'guest'
2017-01-07 13:58:50,752 [8244] DEBUG Sys - delete from sys_user where  UserCode =  'guest'
2017-01-07 13:58:50,762 [8244] ERROR Servicesys_user - 编辑记录失败
System.Exception: 数据已经被引用，更新失败，请先删除引用数据并重试！
   在 Zephyr.Core.Db.<Context>b__2(ErrorEventArgs e) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Core\Db.cs:行号 98
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 105
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.Execute() 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Data\Command\PartialClasses\Execute.cs:行号 9
   在 Zephyr.Data.BaseDeleteBuilder.Execute() 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Data\Builders\Delete\BaseDeleteBuilder.cs:行号 18
   在 Zephyr.Core.ServiceBase`1.<Edit>b__4f(RequestWrapper x) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 60
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass55.<Edit>b__52() 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 119
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
2017-01-07 13:58:50,772 [8244] ERROR /api/sys/user/edit - System.Exception: 数据已经被引用，更新失败，请先删除引用数据并重试！
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 23
   在 Zephyr.Core.ServiceBase`1.Edit(RequestWrapper formWrapper, RequestWrapper listWrapper, JObject data) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 68
   在 CallSite.Target(Closure , CallSite , sys_userService , Object , RequestWrapper , Object )
   在 Zephyr.Areas.Sys.Controllers.UserApiController.Edit(Object data) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Web\Areas\Sys\Controllers\UserController.cs:行号 74
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClassf.<GetExecutor>b__9(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
2017-01-07 13:59:01,417 [8244] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/user/Index','/Sys/user')
2017-01-07 13:59:01,805 [8172] DEBUG Servicesys_organize - 获取实体列表
2017-01-07 13:59:01,806 [8172] DEBUG Sys - select sys_organize.* from sys_organize
2017-01-07 13:59:01,831 [4784] DEBUG Servicesys_user - 获取实体列表
2017-01-07 13:59:01,831 [4784] DEBUG Sys - select top 20 sys_user.* from sys_user order by UserSeq
2017-01-07 13:59:01,834 [4784] DEBUG Sys - select count(*) from ( select sys_user.* from sys_user ) tb_temp
2017-01-07 13:59:08,244 [8172] DEBUG Sys - 
select distinct A.OrganizeCode,A.OrganizeName,A.ParentCode
,(case when B.UserCode is null then 'false' else 'true' end) as Checked
from sys_organize A
left join sys_userOrganizeMap B on B.OrganizeCode = A.OrganizeCode and B.UserCode = 'guest'
2017-01-07 13:59:14,049 [7536] DEBUG Servicesys_user - 设置用户机构
2017-01-07 13:59:14,049 [7536] DEBUG Sys - delete from sys_userOrganizeMap where [UserCode] = 'guest'
2017-01-07 13:59:16,849 [8244] DEBUG Sys - 
select distinct A.RoleCode,A.RoleName
,(case when B.RoleCode is null then 'false' else 'true' end) as Checked
from sys_role A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode and B.UserCode = 'guest'
2017-01-07 13:59:18,867 [7536] DEBUG Servicesys_user - 设置用户角色
2017-01-07 13:59:18,868 [7536] DEBUG Sys - delete from sys_userRoleMap where [UserCode] = 'guest'
2017-01-07 13:59:20,130 [8280] DEBUG Servicesys_userSetting - 获取实体列表
2017-01-07 13:59:20,130 [8280] DEBUG Sys - select sys_userSetting.* from sys_userSetting where  UserCode =  'guest'
2017-01-07 13:59:25,697 [8244] DEBUG Servicesys_user - 编辑记录
2017-01-07 13:59:25,698 [8244] DEBUG Servicesys_user - 获取动态对象
2017-01-07 13:59:25,699 [8244] DEBUG Sys - select sys_user.* from sys_user where  UserCode =  'guest'
2017-01-07 13:59:25,700 [8244] DEBUG Sys - delete from sys_user where  UserCode =  'guest'
2017-01-07 13:59:49,115 [8172] DEBUG Servicesys_user - 编辑记录
2017-01-07 13:59:49,115 [8172] DEBUG Servicesys_user - 获取动态对象
2017-01-07 13:59:49,119 [8172] DEBUG Sys - select sys_user.* from sys_user where  UserCode =  'guest'
2017-01-07 13:59:49,120 [8172] DEBUG Sys - insert into sys_user([UserCode],[UserName],[Description],[IsEnable],[UpdatePerson],[UpdateDate],[CreatePerson],[CreateDate]) values('guest','王勇','','true','许薛军','2017/1/7 13:59:49','许薛军','2017/1/7 13:59:49')
2017-01-07 13:59:49,120 [8172] DEBUG Sys - update sys_user set [Password] = '1234' where [UserCode] = 'guest'
2017-01-07 13:59:54,208 [8280] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/user/Index','/Sys/user')
2017-01-07 13:59:54,560 [8172] DEBUG Servicesys_user - 获取实体列表
2017-01-07 13:59:54,560 [8172] DEBUG Sys - select top 20 sys_user.* from sys_user order by UserSeq
2017-01-07 13:59:54,561 [8172] DEBUG Sys - select count(*) from ( select sys_user.* from sys_user ) tb_temp
2017-01-07 13:59:54,595 [7536] DEBUG Servicesys_organize - 获取实体列表
2017-01-07 13:59:54,595 [7536] DEBUG Sys - select sys_organize.* from sys_organize
2017-01-07 13:59:56,709 [8172] DEBUG Sys - 
select distinct A.OrganizeCode,A.OrganizeName,A.ParentCode
,(case when B.UserCode is null then 'false' else 'true' end) as Checked
from sys_organize A
left join sys_userOrganizeMap B on B.OrganizeCode = A.OrganizeCode and B.UserCode = 'guest'
2017-01-07 14:00:06,130 [8172] DEBUG Servicesys_user - 编辑记录
2017-01-07 14:00:06,130 [8172] DEBUG Servicesys_user - 获取动态对象
2017-01-07 14:00:06,131 [8172] DEBUG Sys - select sys_user.* from sys_user where  UserCode =  'guest'
2017-01-07 14:00:06,132 [8172] DEBUG Sys - delete from sys_user where  UserCode =  'guest'
2017-01-07 14:00:40,472 [7536] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/user/Index','/Sys/user')
2017-01-07 14:00:40,821 [8280] DEBUG Servicesys_user - 获取实体列表
2017-01-07 14:00:40,821 [8280] DEBUG Sys - select top 20 sys_user.* from sys_user order by UserSeq
2017-01-07 14:00:40,821 [8280] DEBUG Sys - select count(*) from ( select sys_user.* from sys_user ) tb_temp
2017-01-07 14:00:40,845 [8172] DEBUG Servicesys_organize - 获取实体列表
2017-01-07 14:00:40,845 [8172] DEBUG Sys - select sys_organize.* from sys_organize
2017-01-07 14:00:57,676 [8244] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/ImageGrabbing/Index','/Pyn/ImageGrabbing')
2017-01-07 14:00:57,679 [8244] DEBUG Servicesys_code - 获取动态列表
2017-01-07 14:00:57,679 [8244] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'CamaraSerie'
2017-01-07 14:00:57,715 [8244] DEBUG Servicesys_code - 获取动态列表
2017-01-07 14:00:57,717 [8244] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'ImageGrabbing'
2017-01-07 14:03:48,512 [9052] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 14:03:48,524 [9052] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 14:03:48,660 [9052] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 14:03:48,709 [9052] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 14:03:48,711 [9052] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 14:03:48,713 [9052] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 14:04:14,056 [8244] DEBUG Servicesys_user - 获取实体对象
2017-01-07 14:04:14,062 [8244] DEBUG Sys - select sys_user.* from sys_user where  UserCode =  'super'and Password =  'xxj'and IsEnable =  'True'
2017-01-07 14:04:14,109 [8244] DEBUG Sys - 
update sys_user
set LoginCount = isnull(LoginCount,0) + 1
   ,LastLoginDate = getdate()
where UserCode = 'super' 
2017-01-07 14:04:14,129 [8244] DEBUG Sys - insert into sys_loginHistory([UserCode],[UserName],[HostName],[HostIP],[LoginCity],[LoginDate]) values('super','许薛军','170KOLDN5WNNJFX','localhost','广东省深圳市','2017/1/7 14:04:14')
2017-01-07 14:04:14,131 [8244] DEBUG ServiceProjectInfo - 获取实体对象
2017-01-07 14:04:14,132 [8244] DEBUG Pyn - select ProjectInfo.* from ProjectInfo where  ProjectCode =  'HZ2016353344571'
2017-01-07 14:04:14,171 [7280] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2017-01-07 14:04:15,584 [8244] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2017-01-07 14:04:18,918 [8244] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/menu/Index','/Sys/menu')
2017-01-07 14:04:19,513 [8172] DEBUG Servicesys_menu - 获取动态列表
2017-01-07 14:04:19,514 [8172] DEBUG Sys - select A.*,B.MenuName as ParentName from sys_menu A left join sys_menu B on B.MenuCode = A.ParentCode order by A.MenuSeq,A.MenuCode
2017-01-07 14:04:27,313 [7280] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/organize/Index','/Sys/organize')
2017-01-07 14:04:27,321 [7280] DEBUG Servicesys_organize - 获取实体列表
2017-01-07 14:04:27,322 [7280] DEBUG Sys - select sys_organize.* from sys_organize
2017-01-07 14:04:32,842 [6480] DEBUG Sys - select sys_organize.* from sys_organize where  ParentCode =  '011603'
2017-01-07 14:04:32,850 [6480] DEBUG Sys - delete from sys_organize where  OrganizeCode =  '011603'
2017-01-07 14:04:32,851 [6480] DEBUG Servicesys_organize - 获取实体列表
2017-01-07 14:04:32,851 [6480] DEBUG Sys - select sys_organize.* from sys_organize
2017-01-07 14:04:37,488 [8172] DEBUG Sys - select sys_organize.* from sys_organize where  ParentCode =  '011602'
2017-01-07 14:04:37,489 [8172] DEBUG Sys - delete from sys_organize where  OrganizeCode =  '011602'
2017-01-07 14:04:37,499 [8172] DEBUG Servicesys_organize - 获取实体列表
2017-01-07 14:04:37,499 [8172] DEBUG Sys - select sys_organize.* from sys_organize
2017-01-07 14:04:55,357 [7280] DEBUG Servicesys_organize - 编辑记录
2017-01-07 14:04:55,377 [7280] DEBUG Servicesys_organize - 获取动态对象
2017-01-07 14:04:55,379 [7280] DEBUG Sys - select 
        sys_organize
    .* from 
        sys_organize
     where  OrganizeCode =  '011602'
2017-01-07 14:04:55,392 [7280] DEBUG Sys - update 
        sys_organize
     set [ParentCode] = '0116', [OrganizeCode] = '011602', [OrganizeName] = '总设工程师', [UpdatePerson] = '许薛军', [UpdateDate] = '2017/1/7 14:04:55' where  OrganizeCode =  '011602'
2017-01-07 14:04:55,397 [7280] DEBUG Sys - insert into 
        sys_organize
    ([ParentCode],[OrganizeCode],[OrganizeName],[UpdatePerson],[UpdateDate],[CreatePerson],[CreateDate]) values('0116','011602','总设工程师','许薛军','2017/1/7 14:04:55','许薛军','2017/1/7 14:04:55')
2017-01-07 14:04:55,410 [7280] DEBUG Servicesys_organize - 获取实体列表
2017-01-07 14:04:55,410 [7280] DEBUG Sys - select sys_organize.* from sys_organize
2017-01-07 14:05:08,143 [6100] DEBUG Sys - 
select distinct A.RoleCode,A.RoleName
,(case when B.RoleCode is null then 'false' else 'true' end) as Checked
from sys_role A
left join sys_organizeRoleMap B on B.RoleCode = A.RoleCode and B.OrganizeCode = '01'
2017-01-07 14:05:09,601 [7280] DEBUG Servicesys_organize - 设置机构角色
2017-01-07 14:05:09,602 [7280] DEBUG Sys - delete from sys_organizeRoleMap where [OrganizeCode] = '01'
2017-01-07 14:05:09,603 [7280] DEBUG Sys - insert into sys_organizeRoleMap([OrganizeCode],[RoleCode]) values('01','super')
2017-01-07 14:05:12,850 [6100] DEBUG Sys - 
select distinct A.RoleCode,A.RoleName
,(case when B.RoleCode is null then 'false' else 'true' end) as Checked
from sys_role A
left join sys_organizeRoleMap B on B.RoleCode = A.RoleCode and B.OrganizeCode = '0116'
2017-01-07 14:05:14,487 [7280] DEBUG Servicesys_organize - 设置机构角色
2017-01-07 14:05:14,495 [7280] DEBUG Sys - delete from sys_organizeRoleMap where [OrganizeCode] = '0116'
2017-01-07 14:05:14,497 [7280] DEBUG Sys - insert into sys_organizeRoleMap([OrganizeCode],[RoleCode]) values('0116','super')
2017-01-07 14:05:34,251 [8172] DEBUG Servicesys_organize - 编辑记录
2017-01-07 14:05:34,251 [8172] DEBUG Servicesys_organize - 获取动态对象
2017-01-07 14:05:34,251 [8172] DEBUG Sys - select 
        sys_organize
    .* from 
        sys_organize
     where  OrganizeCode =  '01160201'
2017-01-07 14:05:34,252 [8172] DEBUG Sys - update 
        sys_organize
     set [ParentCode] = '011602', [OrganizeCode] = '01160201', [OrganizeName] = '总社工程师小组1', [UpdatePerson] = '许薛军', [UpdateDate] = '2017/1/7 14:05:34' where  OrganizeCode =  '01160201'
2017-01-07 14:05:34,256 [8172] DEBUG Sys - insert into 
        sys_organize
    ([ParentCode],[OrganizeCode],[OrganizeName],[UpdatePerson],[UpdateDate],[CreatePerson],[CreateDate]) values('011602','01160201','总社工程师小组1','许薛军','2017/1/7 14:05:34','许薛军','2017/1/7 14:05:34')
2017-01-07 14:05:34,262 [8172] DEBUG Servicesys_organize - 获取实体列表
2017-01-07 14:05:34,262 [8172] DEBUG Sys - select sys_organize.* from sys_organize
2017-01-07 14:05:39,978 [7280] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/role/Index','/Sys/role')
2017-01-07 14:05:39,984 [7280] DEBUG Servicesys_user - 获取动态列表
2017-01-07 14:05:39,984 [7280] DEBUG Sys - select UserCode,UserName from sys_user
2017-01-07 14:05:39,985 [7280] DEBUG Servicesys_organize - 获取动态列表
2017-01-07 14:05:39,985 [7280] DEBUG Sys - select OrganizeCode,OrganizeName from sys_organize
2017-01-07 14:05:40,562 [8244] DEBUG Servicesys_role - 获取实体列表
2017-01-07 14:05:40,563 [8244] DEBUG Sys - select sys_role.* from sys_role order by RoleSeq
2017-01-07 14:05:42,144 [7280] DEBUG Sys - select * from sys_button order by ButtonSeq
2017-01-07 14:05:42,145 [7280] DEBUG Sys - select A.MenuName,A.MenuCode,A.ParentCode,A.IconClass as iconCls,B.MenuName as ParentName,(select 1 from sys_roleMenuMap tb_role where tb_role.RoleCode='super' and tb_role.MenuCode=A.MenuCode) as checked,(
select case when max(tb1_accredit.ID) is null then -1 
            when max(tb2_accredit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_accredit
left join sys_roleMenuButtonMap AS tb2_accredit ON tb2_accredit.MenuCode=tb1_accredit.MenuCode AND tb2_accredit.ButtonCode=tb1_accredit.ButtonCode AND tb2_accredit.RoleCode='super'
where tb1_accredit.MenuCode = A.MenuCode and  tb1_accredit.ButtonCode = 'accredit'  
)as 'btn_accredit' ,(
select case when max(tb1_add.ID) is null then -1 
            when max(tb2_add.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_add
left join sys_roleMenuButtonMap AS tb2_add ON tb2_add.MenuCode=tb1_add.MenuCode AND tb2_add.ButtonCode=tb1_add.ButtonCode AND tb2_add.RoleCode='super'
where tb1_add.MenuCode = A.MenuCode and  tb1_add.ButtonCode = 'add'  
)as 'btn_add' ,(
select case when max(tb1_audit.ID) is null then -1 
            when max(tb2_audit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_audit
left join sys_roleMenuButtonMap AS tb2_audit ON tb2_audit.MenuCode=tb1_audit.MenuCode AND tb2_audit.ButtonCode=tb1_audit.ButtonCode AND tb2_audit.RoleCode='super'
where tb1_audit.MenuCode = A.MenuCode and  tb1_audit.ButtonCode = 'audit'  
)as 'btn_audit' ,(
select case when max(tb1_browse.ID) is null then -1 
            when max(tb2_browse.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_browse
left join sys_roleMenuButtonMap AS tb2_browse ON tb2_browse.MenuCode=tb1_browse.MenuCode AND tb2_browse.ButtonCode=tb1_browse.ButtonCode AND tb2_browse.RoleCode='super'
where tb1_browse.MenuCode = A.MenuCode and  tb1_browse.ButtonCode = 'browse'  
)as 'btn_browse' ,(
select case when max(tb1_copy.ID) is null then -1 
            when max(tb2_copy.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_copy
left join sys_roleMenuButtonMap AS tb2_copy ON tb2_copy.MenuCode=tb1_copy.MenuCode AND tb2_copy.ButtonCode=tb1_copy.ButtonCode AND tb2_copy.RoleCode='super'
where tb1_copy.MenuCode = A.MenuCode and  tb1_copy.ButtonCode = 'copy'  
)as 'btn_copy' ,(
select case when max(tb1_delete.ID) is null then -1 
            when max(tb2_delete.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_delete
left join sys_roleMenuButtonMap AS tb2_delete ON tb2_delete.MenuCode=tb1_delete.MenuCode AND tb2_delete.ButtonCode=tb1_delete.ButtonCode AND tb2_delete.RoleCode='super'
where tb1_delete.MenuCode = A.MenuCode and  tb1_delete.ButtonCode = 'delete'  
)as 'btn_delete' ,(
select case when max(tb1_download.ID) is null then -1 
            when max(tb2_download.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_download
left join sys_roleMenuButtonMap AS tb2_download ON tb2_download.MenuCode=tb1_download.MenuCode AND tb2_download.ButtonCode=tb1_download.ButtonCode AND tb2_download.RoleCode='super'
where tb1_download.MenuCode = A.MenuCode and  tb1_download.ButtonCode = 'download'  
)as 'btn_download' ,(
select case when max(tb1_edit.ID) is null then -1 
            when max(tb2_edit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_edit
left join sys_roleMenuButtonMap AS tb2_edit ON tb2_edit.MenuCode=tb1_edit.MenuCode AND tb2_edit.ButtonCode=tb1_edit.ButtonCode AND tb2_edit.RoleCode='super'
where tb1_edit.MenuCode = A.MenuCode and  tb1_edit.ButtonCode = 'edit'  
)as 'btn_edit' ,(
select case when max(tb1_export.ID) is null then -1 
            when max(tb2_export.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_export
left join sys_roleMenuButtonMap AS tb2_export ON tb2_export.MenuCode=tb1_export.MenuCode AND tb2_export.ButtonCode=tb1_export.ButtonCode AND tb2_export.RoleCode='super'
where tb1_export.MenuCode = A.MenuCode and  tb1_export.ButtonCode = 'export'  
)as 'btn_export' ,(
select case when max(tb1_import.ID) is null then -1 
            when max(tb2_import.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_import
left join sys_roleMenuButtonMap AS tb2_import ON tb2_import.MenuCode=tb1_import.MenuCode AND tb2_import.ButtonCode=tb1_import.ButtonCode AND tb2_import.RoleCode='super'
where tb1_import.MenuCode = A.MenuCode and  tb1_import.ButtonCode = 'import'  
)as 'btn_import' ,(
select case when max(tb1_print.ID) is null then -1 
            when max(tb2_print.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_print
left join sys_roleMenuButtonMap AS tb2_print ON tb2_print.MenuCode=tb1_print.MenuCode AND tb2_print.ButtonCode=tb1_print.ButtonCode AND tb2_print.RoleCode='super'
where tb1_print.MenuCode = A.MenuCode and  tb1_print.ButtonCode = 'print'  
)as 'btn_print' ,(
select case when max(tb1_refresh.ID) is null then -1 
            when max(tb2_refresh.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_refresh
left join sys_roleMenuButtonMap AS tb2_refresh ON tb2_refresh.MenuCode=tb1_refresh.MenuCode AND tb2_refresh.ButtonCode=tb1_refresh.ButtonCode AND tb2_refresh.RoleCode='super'
where tb1_refresh.MenuCode = A.MenuCode and  tb1_refresh.ButtonCode = 'refresh'  
)as 'btn_refresh' ,(
select case when max(tb1_save.ID) is null then -1 
            when max(tb2_save.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_save
left join sys_roleMenuButtonMap AS tb2_save ON tb2_save.MenuCode=tb1_save.MenuCode AND tb2_save.ButtonCode=tb1_save.ButtonCode AND tb2_save.RoleCode='super'
where tb1_save.MenuCode = A.MenuCode and  tb1_save.ButtonCode = 'save'  
)as 'btn_save' ,(
select case when max(tb1_search.ID) is null then -1 
            when max(tb2_search.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_search
left join sys_roleMenuButtonMap AS tb2_search ON tb2_search.MenuCode=tb1_search.MenuCode AND tb2_search.ButtonCode=tb1_search.ButtonCode AND tb2_search.RoleCode='super'
where tb1_search.MenuCode = A.MenuCode and  tb1_search.ButtonCode = 'search'  
)as 'btn_search' 
from sys_menu as A
left join sys_menu B on B.MenuCode = A.ParentCode
where A.IsEnable = 1
order by A.MenuSeq,A.MenuCode
2017-01-07 14:05:42,147 [7280] DEBUG Sys - select * from sys_roleMenuColumnMap where RoleCode = 'super'
2017-01-07 14:05:42,183 [8244] DEBUG Servicesys_permission - 获取动态列表
2017-01-07 14:05:42,184 [8244] DEBUG Sys - select A.*
,case when B.PermissionCode is null then 0 else 1           end as checked
,case when B.PermissionCode is null then 0 else B.IsDefault end as IsDefault from sys_permission A
left join sys_rolePermissionMap B on B.RoleCode='super' and B.PermissionCode = A.PermissionCode 
2017-01-07 14:05:46,969 [8172] DEBUG Servicesys_role - 修改角色菜单权限
2017-01-07 14:05:46,986 [8172] DEBUG Sys - delete from sys_roleMenuMap where [RoleCode] = 'super'
2017-01-07 14:05:46,986 [8172] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','13')
2017-01-07 14:05:46,990 [8172] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1301')
2017-01-07 14:05:46,991 [8172] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','14')
2017-01-07 14:05:46,991 [8172] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1402')
2017-01-07 14:05:46,991 [8172] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','140201')
2017-01-07 14:05:46,992 [8172] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','98')
2017-01-07 14:05:46,993 [8172] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9810')
2017-01-07 14:05:46,993 [8172] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','99')
2017-01-07 14:05:46,994 [8172] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9902')
2017-01-07 14:05:46,994 [8172] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9903')
2017-01-07 14:05:46,994 [8172] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9904')
2017-01-07 14:05:46,995 [8172] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9905')
2017-01-07 14:05:46,996 [8172] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9906')
2017-01-07 14:05:46,996 [8172] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9907')
2017-01-07 14:05:46,996 [8172] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9908')
2017-01-07 14:05:46,996 [8172] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9909')
2017-01-07 14:05:46,996 [8172] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9910')
2017-01-07 14:05:46,996 [8172] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9911')
2017-01-07 14:05:47,000 [8172] DEBUG Servicesys_role - 修改角色菜单按钮权限
2017-01-07 14:05:47,001 [8172] DEBUG Sys - delete from sys_roleMenuButtonMap where [RoleCode] = 'super'
2017-01-07 14:05:47,001 [8172] DEBUG Sys - insert into sys_roleMenuButtonMap([RoleCode],[MenuCode],[ButtonCode]) values('super','9911','refresh')
2017-01-07 14:05:47,003 [8172] DEBUG Servicesys_role - 修改角色数据权限
2017-01-07 14:05:47,003 [8172] DEBUG Sys - delete from sys_rolePermissionMap where [RoleCode] = 'super'
2017-01-07 14:05:47,005 [8172] DEBUG Servicesys_role - 修改角色数据列权限
2017-01-07 14:05:47,006 [8172] DEBUG Sys - delete from sys_roleMenuColumnMap where [RoleCode] = 'super'
2017-01-07 14:05:50,642 [8172] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/ImageGrabbing/Index','/Pyn/ImageGrabbing')
2017-01-07 14:06:04,701 [8244] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/user/Index','/Sys/user')
2017-01-07 14:06:05,290 [6100] DEBUG Servicesys_organize - 获取实体列表
2017-01-07 14:06:05,290 [6100] DEBUG Sys - select sys_organize.* from sys_organize
2017-01-07 14:06:05,328 [7280] DEBUG Servicesys_user - 获取实体列表
2017-01-07 14:06:05,329 [7280] DEBUG Sys - select top 20 sys_user.* from sys_user order by UserSeq
2017-01-07 14:06:05,338 [7280] DEBUG Sys - select count(*) from ( select sys_user.* from sys_user ) tb_temp
2017-01-07 14:06:20,642 [3848] DEBUG Servicesys_user - 编辑记录
2017-01-07 14:06:20,645 [3848] DEBUG Servicesys_user - 获取动态对象
2017-01-07 14:06:20,646 [3848] DEBUG Sys - select sys_user.* from sys_user where  UserCode =  'guest'
2017-01-07 14:06:20,649 [3848] DEBUG Sys - insert into sys_user([UserCode],[UserName],[Description],[IsEnable],[UpdatePerson],[UpdateDate],[CreatePerson],[CreateDate]) values('guest','王勇','','true','许薛军','2017/1/7 14:06:20','许薛军','2017/1/7 14:06:20')
2017-01-07 14:06:20,656 [3848] DEBUG Sys - update sys_user set [Password] = '1234' where [UserCode] = 'guest'
2017-01-07 14:06:25,884 [6100] DEBUG Servicesys_user - 编辑记录
2017-01-07 14:06:25,885 [6100] DEBUG Servicesys_user - 获取动态对象
2017-01-07 14:06:25,888 [6100] DEBUG Sys - select sys_user.* from sys_user where  UserCode =  'guest'
2017-01-07 14:06:25,890 [6100] DEBUG Sys - delete from sys_user where  UserCode =  'guest'
2017-01-07 14:06:40,020 [6100] DEBUG Servicesys_user - 编辑记录
2017-01-07 14:06:40,020 [6100] DEBUG Servicesys_user - 获取动态对象
2017-01-07 14:06:40,021 [6100] DEBUG Sys - select sys_user.* from sys_user where  UserCode =  'guest'
2017-01-07 14:06:40,022 [6100] DEBUG Sys - insert into sys_user([UserCode],[UserName],[Description],[IsEnable],[UpdatePerson],[UpdateDate],[CreatePerson],[CreateDate]) values('guest','王勇','','true','许薛军','2017/1/7 14:06:40','许薛军','2017/1/7 14:06:40')
2017-01-07 14:06:40,022 [6100] DEBUG Sys - update sys_user set [Password] = '1234' where [UserCode] = 'guest'
2017-01-07 14:06:44,556 [7280] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/user/Index','/Sys/user')
2017-01-07 14:06:45,000 [8244] DEBUG Servicesys_organize - 获取实体列表
2017-01-07 14:06:45,001 [8244] DEBUG Sys - select sys_organize.* from sys_organize
2017-01-07 14:06:45,045 [7280] DEBUG Servicesys_user - 获取实体列表
2017-01-07 14:06:45,045 [7280] DEBUG Sys - select top 20 sys_user.* from sys_user order by UserSeq
2017-01-07 14:06:45,046 [7280] DEBUG Sys - select count(*) from ( select sys_user.* from sys_user ) tb_temp
2017-01-07 14:06:46,448 [3848] DEBUG Sys - 
select distinct A.OrganizeCode,A.OrganizeName,A.ParentCode
,(case when B.UserCode is null then 'false' else 'true' end) as Checked
from sys_organize A
left join sys_userOrganizeMap B on B.OrganizeCode = A.OrganizeCode and B.UserCode = 'super'
2017-01-07 14:06:56,261 [3848] DEBUG Sys - 
select distinct A.OrganizeCode,A.OrganizeName,A.ParentCode
,(case when B.UserCode is null then 'false' else 'true' end) as Checked
from sys_organize A
left join sys_userOrganizeMap B on B.OrganizeCode = A.OrganizeCode and B.UserCode = 'guest'
2017-01-07 14:07:01,373 [8244] DEBUG Servicesys_user - 设置用户机构
2017-01-07 14:07:01,374 [8244] DEBUG Sys - delete from sys_userOrganizeMap where [UserCode] = 'guest'
2017-01-07 14:07:01,374 [8244] DEBUG Sys - insert into sys_userOrganizeMap([UserCode],[OrganizeCode]) values('guest','0116')
2017-01-07 14:07:01,374 [8244] DEBUG Sys - insert into sys_userOrganizeMap([UserCode],[OrganizeCode]) values('guest','011602')
2017-01-07 14:07:02,784 [6100] DEBUG Sys - 
select distinct A.RoleCode,A.RoleName
,(case when B.RoleCode is null then 'false' else 'true' end) as Checked
from sys_role A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode and B.UserCode = 'guest'
2017-01-07 14:07:04,526 [8244] DEBUG Servicesys_user - 设置用户角色
2017-01-07 14:07:04,527 [8244] DEBUG Sys - delete from sys_userRoleMap where [UserCode] = 'guest'
2017-01-07 14:07:04,528 [8244] DEBUG Sys - insert into sys_userRoleMap([UserCode],[RoleCode]) values('guest','super')
2017-01-07 14:07:21,401 [3848] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/code/Index','/Sys/code')
2017-01-07 14:07:22,002 [7280] DEBUG Servicesys_codeType - 获取动态列表
2017-01-07 14:07:22,003 [7280] DEBUG Sys - select sys_codeType.* from sys_codeType order by Seq,CodeType
2017-01-07 14:07:22,165 [6844] DEBUG Servicesys_code - 获取实体列表
2017-01-07 14:07:22,166 [6844] DEBUG Sys - select top 20 sys_code.* from sys_code order by Seq
2017-01-07 14:07:22,185 [6844] DEBUG Sys - select count(*) from ( select sys_code.* from sys_code ) tb_temp
2017-01-07 14:07:27,819 [8244] DEBUG Servicesys_code - 获取实体列表
2017-01-07 14:07:27,819 [8244] DEBUG Sys - select top 20 sys_code.* from sys_code where  CodeType =  'CamaraSerie' order by Seq
2017-01-07 14:07:27,821 [8244] DEBUG Sys - select count(*) from ( select sys_code.* from sys_code where  CodeType =  'CamaraSerie' ) tb_temp
2017-01-07 14:07:29,094 [6844] DEBUG Servicesys_code - 获取实体列表
2017-01-07 14:07:29,094 [6844] DEBUG Sys - select top 20 sys_code.* from sys_code where  CodeType =  'CamaraType' order by Seq
2017-01-07 14:07:29,096 [6844] DEBUG Sys - select count(*) from ( select sys_code.* from sys_code where  CodeType =  'CamaraType' ) tb_temp
2017-01-07 14:07:32,489 [7280] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/log/Index','/Sys/log')
2017-01-07 14:07:33,280 [6844] DEBUG Servicesys_loginHistory - 获取实体列表
2017-01-07 14:07:33,280 [6844] DEBUG Sys - select top 20 
        A.*
     from 
        sys_loginHistory A
     order by A.ID desc
2017-01-07 14:07:33,292 [6844] DEBUG Sys - select count(*) from ( select 
        A.*
     from 
        sys_loginHistory A
     ) tb_temp
2017-01-07 14:07:33,324 [8244] DEBUG Servicesys_log - 获取实体列表
2017-01-07 14:07:33,324 [8244] DEBUG Sys - select top 20 
        A.*
     from 
        sys_log A
     order by A.ID desc
2017-01-07 14:07:33,366 [8244] DEBUG Sys - select count(*) from ( select 
        A.*
     from 
        sys_log A
     ) tb_temp
2017-01-07 14:07:42,485 [6100] DEBUG Servicesys_loginHistory - 获取实体列表
2017-01-07 14:07:42,486 [6100] DEBUG Sys - select top 20 
        A.*
     from 
        sys_loginHistory A
     where  datediff(day,'2017-01-07',LoginDate) >=0 and datediff(day,'2017-01-07',LoginDate)<=0 order by A.ID desc
2017-01-07 14:07:42,490 [6844] DEBUG Servicesys_log - 获取实体列表
2017-01-07 14:07:42,491 [6844] DEBUG Sys - select top 20 
        A.*
     from 
        sys_log A
     where  datediff(day,'2017-01-07',Date) >=0 and datediff(day,'2017-01-07',Date)<=0 order by A.ID desc
2017-01-07 14:07:42,509 [6844] DEBUG Sys - select count(*) from ( select 
        A.*
     from 
        sys_log A
     where  datediff(day,'2017-01-07',Date) >=0 and datediff(day,'2017-01-07',Date)<=0 ) tb_temp
2017-01-07 14:07:42,509 [6100] DEBUG Sys - select count(*) from ( select 
        A.*
     from 
        sys_loginHistory A
     where  datediff(day,'2017-01-07',LoginDate) >=0 and datediff(day,'2017-01-07',LoginDate)<=0 ) tb_temp
2017-01-07 14:07:48,203 [8244] DEBUG Servicesys_loginHistory - 获取实体列表
2017-01-07 14:07:48,203 [8244] DEBUG Sys - select top 20 
        A.*
     from 
        sys_loginHistory A
     where  datediff(day,'2016-12-31 ',LoginDate) >=0 and datediff(day,' 2017-01-07',LoginDate)<=0 order by A.ID desc
2017-01-07 14:07:48,209 [8244] DEBUG Sys - select count(*) from ( select 
        A.*
     from 
        sys_loginHistory A
     where  datediff(day,'2016-12-31 ',LoginDate) >=0 and datediff(day,' 2017-01-07',LoginDate)<=0 ) tb_temp
2017-01-07 14:07:48,239 [6100] DEBUG Servicesys_log - 获取实体列表
2017-01-07 14:07:48,240 [6100] DEBUG Sys - select top 20 
        A.*
     from 
        sys_log A
     where  datediff(day,'2016-12-31 ',Date) >=0 and datediff(day,' 2017-01-07',Date)<=0 order by A.ID desc
2017-01-07 14:07:48,250 [6100] DEBUG Sys - select count(*) from ( select 
        A.*
     from 
        sys_log A
     where  datediff(day,'2016-12-31 ',Date) >=0 and datediff(day,' 2017-01-07',Date)<=0 ) tb_temp
2017-01-07 14:08:12,225 [6100] DEBUG Servicesys_loginHistory - 获取实体列表
2017-01-07 14:08:12,226 [6100] DEBUG Sys - select top 20 
        A.*
     from 
        sys_loginHistory A
     where  datediff(day,'2017-01-07',LoginDate) >=0 and datediff(day,'2017-01-07',LoginDate)<=0 order by A.ID desc
2017-01-07 14:08:12,227 [6100] DEBUG Sys - select count(*) from ( select 
        A.*
     from 
        sys_loginHistory A
     where  datediff(day,'2017-01-07',LoginDate) >=0 and datediff(day,'2017-01-07',LoginDate)<=0 ) tb_temp
2017-01-07 14:08:12,244 [8244] DEBUG Servicesys_log - 获取实体列表
2017-01-07 14:08:12,244 [8244] DEBUG Sys - select top 20 
        A.*
     from 
        sys_log A
     where  datediff(day,'2017-01-07',Date) >=0 and datediff(day,'2017-01-07',Date)<=0 order by A.ID desc
2017-01-07 14:08:12,245 [8244] DEBUG Sys - select count(*) from ( select 
        A.*
     from 
        sys_log A
     where  datediff(day,'2017-01-07',Date) >=0 and datediff(day,'2017-01-07',Date)<=0 ) tb_temp
2017-01-07 14:08:16,565 [6844] DEBUG Servicesys_loginHistory - 获取实体列表
2017-01-07 14:08:16,565 [6844] DEBUG Sys - select top 20 
        A.*
     from 
        sys_loginHistory A
     where  datediff(day,'2017-01-07',LoginDate) >=0 and datediff(day,'2017-01-07',LoginDate)<=0 order by A.ID desc
2017-01-07 14:08:16,565 [6844] DEBUG Sys - select count(*) from ( select 
        A.*
     from 
        sys_loginHistory A
     where  datediff(day,'2017-01-07',LoginDate) >=0 and datediff(day,'2017-01-07',LoginDate)<=0 ) tb_temp
2017-01-07 14:08:33,397 [6100] ERROR /sys/log/download/log2017010720170107 - System.IO.FileNotFoundException: 未能找到文件“E:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Web\logs\log2017010720170107.txt”。
文件名:“E:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Web\logs\log2017010720170107.txt”
   在 System.IO.__Error.WinIOError(Int32 errorCode, String maybeFullPath)
   在 System.IO.FileStream.Init(String path, FileMode mode, FileAccess access, Int32 rights, Boolean useRights, FileShare share, Int32 bufferSize, FileOptions options, SECURITY_ATTRIBUTES secAttrs, String msgPath, Boolean bFromProxy, Boolean useLongPath, Boolean checkHost)
   在 System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share)
   在 Zephyr.Core.LogReader.ReadFileStream(String filePath) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Logs\LogReader.cs:行号 24
   在 Zephyr.Areas.Sys.Controllers.LogController.Download(String id) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Web\Areas\Sys\Controllers\LogController.cs:行号 35
   在 lambda_method(Closure , ControllerBase , Object[] )
   在 System.Web.Mvc.ActionMethodDispatcher.Execute(ControllerBase controller, Object[] parameters)
   在 System.Web.Mvc.ReflectedActionDescriptor.Execute(ControllerContext controllerContext, IDictionary`2 parameters)
   在 System.Web.Mvc.ControllerActionInvoker.InvokeActionMethod(ControllerContext controllerContext, ActionDescriptor actionDescriptor, IDictionary`2 parameters)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass42.<BeginInvokeSynchronousActionMethod>b__41()
   在 System.Web.Mvc.Async.AsyncResultWrapper.<>c__DisplayClass8`1.<BeginSynchronous>b__7(IAsyncResult _)
   在 System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResult`1.End()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.EndInvokeActionMethod(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass37.<>c__DisplayClass39.<BeginInvokeActionMethodWithFilters>b__33()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass4f.<InvokeActionMethodFilterAsynchronously>b__49()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass4f.<InvokeActionMethodFilterAsynchronously>b__49()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass4f.<InvokeActionMethodFilterAsynchronously>b__49()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass37.<BeginInvokeActionMethodWithFilters>b__36(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResult`1.End()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.EndInvokeActionMethodWithFilters(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass25.<>c__DisplayClass2a.<BeginInvokeAction>b__20()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass25.<BeginInvokeAction>b__22(IAsyncResult asyncResult)
2017-01-07 14:09:02,855 [6844] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/log/Index','/Sys/log')
2017-01-07 14:09:03,259 [8676] DEBUG Servicesys_loginHistory - 获取实体列表
2017-01-07 14:09:03,259 [8676] DEBUG Sys - select top 20 
        A.*
     from 
        sys_loginHistory A
     order by A.ID desc
2017-01-07 14:09:03,264 [8676] DEBUG Sys - select count(*) from ( select 
        A.*
     from 
        sys_loginHistory A
     ) tb_temp
2017-01-07 14:09:03,278 [8244] DEBUG Servicesys_log - 获取实体列表
2017-01-07 14:09:03,279 [8244] DEBUG Sys - select top 20 
        A.*
     from 
        sys_log A
     order by A.ID desc
2017-01-07 14:09:03,279 [8244] DEBUG Sys - select count(*) from ( select 
        A.*
     from 
        sys_log A
     ) tb_temp
2017-01-07 14:09:08,991 [8244] DEBUG Servicesys_loginHistory - 获取实体列表
2017-01-07 14:09:08,991 [8244] DEBUG Sys - with PagedPersons as
								(
									select top 100 percent 
        A.*
    , row_number() over (order by A.ID desc) as FLUENTDATA_ROWNUMBER
									 from 
        sys_loginHistory A
    
								)
								select *
								from PagedPersons
								where fluentdata_RowNumber between 21 and 40
2017-01-07 14:09:09,002 [8244] DEBUG Sys - select count(*) from ( select 
        A.*
     from 
        sys_loginHistory A
     ) tb_temp
2017-01-07 14:10:18,807 [8676] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2017-01-07 14:10:19,068 [3848] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2017-01-07 14:10:33,364 [6100] DEBUG Servicesys_user - 获取实体对象
2017-01-07 14:10:33,365 [6100] DEBUG Sys - select sys_user.* from sys_user where  UserCode =  'super'and Password =  'xxj'and IsEnable =  'True'
2017-01-07 14:10:33,365 [6100] DEBUG Sys - 
update sys_user
set LoginCount = isnull(LoginCount,0) + 1
   ,LastLoginDate = getdate()
where UserCode = 'super' 
2017-01-07 14:10:33,368 [6100] DEBUG Sys - insert into sys_loginHistory([UserCode],[UserName],[HostName],[HostIP],[LoginCity],[LoginDate]) values('super','许薛军','170KOLDN5WNNJFX','localhost','广东省阳江市','2017/1/7 14:10:33')
2017-01-07 14:10:33,369 [6100] DEBUG ServiceProjectInfo - 获取实体对象
2017-01-07 14:10:33,380 [6100] DEBUG Pyn - select ProjectInfo.* from ProjectInfo where  ProjectCode =  'HZ2016353344571'
2017-01-07 14:10:33,410 [3848] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2017-01-07 14:10:33,524 [6100] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2017-01-07 14:10:36,741 [6100] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/menu/Index','/Sys/menu')
2017-01-07 14:10:36,994 [6844] DEBUG Servicesys_menu - 获取动态列表
2017-01-07 14:10:36,994 [6844] DEBUG Sys - select A.*,B.MenuName as ParentName from sys_menu A left join sys_menu B on B.MenuCode = A.ParentCode order by A.MenuSeq,A.MenuCode
2017-01-07 14:10:41,104 [6100] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/organize/Index','/Sys/organize')
2017-01-07 14:10:41,107 [6100] DEBUG Servicesys_organize - 获取实体列表
2017-01-07 14:10:41,107 [6100] DEBUG Sys - select sys_organize.* from sys_organize
2017-01-07 14:10:46,591 [6844] DEBUG Sys - select sys_organize.* from sys_organize where  ParentCode =  '01160201'
2017-01-07 14:10:46,597 [6844] DEBUG Sys - delete from sys_organize where  OrganizeCode =  '01160201'
2017-01-07 14:10:46,597 [6844] DEBUG Servicesys_organize - 获取实体列表
2017-01-07 14:10:46,598 [6844] DEBUG Sys - select sys_organize.* from sys_organize
2017-01-07 14:10:50,434 [3848] DEBUG Sys - select sys_organize.* from sys_organize where  ParentCode =  '011602'
2017-01-07 14:10:50,437 [3848] DEBUG Sys - delete from sys_organize where  OrganizeCode =  '011602'
2017-01-07 14:10:50,457 [3848] ERROR /api/sys/organize/011602 - System.Exception: 数据已经被引用，更新失败，请先删除引用数据并重试！
   在 Zephyr.Core.Db.<Context>b__2(ErrorEventArgs e) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Core\Db.cs:行号 98
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 105
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.Execute() 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Data\Command\PartialClasses\Execute.cs:行号 9
   在 Zephyr.Data.BaseDeleteBuilder.Execute() 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Data\Builders\Delete\BaseDeleteBuilder.cs:行号 18
   在 Zephyr.Models.sys_organizeService.RecursionDelete(String id) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Web\Areas\Sys\Models\sys_organize.cs:行号 19
   在 Zephyr.Areas.Sys.Controllers.OrganizeApiController.Delete(String id) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Web\Areas\Sys\Controllers\OrganizeController.cs:行号 58
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
2017-01-07 14:10:56,801 [8676] DEBUG Sys - select sys_organize.* from sys_organize where  ParentCode =  '011601'
2017-01-07 14:10:56,802 [8676] DEBUG Sys - delete from sys_organize where  OrganizeCode =  '011601'
2017-01-07 14:10:56,804 [8676] DEBUG Servicesys_organize - 获取实体列表
2017-01-07 14:10:56,804 [8676] DEBUG Sys - select sys_organize.* from sys_organize
2017-01-07 14:11:19,980 [6100] DEBUG Servicesys_organize - 编辑记录
2017-01-07 14:11:19,980 [6100] DEBUG Servicesys_organize - 获取动态对象
2017-01-07 14:11:19,981 [6100] DEBUG Sys - select 
        sys_organize
    .* from 
        sys_organize
     where  OrganizeCode =  '011601'
2017-01-07 14:11:19,985 [6100] DEBUG Sys - update 
        sys_organize
     set [ParentCode] = '0116', [OrganizeCode] = '011601', [OrganizeName] = '总设工程师', [UpdatePerson] = '许薛军', [UpdateDate] = '2017/1/7 14:11:19' where  OrganizeCode =  '011601'
2017-01-07 14:11:19,990 [6100] DEBUG Sys - insert into 
        sys_organize
    ([ParentCode],[OrganizeCode],[OrganizeName],[UpdatePerson],[UpdateDate],[CreatePerson],[CreateDate]) values('0116','011601','总设工程师','许薛军','2017/1/7 14:11:19','许薛军','2017/1/7 14:11:19')
2017-01-07 14:11:19,993 [6100] DEBUG Servicesys_organize - 获取实体列表
2017-01-07 14:11:19,993 [6100] DEBUG Sys - select sys_organize.* from sys_organize
2017-01-07 14:11:33,688 [6844] DEBUG Servicesys_organize - 编辑记录
2017-01-07 14:11:33,688 [6844] DEBUG Servicesys_organize - 获取动态对象
2017-01-07 14:11:33,689 [6844] DEBUG Sys - select 
        sys_organize
    .* from 
        sys_organize
     where  OrganizeCode =  '01160201'
2017-01-07 14:11:33,690 [6844] DEBUG Sys - update 
        sys_organize
     set [ParentCode] = '011602', [OrganizeCode] = '01160201', [OrganizeName] = '小组1', [UpdatePerson] = '许薛军', [UpdateDate] = '2017/1/7 14:11:33' where  OrganizeCode =  '01160201'
2017-01-07 14:11:33,700 [6844] DEBUG Sys - insert into 
        sys_organize
    ([ParentCode],[OrganizeCode],[OrganizeName],[UpdatePerson],[UpdateDate],[CreatePerson],[CreateDate]) values('011602','01160201','小组1','许薛军','2017/1/7 14:11:33','许薛军','2017/1/7 14:11:33')
2017-01-07 14:11:33,702 [6844] DEBUG Servicesys_organize - 获取实体列表
2017-01-07 14:11:33,702 [6844] DEBUG Sys - select sys_organize.* from sys_organize
2017-01-07 14:11:40,636 [6844] DEBUG Sys - 
select distinct A.RoleCode,A.RoleName
,(case when B.RoleCode is null then 'false' else 'true' end) as Checked
from sys_role A
left join sys_organizeRoleMap B on B.RoleCode = A.RoleCode and B.OrganizeCode = '011602'
2017-01-07 14:11:45,111 [7016] DEBUG Sys - 
select distinct A.RoleCode,A.RoleName
,(case when B.RoleCode is null then 'false' else 'true' end) as Checked
from sys_role A
left join sys_organizeRoleMap B on B.RoleCode = A.RoleCode and B.OrganizeCode = '0116'
2017-01-07 14:11:46,273 [8676] DEBUG Servicesys_organize - 设置机构角色
2017-01-07 14:11:46,276 [8676] DEBUG Sys - delete from sys_organizeRoleMap where [OrganizeCode] = '0116'
2017-01-07 14:11:46,280 [8676] DEBUG Sys - insert into sys_organizeRoleMap([OrganizeCode],[RoleCode]) values('0116','super')
2017-01-07 14:11:50,736 [6844] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/role/Index','/Sys/role')
2017-01-07 14:11:50,742 [6844] DEBUG Servicesys_user - 获取动态列表
2017-01-07 14:11:50,742 [6844] DEBUG Sys - select UserCode,UserName from sys_user
2017-01-07 14:11:50,748 [6844] DEBUG Servicesys_organize - 获取动态列表
2017-01-07 14:11:50,748 [6844] DEBUG Sys - select OrganizeCode,OrganizeName from sys_organize
2017-01-07 14:11:51,036 [6100] DEBUG Servicesys_role - 获取实体列表
2017-01-07 14:11:51,036 [6100] DEBUG Sys - select sys_role.* from sys_role order by RoleSeq
2017-01-07 14:11:52,773 [3848] DEBUG Sys - select * from sys_button order by ButtonSeq
2017-01-07 14:11:52,774 [3848] DEBUG Sys - select A.MenuName,A.MenuCode,A.ParentCode,A.IconClass as iconCls,B.MenuName as ParentName,(select 1 from sys_roleMenuMap tb_role where tb_role.RoleCode='super' and tb_role.MenuCode=A.MenuCode) as checked,(
select case when max(tb1_accredit.ID) is null then -1 
            when max(tb2_accredit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_accredit
left join sys_roleMenuButtonMap AS tb2_accredit ON tb2_accredit.MenuCode=tb1_accredit.MenuCode AND tb2_accredit.ButtonCode=tb1_accredit.ButtonCode AND tb2_accredit.RoleCode='super'
where tb1_accredit.MenuCode = A.MenuCode and  tb1_accredit.ButtonCode = 'accredit'  
)as 'btn_accredit' ,(
select case when max(tb1_add.ID) is null then -1 
            when max(tb2_add.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_add
left join sys_roleMenuButtonMap AS tb2_add ON tb2_add.MenuCode=tb1_add.MenuCode AND tb2_add.ButtonCode=tb1_add.ButtonCode AND tb2_add.RoleCode='super'
where tb1_add.MenuCode = A.MenuCode and  tb1_add.ButtonCode = 'add'  
)as 'btn_add' ,(
select case when max(tb1_audit.ID) is null then -1 
            when max(tb2_audit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_audit
left join sys_roleMenuButtonMap AS tb2_audit ON tb2_audit.MenuCode=tb1_audit.MenuCode AND tb2_audit.ButtonCode=tb1_audit.ButtonCode AND tb2_audit.RoleCode='super'
where tb1_audit.MenuCode = A.MenuCode and  tb1_audit.ButtonCode = 'audit'  
)as 'btn_audit' ,(
select case when max(tb1_browse.ID) is null then -1 
            when max(tb2_browse.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_browse
left join sys_roleMenuButtonMap AS tb2_browse ON tb2_browse.MenuCode=tb1_browse.MenuCode AND tb2_browse.ButtonCode=tb1_browse.ButtonCode AND tb2_browse.RoleCode='super'
where tb1_browse.MenuCode = A.MenuCode and  tb1_browse.ButtonCode = 'browse'  
)as 'btn_browse' ,(
select case when max(tb1_copy.ID) is null then -1 
            when max(tb2_copy.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_copy
left join sys_roleMenuButtonMap AS tb2_copy ON tb2_copy.MenuCode=tb1_copy.MenuCode AND tb2_copy.ButtonCode=tb1_copy.ButtonCode AND tb2_copy.RoleCode='super'
where tb1_copy.MenuCode = A.MenuCode and  tb1_copy.ButtonCode = 'copy'  
)as 'btn_copy' ,(
select case when max(tb1_delete.ID) is null then -1 
            when max(tb2_delete.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_delete
left join sys_roleMenuButtonMap AS tb2_delete ON tb2_delete.MenuCode=tb1_delete.MenuCode AND tb2_delete.ButtonCode=tb1_delete.ButtonCode AND tb2_delete.RoleCode='super'
where tb1_delete.MenuCode = A.MenuCode and  tb1_delete.ButtonCode = 'delete'  
)as 'btn_delete' ,(
select case when max(tb1_download.ID) is null then -1 
            when max(tb2_download.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_download
left join sys_roleMenuButtonMap AS tb2_download ON tb2_download.MenuCode=tb1_download.MenuCode AND tb2_download.ButtonCode=tb1_download.ButtonCode AND tb2_download.RoleCode='super'
where tb1_download.MenuCode = A.MenuCode and  tb1_download.ButtonCode = 'download'  
)as 'btn_download' ,(
select case when max(tb1_edit.ID) is null then -1 
            when max(tb2_edit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_edit
left join sys_roleMenuButtonMap AS tb2_edit ON tb2_edit.MenuCode=tb1_edit.MenuCode AND tb2_edit.ButtonCode=tb1_edit.ButtonCode AND tb2_edit.RoleCode='super'
where tb1_edit.MenuCode = A.MenuCode and  tb1_edit.ButtonCode = 'edit'  
)as 'btn_edit' ,(
select case when max(tb1_export.ID) is null then -1 
            when max(tb2_export.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_export
left join sys_roleMenuButtonMap AS tb2_export ON tb2_export.MenuCode=tb1_export.MenuCode AND tb2_export.ButtonCode=tb1_export.ButtonCode AND tb2_export.RoleCode='super'
where tb1_export.MenuCode = A.MenuCode and  tb1_export.ButtonCode = 'export'  
)as 'btn_export' ,(
select case when max(tb1_import.ID) is null then -1 
            when max(tb2_import.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_import
left join sys_roleMenuButtonMap AS tb2_import ON tb2_import.MenuCode=tb1_import.MenuCode AND tb2_import.ButtonCode=tb1_import.ButtonCode AND tb2_import.RoleCode='super'
where tb1_import.MenuCode = A.MenuCode and  tb1_import.ButtonCode = 'import'  
)as 'btn_import' ,(
select case when max(tb1_print.ID) is null then -1 
            when max(tb2_print.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_print
left join sys_roleMenuButtonMap AS tb2_print ON tb2_print.MenuCode=tb1_print.MenuCode AND tb2_print.ButtonCode=tb1_print.ButtonCode AND tb2_print.RoleCode='super'
where tb1_print.MenuCode = A.MenuCode and  tb1_print.ButtonCode = 'print'  
)as 'btn_print' ,(
select case when max(tb1_refresh.ID) is null then -1 
            when max(tb2_refresh.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_refresh
left join sys_roleMenuButtonMap AS tb2_refresh ON tb2_refresh.MenuCode=tb1_refresh.MenuCode AND tb2_refresh.ButtonCode=tb1_refresh.ButtonCode AND tb2_refresh.RoleCode='super'
where tb1_refresh.MenuCode = A.MenuCode and  tb1_refresh.ButtonCode = 'refresh'  
)as 'btn_refresh' ,(
select case when max(tb1_save.ID) is null then -1 
            when max(tb2_save.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_save
left join sys_roleMenuButtonMap AS tb2_save ON tb2_save.MenuCode=tb1_save.MenuCode AND tb2_save.ButtonCode=tb1_save.ButtonCode AND tb2_save.RoleCode='super'
where tb1_save.MenuCode = A.MenuCode and  tb1_save.ButtonCode = 'save'  
)as 'btn_save' ,(
select case when max(tb1_search.ID) is null then -1 
            when max(tb2_search.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_search
left join sys_roleMenuButtonMap AS tb2_search ON tb2_search.MenuCode=tb1_search.MenuCode AND tb2_search.ButtonCode=tb1_search.ButtonCode AND tb2_search.RoleCode='super'
where tb1_search.MenuCode = A.MenuCode and  tb1_search.ButtonCode = 'search'  
)as 'btn_search' 
from sys_menu as A
left join sys_menu B on B.MenuCode = A.ParentCode
where A.IsEnable = 1
order by A.MenuSeq,A.MenuCode
2017-01-07 14:11:52,820 [3848] DEBUG Sys - select * from sys_roleMenuColumnMap where RoleCode = 'super'
2017-01-07 14:11:52,836 [6844] DEBUG Servicesys_permission - 获取动态列表
2017-01-07 14:11:52,836 [6844] DEBUG Sys - select A.*
,case when B.PermissionCode is null then 0 else 1           end as checked
,case when B.PermissionCode is null then 0 else B.IsDefault end as IsDefault from sys_permission A
left join sys_rolePermissionMap B on B.RoleCode='super' and B.PermissionCode = A.PermissionCode 
2017-01-07 14:11:58,680 [3848] DEBUG Servicesys_role - 修改角色菜单权限
2017-01-07 14:11:58,683 [3848] DEBUG Sys - delete from sys_roleMenuMap where [RoleCode] = 'super'
2017-01-07 14:11:58,684 [3848] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','13')
2017-01-07 14:11:58,686 [3848] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1301')
2017-01-07 14:11:58,688 [3848] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','14')
2017-01-07 14:11:58,688 [3848] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1402')
2017-01-07 14:11:58,688 [3848] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','140201')
2017-01-07 14:11:58,690 [3848] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','98')
2017-01-07 14:11:58,690 [3848] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9810')
2017-01-07 14:11:58,690 [3848] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','99')
2017-01-07 14:11:58,690 [3848] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9902')
2017-01-07 14:11:58,690 [3848] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9903')
2017-01-07 14:11:58,690 [3848] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9904')
2017-01-07 14:11:58,691 [3848] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9905')
2017-01-07 14:11:58,691 [3848] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9906')
2017-01-07 14:11:58,691 [3848] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9907')
2017-01-07 14:11:58,691 [3848] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9908')
2017-01-07 14:11:58,691 [3848] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9909')
2017-01-07 14:11:58,692 [3848] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9910')
2017-01-07 14:11:58,692 [3848] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9911')
2017-01-07 14:11:58,723 [3848] DEBUG Servicesys_role - 修改角色菜单按钮权限
2017-01-07 14:11:58,724 [3848] DEBUG Sys - delete from sys_roleMenuButtonMap where [RoleCode] = 'super'
2017-01-07 14:11:58,725 [3848] DEBUG Sys - insert into sys_roleMenuButtonMap([RoleCode],[MenuCode],[ButtonCode]) values('super','9911','refresh')
2017-01-07 14:11:58,727 [3848] DEBUG Servicesys_role - 修改角色数据权限
2017-01-07 14:11:58,727 [3848] DEBUG Sys - delete from sys_rolePermissionMap where [RoleCode] = 'super'
2017-01-07 14:11:58,728 [3848] DEBUG Servicesys_role - 修改角色数据列权限
2017-01-07 14:11:58,729 [3848] DEBUG Sys - delete from sys_roleMenuColumnMap where [RoleCode] = 'super'
2017-01-07 14:12:10,590 [6844] DEBUG Sys - select * from sys_button order by ButtonSeq
2017-01-07 14:12:10,591 [6844] DEBUG Sys - select A.MenuName,A.MenuCode,A.ParentCode,A.IconClass as iconCls,B.MenuName as ParentName,(select 1 from sys_roleMenuMap tb_role where tb_role.RoleCode='super' and tb_role.MenuCode=A.MenuCode) as checked,(
select case when max(tb1_accredit.ID) is null then -1 
            when max(tb2_accredit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_accredit
left join sys_roleMenuButtonMap AS tb2_accredit ON tb2_accredit.MenuCode=tb1_accredit.MenuCode AND tb2_accredit.ButtonCode=tb1_accredit.ButtonCode AND tb2_accredit.RoleCode='super'
where tb1_accredit.MenuCode = A.MenuCode and  tb1_accredit.ButtonCode = 'accredit'  
)as 'btn_accredit' ,(
select case when max(tb1_add.ID) is null then -1 
            when max(tb2_add.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_add
left join sys_roleMenuButtonMap AS tb2_add ON tb2_add.MenuCode=tb1_add.MenuCode AND tb2_add.ButtonCode=tb1_add.ButtonCode AND tb2_add.RoleCode='super'
where tb1_add.MenuCode = A.MenuCode and  tb1_add.ButtonCode = 'add'  
)as 'btn_add' ,(
select case when max(tb1_audit.ID) is null then -1 
            when max(tb2_audit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_audit
left join sys_roleMenuButtonMap AS tb2_audit ON tb2_audit.MenuCode=tb1_audit.MenuCode AND tb2_audit.ButtonCode=tb1_audit.ButtonCode AND tb2_audit.RoleCode='super'
where tb1_audit.MenuCode = A.MenuCode and  tb1_audit.ButtonCode = 'audit'  
)as 'btn_audit' ,(
select case when max(tb1_browse.ID) is null then -1 
            when max(tb2_browse.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_browse
left join sys_roleMenuButtonMap AS tb2_browse ON tb2_browse.MenuCode=tb1_browse.MenuCode AND tb2_browse.ButtonCode=tb1_browse.ButtonCode AND tb2_browse.RoleCode='super'
where tb1_browse.MenuCode = A.MenuCode and  tb1_browse.ButtonCode = 'browse'  
)as 'btn_browse' ,(
select case when max(tb1_copy.ID) is null then -1 
            when max(tb2_copy.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_copy
left join sys_roleMenuButtonMap AS tb2_copy ON tb2_copy.MenuCode=tb1_copy.MenuCode AND tb2_copy.ButtonCode=tb1_copy.ButtonCode AND tb2_copy.RoleCode='super'
where tb1_copy.MenuCode = A.MenuCode and  tb1_copy.ButtonCode = 'copy'  
)as 'btn_copy' ,(
select case when max(tb1_delete.ID) is null then -1 
            when max(tb2_delete.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_delete
left join sys_roleMenuButtonMap AS tb2_delete ON tb2_delete.MenuCode=tb1_delete.MenuCode AND tb2_delete.ButtonCode=tb1_delete.ButtonCode AND tb2_delete.RoleCode='super'
where tb1_delete.MenuCode = A.MenuCode and  tb1_delete.ButtonCode = 'delete'  
)as 'btn_delete' ,(
select case when max(tb1_download.ID) is null then -1 
            when max(tb2_download.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_download
left join sys_roleMenuButtonMap AS tb2_download ON tb2_download.MenuCode=tb1_download.MenuCode AND tb2_download.ButtonCode=tb1_download.ButtonCode AND tb2_download.RoleCode='super'
where tb1_download.MenuCode = A.MenuCode and  tb1_download.ButtonCode = 'download'  
)as 'btn_download' ,(
select case when max(tb1_edit.ID) is null then -1 
            when max(tb2_edit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_edit
left join sys_roleMenuButtonMap AS tb2_edit ON tb2_edit.MenuCode=tb1_edit.MenuCode AND tb2_edit.ButtonCode=tb1_edit.ButtonCode AND tb2_edit.RoleCode='super'
where tb1_edit.MenuCode = A.MenuCode and  tb1_edit.ButtonCode = 'edit'  
)as 'btn_edit' ,(
select case when max(tb1_export.ID) is null then -1 
            when max(tb2_export.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_export
left join sys_roleMenuButtonMap AS tb2_export ON tb2_export.MenuCode=tb1_export.MenuCode AND tb2_export.ButtonCode=tb1_export.ButtonCode AND tb2_export.RoleCode='super'
where tb1_export.MenuCode = A.MenuCode and  tb1_export.ButtonCode = 'export'  
)as 'btn_export' ,(
select case when max(tb1_import.ID) is null then -1 
            when max(tb2_import.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_import
left join sys_roleMenuButtonMap AS tb2_import ON tb2_import.MenuCode=tb1_import.MenuCode AND tb2_import.ButtonCode=tb1_import.ButtonCode AND tb2_import.RoleCode='super'
where tb1_import.MenuCode = A.MenuCode and  tb1_import.ButtonCode = 'import'  
)as 'btn_import' ,(
select case when max(tb1_print.ID) is null then -1 
            when max(tb2_print.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_print
left join sys_roleMenuButtonMap AS tb2_print ON tb2_print.MenuCode=tb1_print.MenuCode AND tb2_print.ButtonCode=tb1_print.ButtonCode AND tb2_print.RoleCode='super'
where tb1_print.MenuCode = A.MenuCode and  tb1_print.ButtonCode = 'print'  
)as 'btn_print' ,(
select case when max(tb1_refresh.ID) is null then -1 
            when max(tb2_refresh.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_refresh
left join sys_roleMenuButtonMap AS tb2_refresh ON tb2_refresh.MenuCode=tb1_refresh.MenuCode AND tb2_refresh.ButtonCode=tb1_refresh.ButtonCode AND tb2_refresh.RoleCode='super'
where tb1_refresh.MenuCode = A.MenuCode and  tb1_refresh.ButtonCode = 'refresh'  
)as 'btn_refresh' ,(
select case when max(tb1_save.ID) is null then -1 
            when max(tb2_save.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_save
left join sys_roleMenuButtonMap AS tb2_save ON tb2_save.MenuCode=tb1_save.MenuCode AND tb2_save.ButtonCode=tb1_save.ButtonCode AND tb2_save.RoleCode='super'
where tb1_save.MenuCode = A.MenuCode and  tb1_save.ButtonCode = 'save'  
)as 'btn_save' ,(
select case when max(tb1_search.ID) is null then -1 
            when max(tb2_search.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_search
left join sys_roleMenuButtonMap AS tb2_search ON tb2_search.MenuCode=tb1_search.MenuCode AND tb2_search.ButtonCode=tb1_search.ButtonCode AND tb2_search.RoleCode='super'
where tb1_search.MenuCode = A.MenuCode and  tb1_search.ButtonCode = 'search'  
)as 'btn_search' 
from sys_menu as A
left join sys_menu B on B.MenuCode = A.ParentCode
where A.IsEnable = 1
order by A.MenuSeq,A.MenuCode
2017-01-07 14:12:10,593 [6844] DEBUG Sys - select * from sys_roleMenuColumnMap where RoleCode = 'super'
2017-01-07 14:12:10,625 [6100] DEBUG Servicesys_permission - 获取动态列表
2017-01-07 14:12:10,626 [6100] DEBUG Sys - select A.*
,case when B.PermissionCode is null then 0 else 1           end as checked
,case when B.PermissionCode is null then 0 else B.IsDefault end as IsDefault from sys_permission A
left join sys_rolePermissionMap B on B.RoleCode='super' and B.PermissionCode = A.PermissionCode 
2017-01-07 14:12:13,403 [6844] DEBUG Servicesys_role - 修改角色菜单权限
2017-01-07 14:12:13,406 [6844] DEBUG Sys - delete from sys_roleMenuMap where [RoleCode] = 'super'
2017-01-07 14:12:13,407 [6844] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','13')
2017-01-07 14:12:13,407 [6844] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1301')
2017-01-07 14:12:13,408 [6844] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','14')
2017-01-07 14:12:13,422 [6844] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1401')
2017-01-07 14:12:13,424 [6844] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1402')
2017-01-07 14:12:13,428 [6844] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','140201')
2017-01-07 14:12:13,428 [6844] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','98')
2017-01-07 14:12:13,430 [6844] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9810')
2017-01-07 14:12:13,431 [6844] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','99')
2017-01-07 14:12:13,431 [6844] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9902')
2017-01-07 14:12:13,431 [6844] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9903')
2017-01-07 14:12:13,431 [6844] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9904')
2017-01-07 14:12:13,432 [6844] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9905')
2017-01-07 14:12:13,432 [6844] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9906')
2017-01-07 14:12:13,432 [6844] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9907')
2017-01-07 14:12:13,432 [6844] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9908')
2017-01-07 14:12:13,432 [6844] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9909')
2017-01-07 14:12:13,432 [6844] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9910')
2017-01-07 14:12:13,433 [6844] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9911')
2017-01-07 14:12:13,434 [6844] DEBUG Servicesys_role - 修改角色菜单按钮权限
2017-01-07 14:12:13,435 [6844] DEBUG Sys - delete from sys_roleMenuButtonMap where [RoleCode] = 'super'
2017-01-07 14:12:13,435 [6844] DEBUG Sys - insert into sys_roleMenuButtonMap([RoleCode],[MenuCode],[ButtonCode]) values('super','9911','refresh')
2017-01-07 14:12:13,436 [6844] DEBUG Servicesys_role - 修改角色数据权限
2017-01-07 14:12:13,436 [6844] DEBUG Sys - delete from sys_rolePermissionMap where [RoleCode] = 'super'
2017-01-07 14:12:13,436 [6844] DEBUG Servicesys_role - 修改角色数据列权限
2017-01-07 14:12:13,436 [6844] DEBUG Sys - delete from sys_roleMenuColumnMap where [RoleCode] = 'super'
2017-01-07 14:12:16,250 [6844] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/ImageUpload/Index','/Pyn/ImageUpload')
2017-01-07 14:12:51,360 [4688] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 14:12:51,373 [4688] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 14:12:51,519 [4688] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 14:12:51,571 [4688] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 14:12:51,574 [4688] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 14:12:51,579 [4688] DEBUG Pyn - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2017-01-07 14:12:52,998 [6844] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2017-01-07 14:12:53,297 [9160] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2017-01-07 14:12:54,138 [6100] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2017-01-07 14:13:24,104 [3848] DEBUG Servicesys_user - 获取实体对象
2017-01-07 14:13:24,109 [3848] DEBUG Sys - select sys_user.* from sys_user where  UserCode =  'super'and Password =  'xxj'and IsEnable =  'True'
2017-01-07 14:13:24,119 [3848] DEBUG Sys - 
update sys_user
set LoginCount = isnull(LoginCount,0) + 1
   ,LastLoginDate = getdate()
where UserCode = 'super' 
2017-01-07 14:13:24,131 [3848] DEBUG Sys - insert into sys_loginHistory([UserCode],[UserName],[HostName],[HostIP],[LoginCity],[LoginDate]) values('super','许薛军','170KOLDN5WNNJFX','localhost','广东省阳江市','2017/1/7 14:13:24')
2017-01-07 14:13:24,132 [3848] DEBUG ServiceProjectInfo - 获取实体对象
2017-01-07 14:13:24,133 [3848] DEBUG Pyn - select ProjectInfo.* from ProjectInfo where  ProjectCode =  'HZ2016353344571'
2017-01-07 14:13:24,151 [7016] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2017-01-07 14:13:24,283 [3848] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2017-01-07 14:13:30,449 [6844] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/menu/Index','/Sys/menu')
2017-01-07 14:13:30,982 [9160] DEBUG Servicesys_menu - 获取动态列表
2017-01-07 14:13:30,983 [9160] DEBUG Sys - select A.*,B.MenuName as ParentName from sys_menu A left join sys_menu B on B.MenuCode = A.ParentCode order by A.MenuSeq,A.MenuCode
2017-01-07 14:13:33,540 [6844] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/organize/Index','/Sys/organize')
2017-01-07 14:13:33,546 [6844] DEBUG Servicesys_organize - 获取实体列表
2017-01-07 14:13:33,547 [6844] DEBUG Sys - select sys_organize.* from sys_organize
2017-01-07 14:13:38,410 [7016] DEBUG Sys - select sys_organize.* from sys_organize where  ParentCode =  '01160201'
2017-01-07 14:13:38,412 [7016] DEBUG Sys - delete from sys_organize where  OrganizeCode =  '01160201'
2017-01-07 14:13:38,413 [7016] DEBUG Servicesys_organize - 获取实体列表
2017-01-07 14:13:38,413 [7016] DEBUG Sys - select sys_organize.* from sys_organize
2017-01-07 14:13:48,177 [3848] DEBUG Servicesys_organize - 编辑记录
2017-01-07 14:13:48,191 [3848] DEBUG Servicesys_organize - 获取动态对象
2017-01-07 14:13:48,193 [3848] DEBUG Sys - select 
        sys_organize
    .* from 
        sys_organize
     where  OrganizeCode =  '01160101'
2017-01-07 14:13:48,204 [3848] DEBUG Sys - update 
        sys_organize
     set [ParentCode] = '011601', [OrganizeCode] = '01160101', [OrganizeName] = '小组2', [UpdatePerson] = '许薛军', [UpdateDate] = '2017/1/7 14:13:48' where  OrganizeCode =  '01160101'
2017-01-07 14:13:48,210 [3848] DEBUG Sys - insert into 
        sys_organize
    ([ParentCode],[OrganizeCode],[OrganizeName],[UpdatePerson],[UpdateDate],[CreatePerson],[CreateDate]) values('011601','01160101','小组2','许薛军','2017/1/7 14:13:48','许薛军','2017/1/7 14:13:48')
2017-01-07 14:13:48,221 [3848] DEBUG Servicesys_organize - 获取实体列表
2017-01-07 14:13:48,221 [3848] DEBUG Sys - select sys_organize.* from sys_organize
2017-01-07 14:13:52,561 [6844] DEBUG Sys - 
select distinct A.RoleCode,A.RoleName
,(case when B.RoleCode is null then 'false' else 'true' end) as Checked
from sys_role A
left join sys_organizeRoleMap B on B.RoleCode = A.RoleCode and B.OrganizeCode = '0116'
2017-01-07 14:13:54,025 [3848] DEBUG Servicesys_organize - 设置机构角色
2017-01-07 14:13:54,026 [3848] DEBUG Sys - delete from sys_organizeRoleMap where [OrganizeCode] = '0116'
2017-01-07 14:13:54,027 [3848] DEBUG Sys - insert into sys_organizeRoleMap([OrganizeCode],[RoleCode]) values('0116','super')
2017-01-07 14:13:55,921 [6844] DEBUG Sys - 
select distinct A.RoleCode,A.RoleName
,(case when B.RoleCode is null then 'false' else 'true' end) as Checked
from sys_role A
left join sys_organizeRoleMap B on B.RoleCode = A.RoleCode and B.OrganizeCode = '0114'
2017-01-07 14:13:57,491 [3848] DEBUG Servicesys_organize - 设置机构角色
2017-01-07 14:13:57,492 [3848] DEBUG Sys - delete from sys_organizeRoleMap where [OrganizeCode] = '0114'
2017-01-07 14:13:57,492 [3848] DEBUG Sys - insert into sys_organizeRoleMap([OrganizeCode],[RoleCode]) values('0114','super')
2017-01-07 14:14:00,009 [3848] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/role/Index','/Sys/role')
2017-01-07 14:14:00,010 [3848] DEBUG Servicesys_user - 获取动态列表
2017-01-07 14:14:00,010 [3848] DEBUG Sys - select UserCode,UserName from sys_user
2017-01-07 14:14:00,010 [3848] DEBUG Servicesys_organize - 获取动态列表
2017-01-07 14:14:00,010 [3848] DEBUG Sys - select OrganizeCode,OrganizeName from sys_organize
2017-01-07 14:14:00,494 [6844] DEBUG Servicesys_role - 获取实体列表
2017-01-07 14:14:00,495 [6844] DEBUG Sys - select sys_role.* from sys_role order by RoleSeq
2017-01-07 14:14:02,213 [7016] DEBUG Sys - select * from sys_button order by ButtonSeq
2017-01-07 14:14:02,215 [7016] DEBUG Sys - select A.MenuName,A.MenuCode,A.ParentCode,A.IconClass as iconCls,B.MenuName as ParentName,(select 1 from sys_roleMenuMap tb_role where tb_role.RoleCode='super' and tb_role.MenuCode=A.MenuCode) as checked,(
select case when max(tb1_accredit.ID) is null then -1 
            when max(tb2_accredit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_accredit
left join sys_roleMenuButtonMap AS tb2_accredit ON tb2_accredit.MenuCode=tb1_accredit.MenuCode AND tb2_accredit.ButtonCode=tb1_accredit.ButtonCode AND tb2_accredit.RoleCode='super'
where tb1_accredit.MenuCode = A.MenuCode and  tb1_accredit.ButtonCode = 'accredit'  
)as 'btn_accredit' ,(
select case when max(tb1_add.ID) is null then -1 
            when max(tb2_add.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_add
left join sys_roleMenuButtonMap AS tb2_add ON tb2_add.MenuCode=tb1_add.MenuCode AND tb2_add.ButtonCode=tb1_add.ButtonCode AND tb2_add.RoleCode='super'
where tb1_add.MenuCode = A.MenuCode and  tb1_add.ButtonCode = 'add'  
)as 'btn_add' ,(
select case when max(tb1_audit.ID) is null then -1 
            when max(tb2_audit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_audit
left join sys_roleMenuButtonMap AS tb2_audit ON tb2_audit.MenuCode=tb1_audit.MenuCode AND tb2_audit.ButtonCode=tb1_audit.ButtonCode AND tb2_audit.RoleCode='super'
where tb1_audit.MenuCode = A.MenuCode and  tb1_audit.ButtonCode = 'audit'  
)as 'btn_audit' ,(
select case when max(tb1_browse.ID) is null then -1 
            when max(tb2_browse.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_browse
left join sys_roleMenuButtonMap AS tb2_browse ON tb2_browse.MenuCode=tb1_browse.MenuCode AND tb2_browse.ButtonCode=tb1_browse.ButtonCode AND tb2_browse.RoleCode='super'
where tb1_browse.MenuCode = A.MenuCode and  tb1_browse.ButtonCode = 'browse'  
)as 'btn_browse' ,(
select case when max(tb1_copy.ID) is null then -1 
            when max(tb2_copy.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_copy
left join sys_roleMenuButtonMap AS tb2_copy ON tb2_copy.MenuCode=tb1_copy.MenuCode AND tb2_copy.ButtonCode=tb1_copy.ButtonCode AND tb2_copy.RoleCode='super'
where tb1_copy.MenuCode = A.MenuCode and  tb1_copy.ButtonCode = 'copy'  
)as 'btn_copy' ,(
select case when max(tb1_delete.ID) is null then -1 
            when max(tb2_delete.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_delete
left join sys_roleMenuButtonMap AS tb2_delete ON tb2_delete.MenuCode=tb1_delete.MenuCode AND tb2_delete.ButtonCode=tb1_delete.ButtonCode AND tb2_delete.RoleCode='super'
where tb1_delete.MenuCode = A.MenuCode and  tb1_delete.ButtonCode = 'delete'  
)as 'btn_delete' ,(
select case when max(tb1_download.ID) is null then -1 
            when max(tb2_download.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_download
left join sys_roleMenuButtonMap AS tb2_download ON tb2_download.MenuCode=tb1_download.MenuCode AND tb2_download.ButtonCode=tb1_download.ButtonCode AND tb2_download.RoleCode='super'
where tb1_download.MenuCode = A.MenuCode and  tb1_download.ButtonCode = 'download'  
)as 'btn_download' ,(
select case when max(tb1_edit.ID) is null then -1 
            when max(tb2_edit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_edit
left join sys_roleMenuButtonMap AS tb2_edit ON tb2_edit.MenuCode=tb1_edit.MenuCode AND tb2_edit.ButtonCode=tb1_edit.ButtonCode AND tb2_edit.RoleCode='super'
where tb1_edit.MenuCode = A.MenuCode and  tb1_edit.ButtonCode = 'edit'  
)as 'btn_edit' ,(
select case when max(tb1_export.ID) is null then -1 
            when max(tb2_export.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_export
left join sys_roleMenuButtonMap AS tb2_export ON tb2_export.MenuCode=tb1_export.MenuCode AND tb2_export.ButtonCode=tb1_export.ButtonCode AND tb2_export.RoleCode='super'
where tb1_export.MenuCode = A.MenuCode and  tb1_export.ButtonCode = 'export'  
)as 'btn_export' ,(
select case when max(tb1_import.ID) is null then -1 
            when max(tb2_import.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_import
left join sys_roleMenuButtonMap AS tb2_import ON tb2_import.MenuCode=tb1_import.MenuCode AND tb2_import.ButtonCode=tb1_import.ButtonCode AND tb2_import.RoleCode='super'
where tb1_import.MenuCode = A.MenuCode and  tb1_import.ButtonCode = 'import'  
)as 'btn_import' ,(
select case when max(tb1_print.ID) is null then -1 
            when max(tb2_print.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_print
left join sys_roleMenuButtonMap AS tb2_print ON tb2_print.MenuCode=tb1_print.MenuCode AND tb2_print.ButtonCode=tb1_print.ButtonCode AND tb2_print.RoleCode='super'
where tb1_print.MenuCode = A.MenuCode and  tb1_print.ButtonCode = 'print'  
)as 'btn_print' ,(
select case when max(tb1_refresh.ID) is null then -1 
            when max(tb2_refresh.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_refresh
left join sys_roleMenuButtonMap AS tb2_refresh ON tb2_refresh.MenuCode=tb1_refresh.MenuCode AND tb2_refresh.ButtonCode=tb1_refresh.ButtonCode AND tb2_refresh.RoleCode='super'
where tb1_refresh.MenuCode = A.MenuCode and  tb1_refresh.ButtonCode = 'refresh'  
)as 'btn_refresh' ,(
select case when max(tb1_save.ID) is null then -1 
            when max(tb2_save.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_save
left join sys_roleMenuButtonMap AS tb2_save ON tb2_save.MenuCode=tb1_save.MenuCode AND tb2_save.ButtonCode=tb1_save.ButtonCode AND tb2_save.RoleCode='super'
where tb1_save.MenuCode = A.MenuCode and  tb1_save.ButtonCode = 'save'  
)as 'btn_save' ,(
select case when max(tb1_search.ID) is null then -1 
            when max(tb2_search.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_search
left join sys_roleMenuButtonMap AS tb2_search ON tb2_search.MenuCode=tb1_search.MenuCode AND tb2_search.ButtonCode=tb1_search.ButtonCode AND tb2_search.RoleCode='super'
where tb1_search.MenuCode = A.MenuCode and  tb1_search.ButtonCode = 'search'  
)as 'btn_search' 
from sys_menu as A
left join sys_menu B on B.MenuCode = A.ParentCode
where A.IsEnable = 1
order by A.MenuSeq,A.MenuCode
2017-01-07 14:14:02,217 [7016] DEBUG Sys - select * from sys_roleMenuColumnMap where RoleCode = 'super'
2017-01-07 14:14:02,258 [9892] DEBUG Servicesys_permission - 获取动态列表
2017-01-07 14:14:02,258 [9892] DEBUG Sys - select A.*
,case when B.PermissionCode is null then 0 else 1           end as checked
,case when B.PermissionCode is null then 0 else B.IsDefault end as IsDefault from sys_permission A
left join sys_rolePermissionMap B on B.RoleCode='super' and B.PermissionCode = A.PermissionCode 
2017-01-07 14:14:12,839 [9892] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/ImageGrabbing/Index','/Pyn/ImageGrabbing')
2017-01-07 14:14:12,860 [9892] DEBUG Servicesys_code - 获取动态列表
2017-01-07 14:14:12,860 [9892] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'CamaraSerie'
2017-01-07 14:14:12,861 [9892] DEBUG Servicesys_code - 获取动态列表
2017-01-07 14:14:12,861 [9892] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'ImageGrabbing'
2017-01-07 14:14:16,982 [7016] DEBUG Sys - select * from sys_button order by ButtonSeq
2017-01-07 14:14:16,983 [7016] DEBUG Sys - select A.MenuName,A.MenuCode,A.ParentCode,A.IconClass as iconCls,B.MenuName as ParentName,(select 1 from sys_roleMenuMap tb_role where tb_role.RoleCode='super' and tb_role.MenuCode=A.MenuCode) as checked,(
select case when max(tb1_accredit.ID) is null then -1 
            when max(tb2_accredit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_accredit
left join sys_roleMenuButtonMap AS tb2_accredit ON tb2_accredit.MenuCode=tb1_accredit.MenuCode AND tb2_accredit.ButtonCode=tb1_accredit.ButtonCode AND tb2_accredit.RoleCode='super'
where tb1_accredit.MenuCode = A.MenuCode and  tb1_accredit.ButtonCode = 'accredit'  
)as 'btn_accredit' ,(
select case when max(tb1_add.ID) is null then -1 
            when max(tb2_add.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_add
left join sys_roleMenuButtonMap AS tb2_add ON tb2_add.MenuCode=tb1_add.MenuCode AND tb2_add.ButtonCode=tb1_add.ButtonCode AND tb2_add.RoleCode='super'
where tb1_add.MenuCode = A.MenuCode and  tb1_add.ButtonCode = 'add'  
)as 'btn_add' ,(
select case when max(tb1_audit.ID) is null then -1 
            when max(tb2_audit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_audit
left join sys_roleMenuButtonMap AS tb2_audit ON tb2_audit.MenuCode=tb1_audit.MenuCode AND tb2_audit.ButtonCode=tb1_audit.ButtonCode AND tb2_audit.RoleCode='super'
where tb1_audit.MenuCode = A.MenuCode and  tb1_audit.ButtonCode = 'audit'  
)as 'btn_audit' ,(
select case when max(tb1_browse.ID) is null then -1 
            when max(tb2_browse.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_browse
left join sys_roleMenuButtonMap AS tb2_browse ON tb2_browse.MenuCode=tb1_browse.MenuCode AND tb2_browse.ButtonCode=tb1_browse.ButtonCode AND tb2_browse.RoleCode='super'
where tb1_browse.MenuCode = A.MenuCode and  tb1_browse.ButtonCode = 'browse'  
)as 'btn_browse' ,(
select case when max(tb1_copy.ID) is null then -1 
            when max(tb2_copy.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_copy
left join sys_roleMenuButtonMap AS tb2_copy ON tb2_copy.MenuCode=tb1_copy.MenuCode AND tb2_copy.ButtonCode=tb1_copy.ButtonCode AND tb2_copy.RoleCode='super'
where tb1_copy.MenuCode = A.MenuCode and  tb1_copy.ButtonCode = 'copy'  
)as 'btn_copy' ,(
select case when max(tb1_delete.ID) is null then -1 
            when max(tb2_delete.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_delete
left join sys_roleMenuButtonMap AS tb2_delete ON tb2_delete.MenuCode=tb1_delete.MenuCode AND tb2_delete.ButtonCode=tb1_delete.ButtonCode AND tb2_delete.RoleCode='super'
where tb1_delete.MenuCode = A.MenuCode and  tb1_delete.ButtonCode = 'delete'  
)as 'btn_delete' ,(
select case when max(tb1_download.ID) is null then -1 
            when max(tb2_download.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_download
left join sys_roleMenuButtonMap AS tb2_download ON tb2_download.MenuCode=tb1_download.MenuCode AND tb2_download.ButtonCode=tb1_download.ButtonCode AND tb2_download.RoleCode='super'
where tb1_download.MenuCode = A.MenuCode and  tb1_download.ButtonCode = 'download'  
)as 'btn_download' ,(
select case when max(tb1_edit.ID) is null then -1 
            when max(tb2_edit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_edit
left join sys_roleMenuButtonMap AS tb2_edit ON tb2_edit.MenuCode=tb1_edit.MenuCode AND tb2_edit.ButtonCode=tb1_edit.ButtonCode AND tb2_edit.RoleCode='super'
where tb1_edit.MenuCode = A.MenuCode and  tb1_edit.ButtonCode = 'edit'  
)as 'btn_edit' ,(
select case when max(tb1_export.ID) is null then -1 
            when max(tb2_export.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_export
left join sys_roleMenuButtonMap AS tb2_export ON tb2_export.MenuCode=tb1_export.MenuCode AND tb2_export.ButtonCode=tb1_export.ButtonCode AND tb2_export.RoleCode='super'
where tb1_export.MenuCode = A.MenuCode and  tb1_export.ButtonCode = 'export'  
)as 'btn_export' ,(
select case when max(tb1_import.ID) is null then -1 
            when max(tb2_import.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_import
left join sys_roleMenuButtonMap AS tb2_import ON tb2_import.MenuCode=tb1_import.MenuCode AND tb2_import.ButtonCode=tb1_import.ButtonCode AND tb2_import.RoleCode='super'
where tb1_import.MenuCode = A.MenuCode and  tb1_import.ButtonCode = 'import'  
)as 'btn_import' ,(
select case when max(tb1_print.ID) is null then -1 
            when max(tb2_print.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_print
left join sys_roleMenuButtonMap AS tb2_print ON tb2_print.MenuCode=tb1_print.MenuCode AND tb2_print.ButtonCode=tb1_print.ButtonCode AND tb2_print.RoleCode='super'
where tb1_print.MenuCode = A.MenuCode and  tb1_print.ButtonCode = 'print'  
)as 'btn_print' ,(
select case when max(tb1_refresh.ID) is null then -1 
            when max(tb2_refresh.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_refresh
left join sys_roleMenuButtonMap AS tb2_refresh ON tb2_refresh.MenuCode=tb1_refresh.MenuCode AND tb2_refresh.ButtonCode=tb1_refresh.ButtonCode AND tb2_refresh.RoleCode='super'
where tb1_refresh.MenuCode = A.MenuCode and  tb1_refresh.ButtonCode = 'refresh'  
)as 'btn_refresh' ,(
select case when max(tb1_save.ID) is null then -1 
            when max(tb2_save.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_save
left join sys_roleMenuButtonMap AS tb2_save ON tb2_save.MenuCode=tb1_save.MenuCode AND tb2_save.ButtonCode=tb1_save.ButtonCode AND tb2_save.RoleCode='super'
where tb1_save.MenuCode = A.MenuCode and  tb1_save.ButtonCode = 'save'  
)as 'btn_save' ,(
select case when max(tb1_search.ID) is null then -1 
            when max(tb2_search.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_search
left join sys_roleMenuButtonMap AS tb2_search ON tb2_search.MenuCode=tb1_search.MenuCode AND tb2_search.ButtonCode=tb1_search.ButtonCode AND tb2_search.RoleCode='super'
where tb1_search.MenuCode = A.MenuCode and  tb1_search.ButtonCode = 'search'  
)as 'btn_search' 
from sys_menu as A
left join sys_menu B on B.MenuCode = A.ParentCode
where A.IsEnable = 1
order by A.MenuSeq,A.MenuCode
2017-01-07 14:14:16,986 [7016] DEBUG Sys - select * from sys_roleMenuColumnMap where RoleCode = 'super'
2017-01-07 14:14:17,033 [9892] DEBUG Servicesys_permission - 获取动态列表
2017-01-07 14:14:17,033 [9892] DEBUG Sys - select A.*
,case when B.PermissionCode is null then 0 else 1           end as checked
,case when B.PermissionCode is null then 0 else B.IsDefault end as IsDefault from sys_permission A
left join sys_rolePermissionMap B on B.RoleCode='super' and B.PermissionCode = A.PermissionCode 
2017-01-07 14:14:24,883 [6844] DEBUG Sys - select * from sys_button order by ButtonSeq
2017-01-07 14:14:24,883 [6844] DEBUG Sys - select A.MenuName,A.MenuCode,A.ParentCode,A.IconClass as iconCls,B.MenuName as ParentName,(select 1 from sys_roleMenuMap tb_role where tb_role.RoleCode='super' and tb_role.MenuCode=A.MenuCode) as checked,(
select case when max(tb1_accredit.ID) is null then -1 
            when max(tb2_accredit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_accredit
left join sys_roleMenuButtonMap AS tb2_accredit ON tb2_accredit.MenuCode=tb1_accredit.MenuCode AND tb2_accredit.ButtonCode=tb1_accredit.ButtonCode AND tb2_accredit.RoleCode='super'
where tb1_accredit.MenuCode = A.MenuCode and  tb1_accredit.ButtonCode = 'accredit'  
)as 'btn_accredit' ,(
select case when max(tb1_add.ID) is null then -1 
            when max(tb2_add.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_add
left join sys_roleMenuButtonMap AS tb2_add ON tb2_add.MenuCode=tb1_add.MenuCode AND tb2_add.ButtonCode=tb1_add.ButtonCode AND tb2_add.RoleCode='super'
where tb1_add.MenuCode = A.MenuCode and  tb1_add.ButtonCode = 'add'  
)as 'btn_add' ,(
select case when max(tb1_audit.ID) is null then -1 
            when max(tb2_audit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_audit
left join sys_roleMenuButtonMap AS tb2_audit ON tb2_audit.MenuCode=tb1_audit.MenuCode AND tb2_audit.ButtonCode=tb1_audit.ButtonCode AND tb2_audit.RoleCode='super'
where tb1_audit.MenuCode = A.MenuCode and  tb1_audit.ButtonCode = 'audit'  
)as 'btn_audit' ,(
select case when max(tb1_browse.ID) is null then -1 
            when max(tb2_browse.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_browse
left join sys_roleMenuButtonMap AS tb2_browse ON tb2_browse.MenuCode=tb1_browse.MenuCode AND tb2_browse.ButtonCode=tb1_browse.ButtonCode AND tb2_browse.RoleCode='super'
where tb1_browse.MenuCode = A.MenuCode and  tb1_browse.ButtonCode = 'browse'  
)as 'btn_browse' ,(
select case when max(tb1_copy.ID) is null then -1 
            when max(tb2_copy.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_copy
left join sys_roleMenuButtonMap AS tb2_copy ON tb2_copy.MenuCode=tb1_copy.MenuCode AND tb2_copy.ButtonCode=tb1_copy.ButtonCode AND tb2_copy.RoleCode='super'
where tb1_copy.MenuCode = A.MenuCode and  tb1_copy.ButtonCode = 'copy'  
)as 'btn_copy' ,(
select case when max(tb1_delete.ID) is null then -1 
            when max(tb2_delete.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_delete
left join sys_roleMenuButtonMap AS tb2_delete ON tb2_delete.MenuCode=tb1_delete.MenuCode AND tb2_delete.ButtonCode=tb1_delete.ButtonCode AND tb2_delete.RoleCode='super'
where tb1_delete.MenuCode = A.MenuCode and  tb1_delete.ButtonCode = 'delete'  
)as 'btn_delete' ,(
select case when max(tb1_download.ID) is null then -1 
            when max(tb2_download.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_download
left join sys_roleMenuButtonMap AS tb2_download ON tb2_download.MenuCode=tb1_download.MenuCode AND tb2_download.ButtonCode=tb1_download.ButtonCode AND tb2_download.RoleCode='super'
where tb1_download.MenuCode = A.MenuCode and  tb1_download.ButtonCode = 'download'  
)as 'btn_download' ,(
select case when max(tb1_edit.ID) is null then -1 
            when max(tb2_edit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_edit
left join sys_roleMenuButtonMap AS tb2_edit ON tb2_edit.MenuCode=tb1_edit.MenuCode AND tb2_edit.ButtonCode=tb1_edit.ButtonCode AND tb2_edit.RoleCode='super'
where tb1_edit.MenuCode = A.MenuCode and  tb1_edit.ButtonCode = 'edit'  
)as 'btn_edit' ,(
select case when max(tb1_export.ID) is null then -1 
            when max(tb2_export.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_export
left join sys_roleMenuButtonMap AS tb2_export ON tb2_export.MenuCode=tb1_export.MenuCode AND tb2_export.ButtonCode=tb1_export.ButtonCode AND tb2_export.RoleCode='super'
where tb1_export.MenuCode = A.MenuCode and  tb1_export.ButtonCode = 'export'  
)as 'btn_export' ,(
select case when max(tb1_import.ID) is null then -1 
            when max(tb2_import.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_import
left join sys_roleMenuButtonMap AS tb2_import ON tb2_import.MenuCode=tb1_import.MenuCode AND tb2_import.ButtonCode=tb1_import.ButtonCode AND tb2_import.RoleCode='super'
where tb1_import.MenuCode = A.MenuCode and  tb1_import.ButtonCode = 'import'  
)as 'btn_import' ,(
select case when max(tb1_print.ID) is null then -1 
            when max(tb2_print.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_print
left join sys_roleMenuButtonMap AS tb2_print ON tb2_print.MenuCode=tb1_print.MenuCode AND tb2_print.ButtonCode=tb1_print.ButtonCode AND tb2_print.RoleCode='super'
where tb1_print.MenuCode = A.MenuCode and  tb1_print.ButtonCode = 'print'  
)as 'btn_print' ,(
select case when max(tb1_refresh.ID) is null then -1 
            when max(tb2_refresh.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_refresh
left join sys_roleMenuButtonMap AS tb2_refresh ON tb2_refresh.MenuCode=tb1_refresh.MenuCode AND tb2_refresh.ButtonCode=tb1_refresh.ButtonCode AND tb2_refresh.RoleCode='super'
where tb1_refresh.MenuCode = A.MenuCode and  tb1_refresh.ButtonCode = 'refresh'  
)as 'btn_refresh' ,(
select case when max(tb1_save.ID) is null then -1 
            when max(tb2_save.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_save
left join sys_roleMenuButtonMap AS tb2_save ON tb2_save.MenuCode=tb1_save.MenuCode AND tb2_save.ButtonCode=tb1_save.ButtonCode AND tb2_save.RoleCode='super'
where tb1_save.MenuCode = A.MenuCode and  tb1_save.ButtonCode = 'save'  
)as 'btn_save' ,(
select case when max(tb1_search.ID) is null then -1 
            when max(tb2_search.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_search
left join sys_roleMenuButtonMap AS tb2_search ON tb2_search.MenuCode=tb1_search.MenuCode AND tb2_search.ButtonCode=tb1_search.ButtonCode AND tb2_search.RoleCode='super'
where tb1_search.MenuCode = A.MenuCode and  tb1_search.ButtonCode = 'search'  
)as 'btn_search' 
from sys_menu as A
left join sys_menu B on B.MenuCode = A.ParentCode
where A.IsEnable = 1
order by A.MenuSeq,A.MenuCode
2017-01-07 14:14:24,885 [6844] DEBUG Sys - select * from sys_roleMenuColumnMap where RoleCode = 'super'
2017-01-07 14:14:24,927 [7016] DEBUG Servicesys_permission - 获取动态列表
2017-01-07 14:14:24,927 [7016] DEBUG Sys - select A.*
,case when B.PermissionCode is null then 0 else 1           end as checked
,case when B.PermissionCode is null then 0 else B.IsDefault end as IsDefault from sys_permission A
left join sys_rolePermissionMap B on B.RoleCode='super' and B.PermissionCode = A.PermissionCode 
2017-01-07 14:14:28,161 [9160] DEBUG Servicesys_role - 修改角色菜单权限
2017-01-07 14:14:28,170 [9160] DEBUG Sys - delete from sys_roleMenuMap where [RoleCode] = 'super'
2017-01-07 14:14:28,173 [9160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','13')
2017-01-07 14:14:28,178 [9160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1301')
2017-01-07 14:14:28,180 [9160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','14')
2017-01-07 14:14:28,181 [9160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1402')
2017-01-07 14:14:28,185 [9160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','140201')
2017-01-07 14:14:28,185 [9160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','98')
2017-01-07 14:14:28,185 [9160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9810')
2017-01-07 14:14:28,185 [9160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','99')
2017-01-07 14:14:28,186 [9160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9902')
2017-01-07 14:14:28,186 [9160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9903')
2017-01-07 14:14:28,186 [9160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9904')
2017-01-07 14:14:28,186 [9160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9905')
2017-01-07 14:14:28,186 [9160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9906')
2017-01-07 14:14:28,186 [9160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9907')
2017-01-07 14:14:28,186 [9160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9908')
2017-01-07 14:14:28,187 [9160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9909')
2017-01-07 14:14:28,187 [9160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9910')
2017-01-07 14:14:28,187 [9160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9911')
2017-01-07 14:14:28,189 [9160] DEBUG Servicesys_role - 修改角色菜单按钮权限
2017-01-07 14:14:28,190 [9160] DEBUG Sys - delete from sys_roleMenuButtonMap where [RoleCode] = 'super'
2017-01-07 14:14:28,191 [9160] DEBUG Sys - insert into sys_roleMenuButtonMap([RoleCode],[MenuCode],[ButtonCode]) values('super','9911','refresh')
2017-01-07 14:14:28,193 [9160] DEBUG Servicesys_role - 修改角色数据权限
2017-01-07 14:14:28,194 [9160] DEBUG Sys - delete from sys_rolePermissionMap where [RoleCode] = 'super'
2017-01-07 14:14:28,195 [9160] DEBUG Servicesys_role - 修改角色数据列权限
2017-01-07 14:14:28,196 [9160] DEBUG Sys - delete from sys_roleMenuColumnMap where [RoleCode] = 'super'
2017-01-07 14:14:30,743 [3848] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/ImageGrabbing/Index','/Pyn/ImageGrabbing')
2017-01-07 14:14:37,615 [7016] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/user/Index','/Sys/user')
2017-01-07 14:14:38,206 [3848] DEBUG Servicesys_organize - 获取实体列表
2017-01-07 14:14:38,206 [3848] DEBUG Sys - select sys_organize.* from sys_organize
2017-01-07 14:14:38,255 [9892] DEBUG Servicesys_user - 获取实体列表
2017-01-07 14:14:38,256 [9892] DEBUG Sys - select top 20 sys_user.* from sys_user order by UserSeq
2017-01-07 14:14:38,268 [9892] DEBUG Sys - select count(*) from ( select sys_user.* from sys_user ) tb_temp
2017-01-07 14:14:41,644 [6844] DEBUG Sys - 
select distinct A.OrganizeCode,A.OrganizeName,A.ParentCode
,(case when B.UserCode is null then 'false' else 'true' end) as Checked
from sys_organize A
left join sys_userOrganizeMap B on B.OrganizeCode = A.OrganizeCode and B.UserCode = 'guest'
2017-01-07 14:14:45,843 [6844] DEBUG Servicesys_user - 设置用户机构
2017-01-07 14:14:45,850 [6844] DEBUG Sys - delete from sys_userOrganizeMap where [UserCode] = 'guest'
2017-01-07 14:14:45,852 [6844] DEBUG Sys - insert into sys_userOrganizeMap([UserCode],[OrganizeCode]) values('guest','0116')
2017-01-07 14:14:45,853 [6844] DEBUG Sys - insert into sys_userOrganizeMap([UserCode],[OrganizeCode]) values('guest','011602')
2017-01-07 14:14:46,956 [9160] DEBUG Sys - 
select distinct A.RoleCode,A.RoleName
,(case when B.RoleCode is null then 'false' else 'true' end) as Checked
from sys_role A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode and B.UserCode = 'guest'
2017-01-07 14:14:48,256 [9892] DEBUG Servicesys_user - 设置用户角色
2017-01-07 14:14:48,257 [9892] DEBUG Sys - delete from sys_userRoleMap where [UserCode] = 'guest'
2017-01-07 14:14:48,258 [9892] DEBUG Sys - insert into sys_userRoleMap([UserCode],[RoleCode]) values('guest','super')
2017-01-07 14:14:56,376 [3848] DEBUG Servicesys_user - 编辑记录
2017-01-07 14:14:56,377 [3848] DEBUG Servicesys_user - 获取动态对象
2017-01-07 14:14:56,377 [3848] DEBUG Sys - select sys_user.* from sys_user where  UserCode =  'guest'
2017-01-07 14:14:56,379 [3848] DEBUG Sys - delete from sys_user where  UserCode =  'guest'
2017-01-07 14:14:56,382 [3848] ERROR Servicesys_user - 编辑记录失败
System.Exception: 数据已经被引用，更新失败，请先删除引用数据并重试！
   在 Zephyr.Core.Db.<Context>b__2(ErrorEventArgs e) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Core\Db.cs:行号 98
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 105
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.Execute() 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Data\Command\PartialClasses\Execute.cs:行号 9
   在 Zephyr.Data.BaseDeleteBuilder.Execute() 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Data\Builders\Delete\BaseDeleteBuilder.cs:行号 18
   在 Zephyr.Core.ServiceBase`1.<Edit>b__4f(RequestWrapper x) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 60
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass55.<Edit>b__52() 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 119
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
2017-01-07 14:14:56,410 [3848] ERROR /api/sys/user/edit - System.Exception: 数据已经被引用，更新失败，请先删除引用数据并重试！
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 23
   在 Zephyr.Core.ServiceBase`1.Edit(RequestWrapper formWrapper, RequestWrapper listWrapper, JObject data) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 68
   在 CallSite.Target(Closure , CallSite , sys_userService , Object , RequestWrapper , Object )
   在 System.Dynamic.UpdateDelegates.UpdateAndExecute4[T0,T1,T2,T3,TRet](CallSite site, T0 arg0, T1 arg1, T2 arg2, T3 arg3)
   在 Zephyr.Areas.Sys.Controllers.UserApiController.Edit(Object data) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Web\Areas\Sys\Controllers\UserController.cs:行号 74
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClassf.<GetExecutor>b__9(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
2017-01-07 14:15:01,591 [9160] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/user/Index','/Sys/user')
2017-01-07 14:15:01,859 [3848] DEBUG Servicesys_organize - 获取实体列表
2017-01-07 14:15:01,859 [3848] DEBUG Sys - select sys_organize.* from sys_organize
2017-01-07 14:15:01,998 [9892] DEBUG Servicesys_user - 获取实体列表
2017-01-07 14:15:01,999 [9892] DEBUG Sys - select top 20 sys_user.* from sys_user order by UserSeq
2017-01-07 14:15:01,999 [9892] DEBUG Sys - select count(*) from ( select sys_user.* from sys_user ) tb_temp
2017-01-07 14:15:03,314 [9160] DEBUG Sys - 
select distinct A.OrganizeCode,A.OrganizeName,A.ParentCode
,(case when B.UserCode is null then 'false' else 'true' end) as Checked
from sys_organize A
left join sys_userOrganizeMap B on B.OrganizeCode = A.OrganizeCode and B.UserCode = 'guest'
2017-01-07 14:15:08,243 [9892] DEBUG Servicesys_user - 设置用户机构
2017-01-07 14:15:08,244 [9892] DEBUG Sys - delete from sys_userOrganizeMap where [UserCode] = 'guest'
2017-01-07 14:15:09,978 [6844] DEBUG Sys - 
select distinct A.RoleCode,A.RoleName
,(case when B.RoleCode is null then 'false' else 'true' end) as Checked
from sys_role A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode and B.UserCode = 'guest'
2017-01-07 14:15:11,513 [9892] DEBUG Servicesys_user - 设置用户角色
2017-01-07 14:15:11,514 [9892] DEBUG Sys - delete from sys_userRoleMap where [UserCode] = 'guest'
2017-01-07 14:15:16,576 [9160] DEBUG Servicesys_user - 编辑记录
2017-01-07 14:15:16,576 [9160] DEBUG Servicesys_user - 获取动态对象
2017-01-07 14:15:16,577 [9160] DEBUG Sys - select sys_user.* from sys_user where  UserCode =  'guest'
2017-01-07 14:15:16,577 [9160] DEBUG Sys - delete from sys_user where  UserCode =  'guest'
2017-01-07 14:15:46,214 [9892] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/code/Index','/Sys/code')
2017-01-07 14:15:46,754 [9160] DEBUG Servicesys_codeType - 获取动态列表
2017-01-07 14:15:46,756 [9160] DEBUG Sys - select sys_codeType.* from sys_codeType order by Seq,CodeType
2017-01-07 14:15:46,864 [3848] DEBUG Servicesys_code - 获取实体列表
2017-01-07 14:15:46,864 [3848] DEBUG Sys - select top 20 sys_code.* from sys_code order by Seq
2017-01-07 14:15:46,873 [3848] DEBUG Sys - select count(*) from ( select sys_code.* from sys_code ) tb_temp
2017-01-07 14:15:52,009 [5600] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/log/Index','/Sys/log')
2017-01-07 14:15:52,783 [6844] DEBUG Servicesys_loginHistory - 获取实体列表
2017-01-07 14:15:52,784 [6844] DEBUG Sys - select top 20 
        A.*
     from 
        sys_loginHistory A
     order by A.ID desc
2017-01-07 14:15:52,794 [6844] DEBUG Sys - select count(*) from ( select 
        A.*
     from 
        sys_loginHistory A
     ) tb_temp
2017-01-07 14:15:52,838 [9160] DEBUG Servicesys_log - 获取实体列表
2017-01-07 14:15:52,839 [9160] DEBUG Sys - select top 20 
        A.*
     from 
        sys_log A
     order by A.ID desc
2017-01-07 14:15:52,847 [9160] DEBUG Sys - select count(*) from ( select 
        A.*
     from 
        sys_log A
     ) tb_temp
2017-01-07 14:15:57,092 [9160] DEBUG Servicesys_loginHistory - 获取实体列表
2017-01-07 14:15:57,093 [9160] DEBUG Sys - with PagedPersons as
								(
									select top 100 percent 
        A.*
    , row_number() over (order by A.ID desc) as FLUENTDATA_ROWNUMBER
									 from 
        sys_loginHistory A
    
								)
								select *
								from PagedPersons
								where fluentdata_RowNumber between 21 and 40
2017-01-07 14:15:57,095 [9160] DEBUG Sys - select count(*) from ( select 
        A.*
     from 
        sys_loginHistory A
     ) tb_temp
2017-01-07 14:15:59,131 [3848] DEBUG Servicesys_loginHistory - 获取实体列表
2017-01-07 14:15:59,131 [3848] DEBUG Sys - select top 20 
        A.*
     from 
        sys_loginHistory A
     order by A.ID desc
2017-01-07 14:15:59,133 [3848] DEBUG Sys - select count(*) from ( select 
        A.*
     from 
        sys_loginHistory A
     ) tb_temp
2017-01-07 14:16:00,414 [6844] DEBUG Servicesys_loginHistory - 获取实体列表
2017-01-07 14:16:00,414 [6844] DEBUG Sys - with PagedPersons as
								(
									select top 100 percent 
        A.*
    , row_number() over (order by A.ID desc) as FLUENTDATA_ROWNUMBER
									 from 
        sys_loginHistory A
    
								)
								select *
								from PagedPersons
								where fluentdata_RowNumber between 21 and 40
2017-01-07 14:16:00,415 [6844] DEBUG Sys - select count(*) from ( select 
        A.*
     from 
        sys_loginHistory A
     ) tb_temp
2017-01-07 14:16:03,580 [5600] DEBUG Servicesys_loginHistory - 获取实体列表
2017-01-07 14:16:03,580 [5600] DEBUG Sys - select top 20 
        A.*
     from 
        sys_loginHistory A
     order by A.ID desc
2017-01-07 14:16:03,580 [5600] DEBUG Sys - select count(*) from ( select 
        A.*
     from 
        sys_loginHistory A
     ) tb_temp
2017-01-07 14:16:07,246 [9892] DEBUG Servicesys_loginHistory - 获取实体列表
2017-01-07 14:16:07,246 [9892] DEBUG Sys - select top 20 
        A.*
     from 
        sys_loginHistory A
     where  datediff(day,'2017-01-07',LoginDate) >=0 and datediff(day,'2017-01-07',LoginDate)<=0 order by A.ID desc
2017-01-07 14:16:07,247 [5600] DEBUG Servicesys_log - 获取实体列表
2017-01-07 14:16:07,247 [5600] DEBUG Sys - select top 20 
        A.*
     from 
        sys_log A
     where  datediff(day,'2017-01-07',Date) >=0 and datediff(day,'2017-01-07',Date)<=0 order by A.ID desc
2017-01-07 14:16:07,248 [9892] DEBUG Sys - select count(*) from ( select 
        A.*
     from 
        sys_loginHistory A
     where  datediff(day,'2017-01-07',LoginDate) >=0 and datediff(day,'2017-01-07',LoginDate)<=0 ) tb_temp
2017-01-07 14:16:07,258 [5600] DEBUG Sys - select count(*) from ( select 
        A.*
     from 
        sys_log A
     where  datediff(day,'2017-01-07',Date) >=0 and datediff(day,'2017-01-07',Date)<=0 ) tb_temp
2017-01-07 14:16:21,647 [6844] DEBUG Servicesys_loginHistory - 获取实体列表
2017-01-07 14:16:21,649 [6844] DEBUG Sys - select top 20 
        A.*
     from 
        sys_loginHistory A
     order by A.ID desc
2017-01-07 14:16:21,650 [6844] DEBUG Sys - select count(*) from ( select 
        A.*
     from 
        sys_loginHistory A
     ) tb_temp
2017-01-07 14:16:21,664 [9160] DEBUG Servicesys_log - 获取实体列表
2017-01-07 14:16:21,665 [9160] DEBUG Sys - select top 20 
        A.*
     from 
        sys_log A
     order by A.ID desc
2017-01-07 14:16:21,676 [9160] DEBUG Sys - select count(*) from ( select 
        A.*
     from 
        sys_log A
     ) tb_temp
2017-01-07 14:17:02,204 [6844] DEBUG Servicesys_loginHistory - 获取实体列表
2017-01-07 14:17:02,204 [6844] DEBUG Sys - select top 20 
        A.*
     from 
        sys_loginHistory A
     where  datediff(day,'2017-01-01 ',LoginDate) >=0 and datediff(day,' 2017-01-07',LoginDate)<=0 order by A.ID desc
2017-01-07 14:17:02,214 [6844] DEBUG Sys - select count(*) from ( select 
        A.*
     from 
        sys_loginHistory A
     where  datediff(day,'2017-01-01 ',LoginDate) >=0 and datediff(day,' 2017-01-07',LoginDate)<=0 ) tb_temp
2017-01-07 14:17:02,215 [8096] DEBUG Servicesys_log - 获取实体列表
2017-01-07 14:17:02,215 [8096] DEBUG Sys - select top 20 
        A.*
     from 
        sys_log A
     where  datediff(day,'2017-01-01 ',Date) >=0 and datediff(day,' 2017-01-07',Date)<=0 order by A.ID desc
2017-01-07 14:17:02,219 [8096] DEBUG Sys - select count(*) from ( select 
        A.*
     from 
        sys_log A
     where  datediff(day,'2017-01-01 ',Date) >=0 and datediff(day,' 2017-01-07',Date)<=0 ) tb_temp
2017-01-07 14:17:06,836 [9892] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/backup/Index','/Sys/backup')
2017-01-07 14:17:38,386 [5600] DEBUG Sys - BACKUP LOG [Zephyr.Sys] WITH NO_LOG;BACKUP DATABASE [Zephyr.Sys] to DISK ='E:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Web\databases\20170107141738.bak'
2017-01-07 14:17:49,947 [9160] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2017-01-07 14:18:05,692 [8096] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/permission/Index','/Sys/permission')
2017-01-07 14:18:06,182 [9160] DEBUG Servicesys_permission - 获取动态列表
2017-01-07 14:18:06,182 [9160] DEBUG Sys - select A.*,B.PermissionName as ParentName from sys_permission A left join sys_permission B on B.PermissionCode = A.ParentCode
2017-01-07 14:18:17,391 [9160] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/parameter/Index','/Sys/parameter')
2017-01-07 14:18:17,921 [5600] DEBUG Servicesys_parameter - 获取实体列表
2017-01-07 14:18:17,922 [5600] DEBUG Sys - select top 20 sys_parameter.* from sys_parameter order by ParamCode
2017-01-07 14:18:17,929 [5600] DEBUG Sys - select count(*) from ( select sys_parameter.* from sys_parameter ) tb_temp
2017-01-07 14:18:40,304 [6844] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/CamaraType/Index','/Pyn/CamaraType')
2017-01-07 14:18:40,312 [6844] DEBUG Servicesys_code - 获取动态列表
2017-01-07 14:18:40,312 [6844] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'CamaraSerie'
2017-01-07 14:18:40,312 [6844] DEBUG Servicesys_code - 获取动态列表
2017-01-07 14:18:40,312 [6844] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'CamaraType'
2017-01-07 14:18:41,092 [8096] DEBUG ServiceCamaraType - 获取动态列表
2017-01-07 14:18:41,096 [8096] DEBUG Pyn - select top 20 * from CamaraType order by ID
2017-01-07 14:18:41,100 [8096] DEBUG Pyn - select count(*) from ( select * from CamaraType ) tb_temp
2017-01-07 14:19:06,712 [6844] DEBUG ServiceCamaraType - 获取新主键
2017-01-07 14:19:06,713 [6844] DEBUG Pyn - select isnull(max(ID),0) from CamaraType  where 1 = 1 
2017-01-07 14:19:17,929 [8096] DEBUG ServiceCamaraType - 编辑记录
2017-01-07 14:19:17,929 [8096] DEBUG ServiceCamaraType - 获取动态对象
2017-01-07 14:19:17,930 [8096] DEBUG Pyn - select 
        CamaraType
    .* from 
        CamaraType
     where  ID =  '3'
2017-01-07 14:19:17,934 [8096] DEBUG Pyn - insert into 
        CamaraType
    ([ID],[Serie],[Type],[Description],[IsEnable],[UpdatePerson],[UpdateDate],[CreatePerson],[CreateDate]) values('3','','','警方立即发生的解放军','true','许薛军','2017/1/7 14:19:17','许薛军','2017/1/7 14:19:17')
2017-01-07 14:19:17,937 [8096] ERROR ServiceCamaraType - 编辑记录失败
System.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'CamaraType' when IDENTITY_INSERT is set to OFF.
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.Execute() 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Data\Command\PartialClasses\Execute.cs:行号 9
   在 Zephyr.Data.BaseInsertBuilder.Execute() 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Data\Builders\Insert\BaseInsertBuilder.cs:行号 22
   在 Zephyr.Core.ServiceBase`1.<Edit>b__51(RequestWrapper x) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 62
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass55.<Edit>b__52() 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 119
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:faa07382-2df0-4373-bfb6-b6886c307593
Error Number:544,State:1,Class:16
2017-01-07 14:19:17,952 [8096] ERROR /api/Pyn/CamaraType/getedit - System.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'CamaraType' when IDENTITY_INSERT is set to OFF.
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 23
   在 Zephyr.Core.ServiceBase`1.Edit(RequestWrapper formWrapper, RequestWrapper listWrapper, JObject data) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 68
   在 CallSite.Target(Closure , CallSite , CamaraTypeService , Object , RequestWrapper , Object )
   在 System.Dynamic.UpdateDelegates.UpdateAndExecute4[T0,T1,T2,T3,TRet](CallSite site, T0 arg0, T1 arg1, T2 arg2, T3 arg3)
   在 Zephyr.Areas.Pyn.Controllers.CamaraTypeApiController.GetEdit(Object data) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Web\Areas\Pyn\Controllers\CamaraTypeController.cs:行号 116
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClassf.<GetExecutor>b__9(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:faa07382-2df0-4373-bfb6-b6886c307593
Error Number:544,State:1,Class:16
2017-01-07 14:19:25,414 [6844] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/CamaraType/Index','/Pyn/CamaraType')
2017-01-07 14:19:25,415 [6844] DEBUG Servicesys_code - 获取动态列表
2017-01-07 14:19:25,416 [6844] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'CamaraSerie'
2017-01-07 14:19:25,416 [6844] DEBUG Servicesys_code - 获取动态列表
2017-01-07 14:19:25,416 [6844] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'CamaraType'
2017-01-07 14:19:25,888 [6720] DEBUG ServiceCamaraType - 获取动态列表
2017-01-07 14:19:25,889 [6720] DEBUG Pyn - select top 20 * from CamaraType order by ID
2017-01-07 14:19:25,889 [6720] DEBUG Pyn - select count(*) from ( select * from CamaraType ) tb_temp
2017-01-07 14:20:42,096 [9160] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/CamaraType/Index','/Pyn/CamaraType')
2017-01-07 14:20:42,100 [9160] DEBUG Servicesys_code - 获取动态列表
2017-01-07 14:20:42,100 [9160] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'CamaraSerie'
2017-01-07 14:20:42,101 [9160] DEBUG Servicesys_code - 获取动态列表
2017-01-07 14:20:42,101 [9160] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'CamaraType'
2017-01-07 14:20:42,824 [5600] DEBUG ServiceCamaraType - 获取动态列表
2017-01-07 14:20:42,824 [5600] DEBUG Pyn - select top 20 * from CamaraType order by ID
2017-01-07 14:20:42,825 [5600] DEBUG Pyn - select count(*) from ( select * from CamaraType ) tb_temp
2017-01-07 14:20:46,923 [6844] DEBUG ServiceCamaraType - 获取动态列表
2017-01-07 14:20:46,924 [6844] DEBUG Pyn - select top 20 * from CamaraType where  Serie =  '109'and IsEnable =  'True' order by ID
2017-01-07 14:20:46,929 [6844] DEBUG Pyn - select count(*) from ( select * from CamaraType where  Serie =  '109'and IsEnable =  'True' ) tb_temp
2017-01-07 14:20:56,148 [6720] DEBUG ServiceCamaraType - 获取动态列表
2017-01-07 14:20:56,151 [6720] DEBUG Pyn - select top 20 * from CamaraType where  Serie =  '110'and IsEnable =  'True' order by ID
2017-01-07 14:20:56,153 [6720] DEBUG Pyn - select count(*) from ( select * from CamaraType where  Serie =  '110'and IsEnable =  'True' ) tb_temp
2017-01-07 14:21:01,864 [9160] DEBUG ServiceCamaraType - 获取动态列表
2017-01-07 14:21:01,864 [9160] DEBUG Pyn - select top 20 * from CamaraType where  Serie =  '109'and IsEnable =  'True' order by ID
2017-01-07 14:21:01,867 [9160] DEBUG Pyn - select count(*) from ( select * from CamaraType where  Serie =  '109'and IsEnable =  'True' ) tb_temp
2017-01-07 14:21:13,029 [9160] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/CamaraType/Index','/Pyn/CamaraType')
2017-01-07 14:21:13,030 [9160] DEBUG Servicesys_code - 获取动态列表
2017-01-07 14:21:13,030 [9160] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'CamaraSerie'
2017-01-07 14:21:13,030 [9160] DEBUG Servicesys_code - 获取动态列表
2017-01-07 14:21:13,030 [9160] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'CamaraType'
2017-01-07 14:21:13,481 [6720] DEBUG ServiceCamaraType - 获取动态列表
2017-01-07 14:21:13,481 [6720] DEBUG Pyn - select top 20 * from CamaraType order by ID
2017-01-07 14:21:13,482 [6720] DEBUG Pyn - select count(*) from ( select * from CamaraType ) tb_temp
2017-01-07 14:21:20,450 [8088] DEBUG ServiceCamaraType - 获取动态列表
2017-01-07 14:21:20,450 [8088] DEBUG Pyn - select top 20 * from CamaraType where  Serie =  '109'and IsEnable =  'True' order by ID
2017-01-07 14:21:20,452 [8088] DEBUG Pyn - select count(*) from ( select * from CamaraType where  Serie =  '109'and IsEnable =  'True' ) tb_temp
2017-01-07 14:21:29,771 [6720] DEBUG ServiceCamaraType - 获取动态列表
2017-01-07 14:21:29,771 [6720] DEBUG Pyn - select top 20 * from CamaraType where  Serie =  '110'and IsEnable =  'true' order by ID
2017-01-07 14:21:29,772 [6720] DEBUG Pyn - select count(*) from ( select * from CamaraType where  Serie =  '110'and IsEnable =  'true' ) tb_temp
2017-01-07 14:21:45,225 [8088] DEBUG ServiceCamaraType - 获取动态列表
2017-01-07 14:21:45,225 [8088] DEBUG Pyn - select top 20 * from CamaraType where  Serie =  '110'and Type =  '111'and IsEnable =  'true' order by ID
2017-01-07 14:21:45,227 [8088] DEBUG Pyn - select count(*) from ( select * from CamaraType where  Serie =  '110'and Type =  '111'and IsEnable =  'true' ) tb_temp
2017-01-07 14:21:46,107 [5600] DEBUG ServiceCamaraType - 获取动态列表
2017-01-07 14:21:46,107 [5600] DEBUG Pyn - select top 20 * from CamaraType where  Serie =  '110'and Type =  '111'and IsEnable =  'true' order by ID
2017-01-07 14:21:46,107 [5600] DEBUG Pyn - select count(*) from ( select * from CamaraType where  Serie =  '110'and Type =  '111'and IsEnable =  'true' ) tb_temp
2017-01-07 14:21:48,408 [8088] DEBUG ServiceCamaraType - 获取动态列表
2017-01-07 14:21:48,408 [8088] DEBUG Pyn - select top 20 * from CamaraType where  Serie =  '110'and Type =  '112'and IsEnable =  'true' order by ID
2017-01-07 14:21:48,412 [8088] DEBUG Pyn - select count(*) from ( select * from CamaraType where  Serie =  '110'and Type =  '112'and IsEnable =  'true' ) tb_temp
2017-01-07 14:21:51,390 [6844] DEBUG ServiceCamaraType - 获取新主键
2017-01-07 14:21:51,390 [6844] DEBUG Pyn - select isnull(max(ID),0) from CamaraType  where 1 = 1 
2017-01-07 14:21:59,687 [8088] DEBUG ServiceCamaraType - 编辑记录
2017-01-07 14:21:59,687 [8088] DEBUG ServiceCamaraType - 获取动态对象
2017-01-07 14:21:59,688 [8088] DEBUG Pyn - select 
        CamaraType
    .* from 
        CamaraType
     where  ID =  '4'
2017-01-07 14:21:59,689 [8088] DEBUG Pyn - insert into 
        CamaraType
    ([ID],[Serie],[Type],[Description],[IsEnable],[UpdatePerson],[UpdateDate],[CreatePerson],[CreateDate]) values('4','','','洛杉矶方解石粉','true','许薛军','2017/1/7 14:21:59','许薛军','2017/1/7 14:21:59')
2017-01-07 14:21:59,691 [8088] ERROR ServiceCamaraType - 编辑记录失败
System.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'CamaraType' when IDENTITY_INSERT is set to OFF.
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.Execute() 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Data\Command\PartialClasses\Execute.cs:行号 9
   在 Zephyr.Data.BaseInsertBuilder.Execute() 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Data\Builders\Insert\BaseInsertBuilder.cs:行号 22
   在 Zephyr.Core.ServiceBase`1.<Edit>b__51(RequestWrapper x) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 62
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass55.<Edit>b__52() 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 119
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:faa07382-2df0-4373-bfb6-b6886c307593
Error Number:544,State:1,Class:16
2017-01-07 14:21:59,700 [8088] ERROR /api/Pyn/CamaraType/getedit - System.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'CamaraType' when IDENTITY_INSERT is set to OFF.
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 23
   在 Zephyr.Core.ServiceBase`1.Edit(RequestWrapper formWrapper, RequestWrapper listWrapper, JObject data) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 68
   在 CallSite.Target(Closure , CallSite , CamaraTypeService , Object , RequestWrapper , Object )
   在 Zephyr.Areas.Pyn.Controllers.CamaraTypeApiController.GetEdit(Object data) 位置 e:\BaiduYunDownload\asp.net+Web+mvc4.0 EasyUI 最新 权限管理系统源码教程\BN089-BS开发框架MVC4版\source20131023\Zephyr.Web\Areas\Pyn\Controllers\CamaraTypeController.cs:行号 116
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClassf.<GetExecutor>b__9(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:faa07382-2df0-4373-bfb6-b6886c307593
Error Number:544,State:1,Class:16
2017-01-07 14:23:47,494 [9160] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/ImageGrabbing/Index','/Pyn/ImageGrabbing')
2017-01-07 14:23:54,208 [1836] DEBUG Sys - select * from sys_button order by ButtonSeq
2017-01-07 14:23:54,209 [1836] DEBUG Sys - select A.MenuName,A.MenuCode,A.ParentCode,A.IconClass as iconCls,B.MenuName as ParentName,(select 1 from sys_roleMenuMap tb_role where tb_role.RoleCode='super' and tb_role.MenuCode=A.MenuCode) as checked,(
select case when max(tb1_accredit.ID) is null then -1 
            when max(tb2_accredit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_accredit
left join sys_roleMenuButtonMap AS tb2_accredit ON tb2_accredit.MenuCode=tb1_accredit.MenuCode AND tb2_accredit.ButtonCode=tb1_accredit.ButtonCode AND tb2_accredit.RoleCode='super'
where tb1_accredit.MenuCode = A.MenuCode and  tb1_accredit.ButtonCode = 'accredit'  
)as 'btn_accredit' ,(
select case when max(tb1_add.ID) is null then -1 
            when max(tb2_add.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_add
left join sys_roleMenuButtonMap AS tb2_add ON tb2_add.MenuCode=tb1_add.MenuCode AND tb2_add.ButtonCode=tb1_add.ButtonCode AND tb2_add.RoleCode='super'
where tb1_add.MenuCode = A.MenuCode and  tb1_add.ButtonCode = 'add'  
)as 'btn_add' ,(
select case when max(tb1_audit.ID) is null then -1 
            when max(tb2_audit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_audit
left join sys_roleMenuButtonMap AS tb2_audit ON tb2_audit.MenuCode=tb1_audit.MenuCode AND tb2_audit.ButtonCode=tb1_audit.ButtonCode AND tb2_audit.RoleCode='super'
where tb1_audit.MenuCode = A.MenuCode and  tb1_audit.ButtonCode = 'audit'  
)as 'btn_audit' ,(
select case when max(tb1_browse.ID) is null then -1 
            when max(tb2_browse.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_browse
left join sys_roleMenuButtonMap AS tb2_browse ON tb2_browse.MenuCode=tb1_browse.MenuCode AND tb2_browse.ButtonCode=tb1_browse.ButtonCode AND tb2_browse.RoleCode='super'
where tb1_browse.MenuCode = A.MenuCode and  tb1_browse.ButtonCode = 'browse'  
)as 'btn_browse' ,(
select case when max(tb1_copy.ID) is null then -1 
            when max(tb2_copy.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_copy
left join sys_roleMenuButtonMap AS tb2_copy ON tb2_copy.MenuCode=tb1_copy.MenuCode AND tb2_copy.ButtonCode=tb1_copy.ButtonCode AND tb2_copy.RoleCode='super'
where tb1_copy.MenuCode = A.MenuCode and  tb1_copy.ButtonCode = 'copy'  
)as 'btn_copy' ,(
select case when max(tb1_delete.ID) is null then -1 
            when max(tb2_delete.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_delete
left join sys_roleMenuButtonMap AS tb2_delete ON tb2_delete.MenuCode=tb1_delete.MenuCode AND tb2_delete.ButtonCode=tb1_delete.ButtonCode AND tb2_delete.RoleCode='super'
where tb1_delete.MenuCode = A.MenuCode and  tb1_delete.ButtonCode = 'delete'  
)as 'btn_delete' ,(
select case when max(tb1_download.ID) is null then -1 
            when max(tb2_download.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_download
left join sys_roleMenuButtonMap AS tb2_download ON tb2_download.MenuCode=tb1_download.MenuCode AND tb2_download.ButtonCode=tb1_download.ButtonCode AND tb2_download.RoleCode='super'
where tb1_download.MenuCode = A.MenuCode and  tb1_download.ButtonCode = 'download'  
)as 'btn_download' ,(
select case when max(tb1_edit.ID) is null then -1 
            when max(tb2_edit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_edit
left join sys_roleMenuButtonMap AS tb2_edit ON tb2_edit.MenuCode=tb1_edit.MenuCode AND tb2_edit.ButtonCode=tb1_edit.ButtonCode AND tb2_edit.RoleCode='super'
where tb1_edit.MenuCode = A.MenuCode and  tb1_edit.ButtonCode = 'edit'  
)as 'btn_edit' ,(
select case when max(tb1_export.ID) is null then -1 
            when max(tb2_export.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_export
left join sys_roleMenuButtonMap AS tb2_export ON tb2_export.MenuCode=tb1_export.MenuCode AND tb2_export.ButtonCode=tb1_export.ButtonCode AND tb2_export.RoleCode='super'
where tb1_export.MenuCode = A.MenuCode and  tb1_export.ButtonCode = 'export'  
)as 'btn_export' ,(
select case when max(tb1_import.ID) is null then -1 
            when max(tb2_import.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_import
left join sys_roleMenuButtonMap AS tb2_import ON tb2_import.MenuCode=tb1_import.MenuCode AND tb2_import.ButtonCode=tb1_import.ButtonCode AND tb2_import.RoleCode='super'
where tb1_import.MenuCode = A.MenuCode and  tb1_import.ButtonCode = 'import'  
)as 'btn_import' ,(
select case when max(tb1_print.ID) is null then -1 
            when max(tb2_print.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_print
left join sys_roleMenuButtonMap AS tb2_print ON tb2_print.MenuCode=tb1_print.MenuCode AND tb2_print.ButtonCode=tb1_print.ButtonCode AND tb2_print.RoleCode='super'
where tb1_print.MenuCode = A.MenuCode and  tb1_print.ButtonCode = 'print'  
)as 'btn_print' ,(
select case when max(tb1_refresh.ID) is null then -1 
            when max(tb2_refresh.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_refresh
left join sys_roleMenuButtonMap AS tb2_refresh ON tb2_refresh.MenuCode=tb1_refresh.MenuCode AND tb2_refresh.ButtonCode=tb1_refresh.ButtonCode AND tb2_refresh.RoleCode='super'
where tb1_refresh.MenuCode = A.MenuCode and  tb1_refresh.ButtonCode = 'refresh'  
)as 'btn_refresh' ,(
select case when max(tb1_save.ID) is null then -1 
            when max(tb2_save.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_save
left join sys_roleMenuButtonMap AS tb2_save ON tb2_save.MenuCode=tb1_save.MenuCode AND tb2_save.ButtonCode=tb1_save.ButtonCode AND tb2_save.RoleCode='super'
where tb1_save.MenuCode = A.MenuCode and  tb1_save.ButtonCode = 'save'  
)as 'btn_save' ,(
select case when max(tb1_search.ID) is null then -1 
            when max(tb2_search.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_search
left join sys_roleMenuButtonMap AS tb2_search ON tb2_search.MenuCode=tb1_search.MenuCode AND tb2_search.ButtonCode=tb1_search.ButtonCode AND tb2_search.RoleCode='super'
where tb1_search.MenuCode = A.MenuCode and  tb1_search.ButtonCode = 'search'  
)as 'btn_search' 
from sys_menu as A
left join sys_menu B on B.MenuCode = A.ParentCode
where A.IsEnable = 1
order by A.MenuSeq,A.MenuCode
2017-01-07 14:23:54,252 [1836] DEBUG Sys - select * from sys_roleMenuColumnMap where RoleCode = 'super'
2017-01-07 14:23:54,257 [5600] DEBUG Servicesys_permission - 获取动态列表
2017-01-07 14:23:54,260 [5600] DEBUG Sys - select A.*
,case when B.PermissionCode is null then 0 else 1           end as checked
,case when B.PermissionCode is null then 0 else B.IsDefault end as IsDefault from sys_permission A
left join sys_rolePermissionMap B on B.RoleCode='super' and B.PermissionCode = A.PermissionCode 
2017-01-07 14:23:56,373 [9160] DEBUG Servicesys_role - 修改角色菜单权限
2017-01-07 14:23:56,374 [9160] DEBUG Sys - delete from sys_roleMenuMap where [RoleCode] = 'super'
2017-01-07 14:23:56,375 [9160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','13')
2017-01-07 14:23:56,376 [9160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1301')
2017-01-07 14:23:56,378 [9160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','14')
2017-01-07 14:23:56,378 [9160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1401')
2017-01-07 14:23:56,378 [9160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1402')
2017-01-07 14:23:56,378 [9160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','140201')
2017-01-07 14:23:56,379 [9160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','98')
2017-01-07 14:23:56,379 [9160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9810')
2017-01-07 14:23:56,380 [9160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','99')
2017-01-07 14:23:56,380 [9160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9902')
2017-01-07 14:23:56,380 [9160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9903')
2017-01-07 14:23:56,380 [9160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9904')
2017-01-07 14:23:56,380 [9160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9905')
2017-01-07 14:23:56,380 [9160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9906')
2017-01-07 14:23:56,380 [9160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9907')
2017-01-07 14:23:56,380 [9160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9908')
2017-01-07 14:23:56,381 [9160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9909')
2017-01-07 14:23:56,381 [9160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9910')
2017-01-07 14:23:56,381 [9160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9911')
2017-01-07 14:23:56,382 [9160] DEBUG Servicesys_role - 修改角色菜单按钮权限
2017-01-07 14:23:56,382 [9160] DEBUG Sys - delete from sys_roleMenuButtonMap where [RoleCode] = 'super'
2017-01-07 14:23:56,383 [9160] DEBUG Sys - insert into sys_roleMenuButtonMap([RoleCode],[MenuCode],[ButtonCode]) values('super','9911','refresh')
2017-01-07 14:23:56,387 [9160] DEBUG Servicesys_role - 修改角色数据权限
2017-01-07 14:23:56,388 [9160] DEBUG Sys - delete from sys_rolePermissionMap where [RoleCode] = 'super'
2017-01-07 14:23:56,390 [9160] DEBUG Servicesys_role - 修改角色数据列权限
2017-01-07 14:23:56,390 [9160] DEBUG Sys - delete from sys_roleMenuColumnMap where [RoleCode] = 'super'
2017-01-07 14:24:00,919 [1836] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/ImageGrabbing/Index','/Pyn/ImageGrabbing')
2017-01-07 14:24:00,929 [1836] DEBUG Servicesys_code - 获取动态列表
2017-01-07 14:24:00,929 [1836] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'CamaraSerie'
2017-01-07 14:24:00,932 [1836] DEBUG Servicesys_code - 获取动态列表
2017-01-07 14:24:00,932 [1836] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'ImageGrabbing'
2017-01-07 14:24:56,427 [6844] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/ImageUpload/Index','/Pyn/ImageUpload')
2017-01-07 14:25:03,654 [9160] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/ImageUpload/Upload')
2017-01-07 14:25:41,885 [9160] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/ImageUpload/Upload')
2017-01-07 14:26:32,567 [9160] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/CamaraType/Index','/Pyn/CamaraType')
2017-01-07 14:26:32,569 [9160] DEBUG Servicesys_code - 获取动态列表
2017-01-07 14:26:32,569 [9160] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'CamaraSerie'
2017-01-07 14:26:32,572 [9160] DEBUG Servicesys_code - 获取动态列表
2017-01-07 14:26:32,572 [9160] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'CamaraType'
2017-01-07 14:26:33,119 [5600] DEBUG ServiceCamaraType - 获取动态列表
2017-01-07 14:26:33,119 [5600] DEBUG Pyn - select top 20 * from CamaraType order by ID
2017-01-07 14:26:33,122 [5600] DEBUG Pyn - select count(*) from ( select * from CamaraType ) tb_temp
2017-01-07 14:26:40,167 [5600] DEBUG ServiceCamaraType - 获取动态列表
2017-01-07 14:26:40,167 [5600] DEBUG Pyn - select top 20 * from CamaraType order by ID
2017-01-07 14:26:40,169 [5600] DEBUG Pyn - select count(*) from ( select * from CamaraType ) tb_temp
2017-01-07 14:26:49,429 [9160] DEBUG ServiceCamaraType - 编辑记录
2017-01-07 14:26:49,431 [9160] DEBUG ServiceCamaraType - 获取动态对象
2017-01-07 14:26:49,440 [9160] DEBUG Pyn - select 
        CamaraType
    .* from 
        CamaraType
     where  ID =  '1'
2017-01-07 14:26:49,444 [9160] DEBUG Pyn - update 
        CamaraType
     set [Serie] = '109', [Type] = '111', [Description] = '性价比高，最低200万像素', [IsEnable] = 'true', [CreatePerson] = '许薛军', [CreateDate] = '2016/12/23 0:43:38', [UpdatePerson] = '许薛军', [UpdateDate] = '2017/1/7 14:26:49' where  ID =  '1'
2017-01-07 14:26:51,599 [4572] DEBUG ServiceCamaraType - 获取动态列表
2017-01-07 14:26:51,605 [4572] DEBUG Pyn - select top 20 * from CamaraType order by ID
2017-01-07 14:26:51,606 [4572] DEBUG Pyn - select count(*) from ( select * from CamaraType ) tb_temp
2017-01-07 14:27:07,048 [1836] DEBUG ServiceModelBase - 获取动态列表
2017-01-07 14:27:07,048 [1836] DEBUG Pyn - select top 20 
    ProjectName as text,ProjectCode as value
   from 
    ProjectInfo
   order by ProjectCode
2017-01-07 14:27:07,055 [1836] DEBUG Pyn - select count(*) from ( select 
    ProjectName as text,ProjectCode as value
   from 
    ProjectInfo
   ) tb_temp
2017-01-07 14:27:26,036 [5600] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Pyn/CamaraType/Index','/Pyn/CamaraType')
2017-01-07 14:27:26,037 [5600] DEBUG Servicesys_code - 获取动态列表
2017-01-07 14:27:26,037 [5600] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'CamaraSerie'
2017-01-07 14:27:26,039 [5600] DEBUG Servicesys_code - 获取动态列表
2017-01-07 14:27:26,039 [5600] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'CamaraType'
2017-01-07 14:27:26,482 [1836] DEBUG ServiceCamaraType - 获取动态列表
2017-01-07 14:27:26,483 [1836] DEBUG Pyn - select top 20 * from CamaraType order by ID
2017-01-07 14:27:26,483 [1836] DEBUG Pyn - select count(*) from ( select * from CamaraType ) tb_temp
